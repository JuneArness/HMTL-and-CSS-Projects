/**
GIT TAG: 1.9.21-build15
GIT REVISION: cf0de47
JWPLAYER VERSION: 8.11.8
**/
!function(){function e(t,n,i){function a(r,s){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[r]={exports:{}};t[r][0].call(d.exports,function(e){return a(t[r][1][e]||e)},d,d.exports,e,t,n,i)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}return e}()({1:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=function(e){if(!(this instanceof o))return new o(e);o.super_.apply(this,arguments)};i.inherits(o,a),bmBaseConfig=o.prototype,bmBaseConfig.setSubConfigs=bmBaseConfig.setSubModels,bmBaseConfig.setConfig=bmBaseConfig.setData,t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6}],2:[function(e,t,n){"use strict";var i=function(e){if(!(this instanceof i))return new i(e);this.name=this.constructor.name||this.name,this.message=e||this.name};!function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}(i,Error),t.exports=i},{}],3:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("./exceptions/bm-base-event"),o=e("events").EventEmitter,r=function(){if(!(this instanceof r))return new r;r.super_.call(this);var e=new o;e.setMaxListeners(20),Object.defineProperty(this,"_em",{enumerable:!1,get:function(){return e},set:function(){throw new a(a.READONLY)}})};i.inherits(r,i);var s=r.prototype;s.init=i.abstractMethod,s.on=function(){this._em.on.apply(this._em,arguments)},s.once=function(){this._em.once.apply(this._em,arguments)},s.off=function(){arguments.length>1?this._em.removeListener.apply(this._em,arguments):this._em.removeAllListeners.apply(this._em,arguments)},s.emit=s=function(){1===arguments.length?this._em.emit.call(this._em,arguments[0]):this._em.emit.apply(this._em,arguments)},t.exports=r},{"./exceptions/bm-base-event":4,"@bellmedia/bm-base":11,events:268}],4:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base-error"),a=e("@bellmedia/bm-base"),o=function(e){o.super_.apply(this,arguments)};a.inherits(o,i),o.READONLY="You can't set this memeber.",t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-error":2}],5:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=function(){if(!(this instanceof a))return new a;a.super_.call(this)};i.inherits(a,i),t.exports=a},{"@bellmedia/bm-base":11}],6:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("./exceptions/bm-base-model"),o=e("./events/sync"),r=o,s=e("bluebird"),l=e("underscore"),c=function(e){if(!(this instanceof c))return new c(e);c.super_.call(this),this.eventSync=r(),e&&e.isMutable&&(this._isMutable=e.isMutable),e&&e.data&&this.setDefault(e.data)};i.inherits(c,i),bmModel=c.prototype,c.EVENT_DATA_UPDATED=o.EVENT_DATA_UPDATED,c.EVENT_FETCH_FAILED=o.EVENT_FETCH_FAILED,Object.defineProperty(bmModel,"_data",{value:void 0,enumerable:!1,writable:!0}),Object.defineProperty(bmModel,"data",{enumerable:!0,get:function(){return this._data},set:function(){throw new a(a.READONLY)}}),Object.defineProperty(bmModel,"_subModels",{value:[],enumerable:!1,writable:!0}),bmModel._isMutable=!1,bmModel.setDefault=function(e){return this._data="object"!=typeof e||null===e?e:Array.isArray(e)?l.extend([],e):l.extend({},e),this.setDefault=d.errorOnSetDefault,this},bmModel.setSubModels=function(e){if(!Array.isArray(e))throw new a(a.SET_SUBMODELS);return this._subModels=e,this},bmModel.setData=function(e,t){if(this._data="object"!=typeof e||null===e?e:Array.isArray(e)?l.extend([],e):l.extend({},e),"object"!=typeof this._data||this._isMutable)try{c._deepUnfreeze(this._data)}catch(e){}else try{c._deepFreeze(this._data)}catch(e){}return this.setDefault=d.errorOnSetDefault,this.eventSync.emit(c.EVENT_DATA_UPDATED,t),this};var d={errorOnSetDefault:function(){throw new a(a.DEFAULT_ONCE)}};bmModel.fetch=function(e){var t=this,n=function(){return new s(function(n,i){t.sync(function(a,o){a?(t.eventSync.emit(c.EVENT_FETCH_FAILED,a,e),i(a)):(t.setData(o,e),n())})})};return new s(function(i,a){var o=[];l.each(t._subModels,function(t){o.push(t.fetch(e))}),s.all(o).then(function(){n().then(function(){i(t)}).catch(a)},function(e){a(e)})})},bmModel.sync=function(e){e(null,this._data)},bmModel.on=function(){this.eventSync.on.apply(this.eventSync,arguments)},bmModel.once=function(){this.eventSync.once.apply(this.eventSync,arguments)},bmModel.off=function(){this.eventSync.off.apply(this.eventSync,arguments)},c._deepFreeze=function(e){if(!e.constructor.name)return e;Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];"Object"!==n.constructor.name&&"boolean"!=typeof n&&"number"!=typeof n&&"string"!=typeof n&&void 0!==n||Object.defineProperty(e,t,{writable:!1}),n.constructor.name,"object"!=typeof n||null===n||"Object"!==n.constructor.name&&"Array"!==n.constructor.name||c._deepFreeze(n)})},c._deepUnfreeze=function(e){if(!e.constructor.name)return e;Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];"Object"!==n.constructor.name&&"boolean"!=typeof n&&"number"!=typeof n&&"string"!=typeof n&&void 0!==n||Object.defineProperty(e,t,{writable:!0}),"object"!=typeof n||null===n||"Object"!==n.constructor.name&&"Array"!==n.constructor.name||c._deepUnfreeze(n)})},t.exports=c},{"./events/sync":7,"./exceptions/bm-base-model":8,"@bellmedia/bm-base":11,bluebird:16,underscore:32}],7:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-event"),o=function(){if(!(this instanceof o))return new o;o.super_.apply(this,arguments)};i.inherits(o,a),o.EVENT_DATA_UPDATED="model-data-updated",o.EVENT_FETCH_FAILED="model-fetch-failed",o.prototype.init=function(){},t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3}],8:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base-error"),a=e("@bellmedia/bm-base"),o=function(e){o.super_.apply(this,arguments)};a.inherits(o,i),o.READONLY_DATA="Read only, you can set this value by setData()",o.DEFAULT_ONCE="setDefault() can be called only one time in Model.",o.SET_SUBMODELS="setSubModels() takes only array of BMBaseModel.",t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-error":2}],9:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=function(){if(!(this instanceof a))return new a;a.super_.call(this)};i.inherits(a,i),t.exports=a},{"@bellmedia/bm-base":11}],10:[function(e,t,n){(function(n){(function(){var i=e("@bellmedia/bm-base"),a=e("underscore"),o="undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null,r=function(e){if(!(this instanceof r))return new r(e);r.super_.call(this),this._options=a.extend({tagName:"div",className:void 0,id:void 0},this._options,e),this.$el=o("<"+this._options.tagName+"></"+this._options.tagName+">"),this.el=this.$el.get(0),Object.defineProperty(this,"$el",{writable:!1,enumerable:!0}),this._options.className&&this.$el.addClass(this._options.className),this._options.id&&this.$el.attr("id",this._options.id)};i.inherits(r,i);var s=r.prototype;s._options={},s.el=void 0,s.$el=void 0,s.render=i.abstractMethod,s.$=function(e){return this.$el.find(e)},s.compile=function(e,t){return a.template(e)(t)},s.getClassName=function(){return this._options.className},s.getId=function(){return this._options.id},t.exports=r}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@bellmedia/bm-base":11,underscore:32}],11:[function(e,t,n){"use strict";var i=e("./exceptions/bm-base.js"),a=e("./helper"),o=function(){if(!(this instanceof o))return new o};o.abstractMethod=function(){throw new i.BMErrorAbstract},o.inherits=a.inherits,t.exports=o},{"./exceptions/bm-base.js":12,"./helper":13}],12:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base-error"),a=e("../helper"),o=function(e){o.super_.apply(this,arguments),this.message="Implement the abstract method"};a.inherits(o,i),t.exports={BMErrorAbstract:o}},{"../helper":13,"@bellmedia/bm-base-error":2}],13:[function(e,t,n){var i={};i.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.exports=i},{}],14:[function(e,t,n){(function(n){(function(){"use strict";var i="undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null,a=e("bluebird"),o={};t.exports=function(e,t){return void 0===o[e]&&(o[e]=new a(function(n,a){i.ajax({url:e,dataType:"script",cache:!t}).done(function(e,t){n()}).fail(function(e,t,n){a({jqxhr:e,settings:t,exception:n})})})),o[e]}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{bluebird:16}],15:[function(e,t,n){"use strict";function i(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var a,o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},r=function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},r.apply(this,arguments)};!function(e){e[e.PageEvent=4]="PageEvent",e[e.Media=20]="Media"}(a||(a={}));var s;!function(e){e[e.Media=9]="Media"}(s||(s={}));var l;!function(e){e[e.Play=23]="Play",e[e.Pause=24]="Pause",e[e.ContentEnd=25]="ContentEnd",e[e.SessionStart=30]="SessionStart",e[e.SessionEnd=31]="SessionEnd",e[e.SeekStart=32]="SeekStart",e[e.SeekEnd=33]="SeekEnd",e[e.BufferStart=34]="BufferStart",e[e.BufferEnd=35]="BufferEnd",e[e.UpdatePlayheadPosition=36]="UpdatePlayheadPosition",e[e.AdClick=37]="AdClick",e[e.AdBreakStart=38]="AdBreakStart",e[e.AdBreakEnd=39]="AdBreakEnd",e[e.AdStart=40]="AdStart",e[e.AdEnd=41]="AdEnd",e[e.AdSkip=42]="AdSkip",e[e.SegmentStart=43]="SegmentStart",e[e.SegmentEnd=44]="SegmentEnd",e[e.SegmentSkip=45]="SegmentSkip",e[e.UpdateQoS=46]="UpdateQoS",e[e.SessionSummary=47]="SessionSummary",e[e.SegmentSummary=48]="SegmentSummary",e[e.AdSummary=49]="AdSummary"}(l||(l={}));var c,d={Play:"Play",Pause:"Pause",ContentEnd:"Media Content End",SessionStart:"Media Session Start",SessionEnd:"Media Session End",SeekStart:"Seek Start",SeekEnd:"Seek End",BufferStart:"Buffer Start",BufferEnd:"Buffer End",UpdatePlayheadPosition:"Update Playhead Position",AdClick:"Ad Click",AdBreakStart:"Ad Break Start",AdBreakEnd:"Ad Break End",AdStart:"Ad Start",AdEnd:"Ad End",AdSkip:"Ad Skip",SegmentStart:"Segment Start",SegmentEnd:"Segment End",SegmentSkip:"Segment Skip",UpdateQoS:"Update QoS",SessionSummary:"Media Session Summary",SegmentSummary:"Media Segment Summary",AdSummary:"Media Ad Summary"};!function(e){e.Video="Video",e.Audio="Audio"}(c||(c={}));var u;!function(e){e.LiveStream="LiveStream",e.OnDemand="OnDemand",e.Linear="Linear",e.Podcast="Podcast",e.Audiobook="Audiobook"}(u||(u={}));var p={mediaSessionId:"media_session_id",playheadPosition:"playhead_position",id:"id",contentTitle:"content_title",contentId:"content_id",duration:"content_duration",streamType:"stream_type",contentType:"content_type",seekPosition:"seek_position",bufferDuration:"buffer_duration",bufferPercent:"buffer_percent",bufferPosition:"buffer_position",qosBitrate:"qos_bitrate",qosFramesPerSecond:"qos_fps",qosStartupTime:"qos_startup_time",qosDroppedFrames:"qos_dropped_frames",adTitle:"ad_content_title",adDuration:"ad_content_duration",adId:"ad_content_id",adAdvertiserId:"ad_content_advertiser",adCampaign:"ad_content_campaign",adCreative:"ad_content_creative",adPlacement:"ad_content_placement",adPosition:"ad_content_position",adSiteId:"ad_content_site_id",adBreakTitle:"ad_break_title",adBreakDuration:"ad_break_duration",adBreakPlaybackTime:"ad_break_playback_time",adBreakId:"ad_break_id",segmentTitle:"segment_title",segmentIndex:"segment_index",segmentDuration:"segment_duration",mediaSessionIdKey:"media_session_id",startTimestampKey:"media_session_start_time",endTimestampKey:"media_session_end_time",contentIdKey:"content_id",contentTitleKey:"content_title",mediaTimeSpentKey:"media_time_spent",contentTimeSpentKey:"media_content_time_spent",contentCompleteKey:"media_content_complete",totalSegmentsKey:"media_session_segment_total",totalAdTimeSpentKey:"media_total_ad_time_spent",adTimeSpentRateKey:"media_ad_time_spent_rate",totalAdsKey:"media_session_ad_total",adIDsKey:"media_session_ad_objects",adBreakIdKey:"ad_break_id",adContentIdKey:"ad_content_id",adContentStartTimestampKey:"ad_content_start_time",adContentEndTimestampKey:"ad_content_end_time",adContentTitleKey:"ad_content_title",adContentSkippedKey:"ad_skipped",adContentCompletedKey:"ad_completed",segmentIndexKey:"segment_index",segmentTitleKey:"segment_title",segmentStartTimestampKey:"segment_start_time",segmentEndTimestampKey:"segment_end_time",segmentTimeSpentKey:"media_segment_time_spent",segmentSkippedKey:"segment_skipped",segmentCompletedKey:"segment_completed"},m=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},h=function(e){return d[l[e]]},f=function(){function e(e,t,n){this.name=e,this.eventType=t,this.messageType=n}return e}(),_=function(e){function t(t,n,i,o,l,d,f,_){void 0===_&&(_={});var b=e.call(this,h(t),t,a.Media)||this;return b.eventType=t,b.contentTitle=n,b.contentId=i,b.duration=o,b.contentType=l,b.streamType=d,b.mediaSessionID=f,b.options=_,b.id=m(),b.getCustomAttributes=function(){return b.options.customAttributes},b.getSessionAttributes=function(){var e={content_title:b.contentTitle,content_duration:b.duration,content_id:b.contentId,content_type:c[b.contentType],stream_type:u[b.streamType],media_session_id:b.mediaSessionID};return"number"==typeof b.playheadPosition&&(e[p.playheadPosition]=b.playheadPosition),e},b.getEventAttributes=function(){var e={};return b.seekPosition&&(e[p.seekPosition]=b.seekPosition),b.bufferDuration&&(e[p.bufferDuration]=b.bufferDuration),b.bufferPercent&&(e[p.bufferPercent]=b.bufferPercent),b.bufferPosition&&(e[p.bufferPosition]=b.bufferPosition),b.qos&&("number"==typeof b.qos.bitRate&&(e[p.qosBitrate]=b.qos.bitRate),"number"==typeof b.qos.fps&&(e[p.qosFramesPerSecond]=b.qos.fps),"number"==typeof b.qos.startupTime&&(e[p.qosStartupTime]=b.qos.startupTime),"number"==typeof b.qos.droppedFrames&&(e[p.qosDroppedFrames]=b.qos.droppedFrames)),b.adContent&&(b.adContent.title&&(e[p.adTitle]=b.adContent.title),b.adContent.id&&(e[p.adId]=b.adContent.id),b.adContent.advertiser&&(e[p.adAdvertiserId]=b.adContent.advertiser),b.adContent.siteid&&(e[p.adSiteId]=b.adContent.siteid),"string"==typeof b.adContent.placement&&(e[p.adPlacement]=b.adContent.placement),"number"==typeof b.adContent.position&&(e[p.adPosition]=b.adContent.position),b.adContent.duration&&(e[p.adDuration]=b.adContent.duration),b.adContent.creative&&(e[p.adCreative]=b.adContent.creative),b.adContent.campaign&&(e[p.adCampaign]=b.adContent.campaign)),b.adBreak&&(b.adBreak.id&&(e[p.adBreakId]=b.adBreak.id),b.adBreak.title&&(e[p.adBreakTitle]=b.adBreak.title),b.adBreak.duration&&(e[p.adBreakDuration]=b.adBreak.duration)),b.segment&&(b.segment.title&&(e[p.segmentTitle]=b.segment.title),b.segment.index&&(e[p.segmentIndex]=b.segment.index),b.segment.duration&&(e[p.segmentDuration]=b.segment.duration)),e},b.getAttributes=function(){return r(r(r({},b.getSessionAttributes()),b.getEventAttributes()),b.getCustomAttributes())},b.toPageEvent=function(){return{name:b.name,eventType:s.Media,messageType:a.PageEvent,data:b.getAttributes()}},b.toEventAPIObject=function(){return{EventName:b.name,EventCategory:b.eventType,EventDataType:b.messageType,AdContent:b.adContent,AdBreak:b.adBreak,Segment:b.segment,SeekPosition:b.seekPosition,BufferDuration:b.bufferDuration,BufferPercent:b.bufferPercent,BufferPosition:b.bufferPosition,PlayheadPosition:b.playheadPosition,QoS:b.qos,ContentTitle:b.contentTitle,ContentId:b.contentId,Duration:b.duration,ContentType:c[b.contentType],StreamType:u[b.streamType],EventAttributes:b.options.customAttributes}},b.playheadPosition=null===_||void 0===_?void 0:_.currentPlayheadPosition,b.customAttributes=null===_||void 0===_?void 0:_.customAttributes,b}return i(t,e),t}(f),b=function(){function e(e,t,n,i,a,o,r,s){void 0===r&&(r=!1),void 0===s&&(s=!0),this.mparticleInstance=e,this.contentId=t,this.title=n,this.duration=i,this.contentType=a,this.streamType=o,this.logPageEvent=r,this.logMediaEvent=s,this._sessionId="",this.currentQoS={startupTime:0,fps:0,bitRate:0,droppedFrames:0},this.customAttributes={},this.mediaSessionStartTimestamp=Date.now(),this.mediaSessionEndTimestamp=Date.now(),this.storedPlaybackTime=0,this.mediaContentCompleteLimit=100,this.mediaContentComplete=!1,this.mediaSessionSegmentTotal=0,this.mediaTotalAdTimeSpent=0,this.mediaSessionAdTotal=0,this.mediaSessionAdObjects=[],this.sessionSummarySent=!1,this.listenerCallback=function(){},this.mediaSessionStartTimestamp=Date.now()}return Object.defineProperty(e.prototype,"sessionId",{get:function(){return this._sessionId},enumerable:!1,configurable:!0}),e.prototype.mediaTimeSpent=function(){return this.mediaSessionEndTimestamp-this.mediaSessionStartTimestamp},e.prototype.mediaContentTimeSpent=function(){return this.currentPlaybackStartTimestamp?this.storedPlaybackTime+(Date.now()-this.currentPlaybackStartTimestamp):this.storedPlaybackTime},e.prototype.mediaAdTimeSpentRate=function(){return this.mediaTotalAdTimeSpent/this.mediaContentTimeSpent()*100},e.prototype.createMediaEvent=function(e,t){return void 0===t&&(t={}),this.currentPlayheadPosition=(null===t||void 0===t?void 0:t.currentPlayheadPosition)||this.currentPlayheadPosition,this.customAttributes=(null===t||void 0===t?void 0:t.customAttributes)||{},t=r({currentPlayheadPosition:this.currentPlayheadPosition,customAttributes:this.customAttributes},t),new _(e,this.title,this.contentId,this.duration,this.contentType,this.streamType,this.sessionId,t)},e.prototype.logEvent=function(e){if(this.mediaSessionEndTimestamp=Date.now(),100!==this.mediaContentCompleteLimit&&this.duration&&this.currentPlayheadPosition&&this.currentPlayheadPosition/this.duration>=this.mediaContentCompleteLimit/100&&(this.mediaContentComplete=!0),this.mediaEventListener(e),this.logMediaEvent&&this.mparticleInstance.logBaseEvent(e),this.logPageEvent&&e.eventType!==l.UpdatePlayheadPosition){var t=e.toPageEvent();this.mparticleInstance.logBaseEvent(t)}},e.prototype.getQoSAttributes=function(){var e={};return this.currentQoS.bitRate&&(e.qos_bitrate=this.currentQoS.bitRate),this.currentQoS.startupTime&&(e.qos_startup_time=this.currentQoS.startupTime),this.currentQoS.fps&&(e.qos_fps=this.currentQoS.fps),this.currentQoS.droppedFrames&&(e.qos_dropped_frames=this.currentQoS.droppedFrames),e},e.prototype.getAttributes=function(){var e={content_title:this.title,content_duration:this.duration,content_id:this.contentId,content_type:c[this.contentType],stream_type:u[this.streamType],media_session_id:this.sessionId};return this.currentPlayheadPosition&&(e.playhead_position=this.currentPlayheadPosition),e},e.prototype.logMediaSessionStart=function(e){this._sessionId=m(),this.mediaSessionStartTimestamp=Date.now();var t=this.createMediaEvent(l.SessionStart,e);this.logEvent(t)},e.prototype.logMediaSessionEnd=function(e){var t=this.createMediaEvent(l.SessionEnd,e);this.logEvent(t),this.logSessionSummary()},e.prototype.logMediaContentEnd=function(e){this.mediaContentComplete=!0;var t=this.createMediaEvent(l.ContentEnd,e);this.logEvent(t)},e.prototype.logAdBreakStart=function(e,t){this.adBreak=e;var n=this.createMediaEvent(l.AdBreakStart,t);n.adBreak=e,this.logEvent(n)},e.prototype.logAdBreakEnd=function(e){var t=this.createMediaEvent(l.AdBreakEnd,e);t.adBreak=this.adBreak,this.logEvent(t),this.adBreak=void 0},e.prototype.logAdStart=function(e,t){this.mediaSessionAdTotal+=1,this.mediaSessionAdObjects.push(e.id),this.adContent=e,this.adContent.adStartTimestamp=Date.now();var n=this.createMediaEvent(l.AdStart,t);n.adContent=e,this.logEvent(n)},e.prototype.logAdEnd=function(e){var t;(null===(t=this.adContent)||void 0===t?void 0:t.adStartTimestamp)&&(this.adContent.adEndTimestamp=Date.now(),this.adContent.adCompleted=!0,this.adContent.adSkipped=!1,this.mediaTotalAdTimeSpent+=this.adContent.adEndTimestamp-this.adContent.adStartTimestamp);var n=this.createMediaEvent(l.AdEnd,e);n.adContent=this.adContent,this.logEvent(n),this.logAdSummary()},e.prototype.logAdSkip=function(e){var t;(null===(t=this.adContent)||void 0===t?void 0:t.adStartTimestamp)&&(this.adContent.adEndTimestamp=Date.now(),this.adContent.adSkipped=!0,this.adContent.adCompleted=!1,this.mediaTotalAdTimeSpent+=this.adContent.adEndTimestamp-this.adContent.adStartTimestamp);var n=this.createMediaEvent(l.AdSkip,e);n.adContent=this.adContent,this.logEvent(n),this.logAdSummary()},e.prototype.logAdClick=function(e,t){this.adContent=e;var n=this.createMediaEvent(l.AdClick,t);n.adContent=this.adContent,this.logEvent(n)},e.prototype.logBufferStart=function(e,t,n,i){var a=this.createMediaEvent(l.BufferStart,i);a.bufferDuration=e,a.bufferPercent=t,a.bufferPosition=n,this.logEvent(a)},e.prototype.logBufferEnd=function(e,t,n,i){var a=this.createMediaEvent(l.BufferEnd,i);a.bufferDuration=e,a.bufferPercent=t,a.bufferPosition=n,this.logEvent(a)},e.prototype.logPlay=function(e){this.currentPlaybackStartTimestamp||(this.currentPlaybackStartTimestamp=Date.now());var t=this.createMediaEvent(l.Play,e);this.logEvent(t)},e.prototype.logPause=function(e){this.currentPlaybackStartTimestamp&&(this.storedPlaybackTime=this.storedPlaybackTime+(Date.now()-this.currentPlaybackStartTimestamp),this.currentPlaybackStartTimestamp=void 0);var t=this.createMediaEvent(l.Pause,e);this.logEvent(t)},e.prototype.logSegmentStart=function(e,t){this.mediaSessionSegmentTotal+=1,e.segmentStartTimestamp=Date.now(),this.segment=e;var n=this.createMediaEvent(l.SegmentStart,t);n.segment=e,this.logEvent(n)},e.prototype.logSegmentEnd=function(e){var t;(null===(t=this.segment)||void 0===t?void 0:t.segmentStartTimestamp)&&(this.segment.segmentEndTimestamp=Date.now(),this.segment.segmentCompleted=!0,this.segment.segmentSkipped=!1);var n=this.createMediaEvent(l.SegmentEnd,e);n.segment=this.segment,this.logEvent(n),this.logSegmentSummary()},e.prototype.logSegmentSkip=function(e){var t;(null===(t=this.segment)||void 0===t?void 0:t.segmentStartTimestamp)&&(this.segment.segmentEndTimestamp=Date.now(),this.segment.segmentSkipped=!0,this.segment.segmentCompleted=!1);var n=this.createMediaEvent(l.SegmentSkip,e);n.segment=this.segment,this.logEvent(n),this.logSegmentSummary()},e.prototype.logSeekStart=function(e,t){var n=this.createMediaEvent(l.SeekStart,t);n.seekPosition=e,this.logEvent(n)},e.prototype.logSeekEnd=function(e,t){var n=this.createMediaEvent(l.SeekEnd,t);n.seekPosition=e,this.logEvent(n)},e.prototype.logPlayheadPosition=function(e){this.currentPlayheadPosition=e;var t=this.createMediaEvent(l.UpdatePlayheadPosition);t.playheadPosition=e,this.logEvent(t)},e.prototype.logQoS=function(e,t){this.currentQoS=r(r({},this.currentQoS),e);var n=this.createMediaEvent(l.UpdateQoS,t);n.qos=r({},this.currentQoS),this.logEvent(n)},e.prototype.createPageEvent=function(e,t){return{name:e,eventType:s.Media,messageType:a.PageEvent,data:r(r(r({},this.getAttributes()),this.getQoSAttributes()),t)}},Object.defineProperty(e.prototype,"mediaEventListener",{get:function(){return this.listenerCallback},set:function(e){this.listenerCallback=e},enumerable:!1,configurable:!0}),e.prototype.logSessionSummary=function(){if(!this.sessionSummarySent){this.mediaSessionEndTimestamp||(this.mediaSessionEndTimestamp=Date.now());var e={};e[p.mediaSessionIdKey]=this.sessionId,e[p.startTimestampKey]=this.mediaSessionStartTimestamp,e[p.endTimestampKey]=this.mediaSessionEndTimestamp,e[p.contentIdKey]=this.contentId,e[p.contentTitleKey]=this.title,e[p.mediaTimeSpentKey]=this.mediaTimeSpent(),e[p.contentTimeSpentKey]=this.mediaContentTimeSpent(),e[p.contentCompleteKey]=this.mediaContentComplete,e[p.totalSegmentsKey]=this.mediaSessionSegmentTotal,e[p.totalAdTimeSpentKey]=this.mediaTotalAdTimeSpent,e[p.adTimeSpentRateKey]=this.mediaAdTimeSpentRate(),e[p.totalAdsKey]=this.mediaSessionAdTotal,e[p.adIDsKey]=this.mediaSessionAdObjects;var t={currentPlayheadPosition:this.currentPlayheadPosition,customAttributes:e},n=this.createMediaEvent(l.SessionSummary,t);this.logEvent(n),this.sessionSummarySent=!0}},e.prototype.logSegmentSummary=function(){var e;if(null===(e=this.segment)||void 0===e?void 0:e.segmentStartTimestamp){this.segment.segmentEndTimestamp||(this.segment.segmentEndTimestamp=Date.now());var t={};t[p.mediaSessionIdKey]=this.sessionId,t[p.contentId]=this.contentId,t[p.segmentIndexKey]=this.segment.index,t[p.segmentTitleKey]=this.segment.title,t[p.segmentStartTimestampKey]=this.segment.segmentStartTimestamp,t[p.segmentEndTimestampKey]=this.segment.segmentEndTimestamp,t[p.segmentTimeSpentKey]=this.segment.segmentEndTimestamp-this.segment.segmentStartTimestamp,t[p.segmentSkippedKey]=this.segment.segmentSkipped,t[p.segmentCompletedKey]=this.segment.segmentCompleted;var n={currentPlayheadPosition:this.currentPlayheadPosition,customAttributes:t},i=this.createMediaEvent(l.SegmentSummary,n);this.logEvent(i)}this.segment=void 0},e.prototype.logAdSummary=function(){var e,t,n,i,a,o,r;if(this.adContent){this.adContent.adStartTimestamp&&(this.adContent.adEndTimestamp=Date.now(),this.mediaTotalAdTimeSpent+=this.adContent.adEndTimestamp-this.adContent.adStartTimestamp);var s={};s[p.mediaSessionIdKey]=this.sessionId,s[p.adBreakIdKey]=null===(e=this.adBreak)||void 0===e?void 0:e.id,s[p.adContentIdKey]=null===(t=this.adContent)||void 0===t?void 0:t.id,s[p.adContentStartTimestampKey]=null===(n=this.adContent)||void 0===n?void 0:n.adStartTimestamp,s[p.adContentEndTimestampKey]=null===(i=this.adContent)||void 0===i?void 0:i.adEndTimestamp,s[p.adContentTitleKey]=null===(a=this.adContent)||void 0===a?void 0:a.title,s[p.adContentSkippedKey]=null===(o=this.adContent)||void 0===o?void 0:o.adSkipped,s[p.adContentCompletedKey]=null===(r=this.adContent)||void 0===r?void 0:r.adCompleted;var c={currentPlayheadPosition:this.currentPlayheadPosition,customAttributes:s},d=this.createMediaEvent(l.AdSummary,c);this.logEvent(d)}this.adContent=void 0},e}();t.exports=b},{}],16:[function(e,t,n){(function(e,i,a){(function(){/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2018 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */
!function(e){if("object"==typeof n&&void 0!==t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var a;"undefined"!=typeof window?a=window:void 0!==i?a=i:"undefined"!=typeof self&&(a=self),a.Promise=e()}}(function(){var t,n,o;return function e(t,n,i){function a(r,s){if(!n[r]){if(!t[r]){var l="function"==typeof _dereq_&&_dereq_;if(!s&&l)return l(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[r]={exports:{}};t[r][0].call(d.exports,function(e){var n=t[r][1][e];return a(n||e)},d,d.exports,e,t,n,i)}return n[r].exports}for(var o="function"==typeof _dereq_&&_dereq_,r=0;r<i.length;r++)a(i[r]);return a}({1:[function(e,t,n){"use strict";t.exports=function(e){function t(e){var t=new n(e),i=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),i}var n=e._SomePromiseArray;e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}},{}],2:[function(t,n,i){"use strict";function a(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new p(16),this._normalQueue=new p(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=u}function o(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function r(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function s(e){this._normalQueue._pushOne(e),this._queueTick()}function l(e){for(;e.length()>0;)c(e)}function c(e){var t=e.shift();if("function"!=typeof t)t._settlePromises();else{var n=e.shift(),i=e.shift();t.call(n,i)}}var d;try{throw new Error}catch(e){d=e}var u=t("./schedule"),p=t("./queue"),m=t("./util");a.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},a.prototype.hasCustomScheduler=function(){return this._customScheduler},a.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},a.prototype.disableTrampolineIfNecessary=function(){m.hasDevTools&&(this._trampolineEnabled=!1)},a.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},a.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},a.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},m.hasDevTools?(a.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?o.call(this,e,t,n):this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})},a.prototype.invoke=function(e,t,n){this._trampolineEnabled?r.call(this,e,t,n):this._schedule(function(){e.call(t,n)})},a.prototype.settlePromises=function(e){this._trampolineEnabled?s.call(this,e):this._schedule(function(){e._settlePromises()})}):(a.prototype.invokeLater=o,a.prototype.invoke=r,a.prototype.settlePromises=s),a.prototype._drainQueues=function(){l(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,l(this._lateQueue)},a.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},a.prototype._reset=function(){this._isTickUsed=!1},n.exports=a,n.exports.firstLineError=d},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){var a=!1,o=function(e,t){this._reject(t)},r=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},s=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},l=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){a||(a=!0,e.prototype._propagateFrom=i.propagateFromFunction(),e.prototype._boundValue=i.boundValueFunction());var c=n(o),d=new e(t);d._propagateFrom(this,1);var u=this._target();if(d._setBoundTo(c),c instanceof e){var p={promiseRejectionQueued:!1,promise:d,target:u,bindingPromise:c};u._then(t,r,void 0,d,p),c._then(s,l,void 0,d,p),d._setOnCancel(c)}else d._resolveCallback(u);return d},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],4:[function(e,t,n){"use strict";function i(){try{Promise===o&&(Promise=a)}catch(e){}return o}var a;"undefined"!=typeof Promise&&(a=Promise);var o=e("./promise")();o.noConflict=i,t.exports=o},{"./promise":22}],5:[function(e,t,n){"use strict";var i=Object.create;if(i){var a=i(null),o=i(null);a[" size"]=o[" size"]=0}t.exports=function(t){function n(e,n){var i;if(null!=e&&(i=e[n]),"function"!=typeof i){var a="Object "+s.classString(e)+" has no method '"+s.toString(n)+"'";throw new t.TypeError(a)}return i}function i(e){return n(e,this.pop()).apply(e,this)}function a(e){return e[this]}function o(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}var r,s=e("./util"),l=s.canEvaluate;s.isIdentifier;t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(i,void 0,void 0,t,void 0)},t.prototype.get=function(e){var t,n="number"==typeof e;if(n)t=o;else if(l){var i=r(e);t=null!==i?i:a}else t=a;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,n){"use strict";t.exports=function(t,n,i,a){var o=e("./util"),r=o.tryCatch,s=o.errorObj,l=t._async;t.prototype.break=t.prototype.cancel=function(){if(!a.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),l.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var i=r(e).call(this._boundValue());i===s&&(this._attachExtraTrace(i.e),l.throwLater(i.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),l.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,n){"use strict";t.exports=function(t){function n(e,n,s){return function(l){var c=s._boundValue();e:for(var d=0;d<e.length;++d){var u=e[d];if(u===Error||null!=u&&u.prototype instanceof Error){if(l instanceof u)return o(n).call(c,l)}else if("function"==typeof u){var p=o(u).call(c,l);if(p===r)return p;if(p)return o(n).call(c,l)}else if(i.isObject(l)){for(var m=a(u),h=0;h<m.length;++h){var f=m[h];if(u[f]!=l[f])continue e}return o(n).call(c,l)}}return t}}var i=e("./util"),a=e("./es5").keys,o=i.tryCatch,r=i.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(e,t,n){"use strict";t.exports=function(e){function t(){this._trace=new t.CapturedTrace(i())}function n(){if(a)return new t}function i(){var e=o.length-1;if(e>=0)return o[e]}var a=!1,o=[];return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},t.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},t.prototype._popContext=function(){if(void 0!==this._trace){var e=o.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},t.CapturedTrace=null,t.create=n,t.deactivateLongStackTraces=function(){},t.activateLongStackTraces=function(){var n=e.prototype._pushContext,o=e.prototype._popContext,r=e._peekContext,s=e.prototype._peekContext,l=e.prototype._promiseCreated;t.deactivateLongStackTraces=function(){e.prototype._pushContext=n,e.prototype._popContext=o,e._peekContext=r,e.prototype._peekContext=s,e.prototype._promiseCreated=l,a=!1},a=!0,e.prototype._pushContext=t.prototype._pushContext,e.prototype._popContext=t.prototype._popContext,e._peekContext=e.prototype._peekContext=i,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},t}},{}],9:[function(t,n,i){"use strict";n.exports=function(n,i){function a(e,t){return{promise:t}}function o(){return!1}function r(e,t,n){var i=this;try{e(t,n,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+U.toString(e));i._attachCancellationCallback(e)})}catch(e){return e}}function s(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?U.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function l(){return this._onCancelField}function c(e){this._onCancelField=e}function d(){this._cancellationParent=void 0,this._onCancelField=void 0}function u(e,t){if(0!=(1&t)){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function p(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function m(){var e=this._boundTo;return void 0!==e&&e instanceof n?e.isFulfilled()?e.value():void 0:e}function h(){this._trace=new B(this._peekContext())}function f(e,t){if(F(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var i=C(e);U.notEnumerableProp(e,"stack",i.message+"\n"+i.stack.join("\n")),U.notEnumerableProp(e,"__stackCleaned__",!0)}}}function _(){this._trace=void 0}function b(e,t,n,i,a){if(void 0===e&&null!==t&&Q){if(void 0!==a&&a._returnedNonUndefined())return;if(0==(65535&i._bitField))return;n&&(n+=" ");var o="",r="";if(t._trace){for(var s=t._trace.stack.split("\n"),l=w(s),c=l.length-1;c>=0;--c){var d=l[c];if(!K.test(d)){var u=d.match(Y);u&&(o="at "+u[1]+":"+u[2]+":"+u[3]+" ");break}}if(l.length>0)for(var p=l[0],c=0;c<s.length;++c)if(s[c]===p){c>0&&(r="\n"+s[c-1]);break}}var m="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+r;i._warn(m,!0,t)}}function v(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),g(n)}function g(e,t,i){if(le.warnings){var a,o=new j(e);if(t)i._attachExtraTrace(o);else if(le.longStackTraces&&(a=n._peekContext()))a.attachExtraTrace(o);else{var r=C(o);o.stack=r.message+"\n"+r.stack.join("\n")}ie("warning",o)||I(o,"",!0)}}function y(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}function E(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function T(e){for(var t=e[0],n=1;n<e.length;++n){for(var i=e[n],a=t.length-1,o=t[a],r=-1,s=i.length-1;s>=0;--s)if(i[s]===o){r=s;break}for(var s=r;s>=0;--s){var l=i[s];if(t[a]!==l)break;t.pop(),a--}t=i}}function w(e){for(var t=[],n=0;n<e.length;++n){var i=e[n],a="    (No stack trace)"===i||$.test(i),o=a&&oe(i);a&&!o&&(z&&" "!==i.charAt(0)&&(i="    "+i),t.push(i))}return t}function S(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var i=t[n];if("    (No stack trace)"===i||$.test(i))break}return n>0&&"SyntaxError"!=e.name&&(t=t.slice(n)),t}function C(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?S(e):["    (No stack trace)"],{message:n,stack:"SyntaxError"==e.name?t:w(t)}}function I(e,t,n){if("undefined"!=typeof console){var i;if(U.isObject(e)){var a=e.stack;i=t+W(a,e)}else i=t+String(e);"function"==typeof V?V(i,n):"function"!=typeof console.log&&"object"!=typeof console.log||void 0}}function P(e,t,n,i){var a=!1;try{"function"==typeof t&&(a=!0,"rejectionHandled"===e?t(i):t(n,i))}catch(e){O.throwLater(e)}"unhandledRejection"===e?ie(e,n,i)||a||I(n,"Unhandled rejection "):ie(e,i)}function A(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e&&"function"==typeof e.toString?e.toString():U.toString(e);if(/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+k(t)+">, no stack trace)"}function k(e){return e.length<41?e:e.substr(0,38)+"..."}function x(){return"function"==typeof se}function N(e){var t=e.match(re);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function M(e,t){if(x()){for(var n,i,a=(e.stack||"").split("\n"),o=(t.stack||"").split("\n"),r=-1,s=-1,l=0;l<a.length;++l){var c=N(a[l]);if(c){n=c.fileName,r=c.line;break}}for(var l=0;l<o.length;++l){var c=N(o[l]);if(c){i=c.fileName,s=c.line;break}}r<0||s<0||!n||!i||n!==i||r>=s||(oe=function(e){if(G.test(e))return!0;var t=N(e);return!!(t&&t.fileName===n&&r<=t.line&&t.line<=s)})}}function B(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);se(this,B),t>32&&this.uncycle()}var L,D,V,R=n._getDomain,O=n._async,j=t("./errors").Warning,U=t("./util"),H=t("./es5"),F=U.canAttachTrace,G=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,K=/\((?:timers\.js):\d+:\d+\)/,Y=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,$=null,W=null,z=!1,J=!(0==U.env("BLUEBIRD_DEBUG")),q=!(0==U.env("BLUEBIRD_WARNINGS")||!J&&!U.env("BLUEBIRD_WARNINGS")),X=!(0==U.env("BLUEBIRD_LONG_STACK_TRACES")||!J&&!U.env("BLUEBIRD_LONG_STACK_TRACES")),Q=0!=U.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(q||!!U.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},n.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var e=this;setTimeout(function(){e._notifyUnhandledRejection()},1)}},n.prototype._notifyUnhandledRejectionIsHandled=function(){P("rejectionHandled",L,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),P("unhandledRejection",D,e,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(e,t,n){return g(e,t,n||this)},n.onPossiblyUnhandledRejection=function(e){var t=R();D="function"==typeof e?null===t?e:U.domainBind(t,e):void 0},n.onUnhandledRejectionHandled=function(e){var t=R();L="function"==typeof e?null===t?e:U.domainBind(t,e):void 0};var Z=function(){};n.longStackTraces=function(){if(O.haveItemsQueued()&&!le.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!le.longStackTraces&&x()){var e=n.prototype._captureStackTrace,t=n.prototype._attachExtraTrace,a=n.prototype._dereferenceTrace;le.longStackTraces=!0,Z=function(){if(O.haveItemsQueued()&&!le.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=e,n.prototype._attachExtraTrace=t,n.prototype._dereferenceTrace=a,i.deactivateLongStackTraces(),O.enableTrampoline(),le.longStackTraces=!1},n.prototype._captureStackTrace=h,n.prototype._attachExtraTrace=f,n.prototype._dereferenceTrace=_,i.activateLongStackTraces(),O.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return le.longStackTraces&&x()};var ee=function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return U.global.dispatchEvent(e),function(e,t){var n={detail:t,cancelable:!0};H.defineProperty(n,"promise",{value:t.promise}),H.defineProperty(n,"reason",{value:t.reason});var i=new CustomEvent(e.toLowerCase(),n);return!U.global.dispatchEvent(i)}}if("function"==typeof Event){var e=new Event("CustomEvent");return U.global.dispatchEvent(e),function(e,t){var n=new Event(e.toLowerCase(),{cancelable:!0});return n.detail=t,H.defineProperty(n,"promise",{value:t.promise}),H.defineProperty(n,"reason",{value:t.reason}),!U.global.dispatchEvent(n)}}var e=document.createEvent("CustomEvent");return e.initCustomEvent("testingtheevent",!1,!0,{}),U.global.dispatchEvent(e),function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e.toLowerCase(),!1,!0,t),!U.global.dispatchEvent(n)}}catch(e){}return function(){return!1}}(),te=function(){return U.isNode?function(){return e.emit.apply(e,arguments)}:U.global?function(e){var t="on"+e.toLowerCase(),n=U.global[t];return!!n&&(n.apply(U.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),ne={promiseCreated:a,promiseFulfilled:a,promiseRejected:a,promiseResolved:a,promiseCancelled:a,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:a},ie=function(e){var t=!1;try{t=te.apply(null,arguments)}catch(e){O.throwLater(e),t=!0}var n=!1;try{n=ee(e,ne[e].apply(null,arguments))}catch(e){O.throwLater(e),n=!0}return n||t};n.config=function(e){if(e=Object(e),"longStackTraces"in e&&(e.longStackTraces?n.longStackTraces():!e.longStackTraces&&n.hasLongStackTraces()&&Z()),"warnings"in e){var t=e.warnings;le.warnings=!!t,Q=le.warnings,U.isObject(t)&&"wForgottenReturn"in t&&(Q=!!t.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!le.cancellation){if(O.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=d,n.prototype._propagateFrom=u,n.prototype._onCancel=l,n.prototype._setOnCancel=c,n.prototype._attachCancellationCallback=s,n.prototype._execute=r,ae=u,le.cancellation=!0}return"monitoring"in e&&(e.monitoring&&!le.monitoring?(le.monitoring=!0,n.prototype._fireEvent=ie):!e.monitoring&&le.monitoring&&(le.monitoring=!1,n.prototype._fireEvent=o)),n},n.prototype._fireEvent=o,n.prototype._execute=function(e,t,n){try{e(t,n)}catch(e){return e}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(e){},n.prototype._attachCancellationCallback=function(e){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._dereferenceTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(e,t){};var ae=p,oe=function(){return!1},re=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;U.inherits(B,Error),i.CapturedTrace=B,B.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},i=0,a=this;void 0!==a;++i)t.push(a),a=a._parent;e=this._length=i;for(var i=e-1;i>=0;--i){var o=t[i].stack;void 0===n[o]&&(n[o]=i)}for(var i=0;i<e;++i){var r=t[i].stack,s=n[r];if(void 0!==s&&s!==i){s>0&&(t[s-1]._parent=void 0,t[s-1]._length=1),t[i]._parent=void 0,t[i]._length=1;var l=i>0?t[i-1]:this;s<e-1?(l._parent=t[s+1],l._parent.uncycle(),l._length=l._parent._length+1):(l._parent=void 0,l._length=1);for(var c=l._length+1,d=i-2;d>=0;--d)t[d]._length=c,c++;return}}}},B.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=C(e),n=t.message,i=[t.stack],a=this;void 0!==a;)i.push(w(a.stack.split("\n"))),a=a._parent;T(i),E(i),U.notEnumerableProp(e,"stack",y(n,i)),U.notEnumerableProp(e,"__stackCleaned__",!0)}};var se=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():A(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,$=e,W=t;var n=Error.captureStackTrace;return oe=function(e){return G.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return $=/@/,W=t,z=!0,function(e){e.stack=(new Error).stack};var a;try{throw new Error}catch(e){a="stack"in e}return"stack"in i||!a||"number"!=typeof Error.stackTraceLimit?(W=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?A(t):t.toString()},null):($=e,W=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(V=function(e){void 0},U.isNode&&e.stderr.isTTY?V=function(e,t){var n=t?"[33m":"[31m";void 0}:U.isNode||"string"!=typeof(new Error).stack||(V=function(e,t){void 0}));var le={warnings:q,longStackTraces:!1,cancellation:!1,monitoring:!1};return X&&n.longStackTraces(),{longStackTraces:function(){return le.longStackTraces},warnings:function(){return le.warnings},cancellation:function(){return le.cancellation},monitoring:function(){return le.monitoring},propagateFromFunction:function(){return ae},boundValueFunction:function(){return m},checkForgottenReturns:b,setBounds:M,warn:g,deprecated:v,CapturedTrace:B,fireDomEvent:ee,fireGlobalEvent:te}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(e,t,n){"use strict";t.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(n){return n instanceof e&&n.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:n},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(n,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:e},void 0);var t=arguments[1],i=function(){throw t};return this.caught(e,i)},e.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof e&&n.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:n},void 0);var i=arguments[1];i instanceof e&&i.suppressUnhandledRejections();var a=function(){return i};return this.caught(n,a)}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e,t){function n(){return o(this)}function i(e,n){return a(e,n,t,t)}var a=e.reduce,o=e.all;e.prototype.each=function(e){return a(this,e,t,0)._then(n,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return a(this,e,t,t)},e.each=function(e,i){return a(e,i,t,0)._then(n,void 0,void 0,e,void 0)},e.mapSeries=i}},{}],12:[function(e,t,n){"use strict";function i(e,t){function n(i){if(!(this instanceof n))return new n(i);u(this,"message","string"==typeof i?i:t),u(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return d(n,Error),n}function a(e){if(!(this instanceof a))return new a(e);u(this,"name","OperationalError"),u(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(u(this,"message",e.message),u(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}var o,r,s=e("./es5"),l=s.freeze,c=e("./util"),d=c.inherits,u=c.notEnumerableProp,p=i("Warning","warning"),m=i("CancellationError","cancellation error"),h=i("TimeoutError","timeout error"),f=i("AggregateError","aggregate error");try{o=TypeError,r=RangeError}catch(e){o=i("TypeError","type error"),r=i("RangeError","range error")}for(var _="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),b=0;b<_.length;++b)"function"==typeof Array.prototype[_[b]]&&(f.prototype[_[b]]=Array.prototype[_[b]]);s.defineProperty(f.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),f.prototype.isOperational=!0;var v=0;f.prototype.toString=function(){var e=Array(4*v+1).join(" "),t="\n"+e+"AggregateError of:\n";v++,e=Array(4*v+1).join(" ");for(var n=0;n<this.length;++n){for(var i=this[n]===this?"[Circular AggregateError]":this[n]+"",a=i.split("\n"),o=0;o<a.length;++o)a[o]=e+a[o];i=a.join("\n"),t+=i+"\n"}return v--,t},d(a,Error);var g=Error.__BluebirdErrorTypes__;g||(g=l({CancellationError:m,TimeoutError:h,OperationalError:a,RejectionError:a,AggregateError:f}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:g,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:o,RangeError:r,CancellationError:g.CancellationError,OperationalError:g.OperationalError,TimeoutError:g.TimeoutError,AggregateError:g.AggregateError,Warning:p}},{"./es5":13,"./util":36}],13:[function(e,t,n){var i=function(){"use strict";return void 0===this}();if(i)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var a={}.hasOwnProperty,o={}.toString,r={}.constructor.prototype,s=function(e){var t=[];for(var n in e)a.call(e,n)&&t.push(n);return t},l=function(e,t){return{value:e[t]}},c=function(e,t,n){return e[t]=n.value,e},d=function(e){return e},u=function(e){try{return Object(e).constructor.prototype}catch(e){return r}},p=function(e){try{return"[object Array]"===o.call(e)}catch(e){return!1}};t.exports={isArray:p,keys:s,names:s,defineProperty:c,getDescriptor:l,freeze:d,getPrototypeOf:u,isES5:i,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,i){return n(this,e,i,t)},e.filter=function(e,i,a){return n(e,i,a,t)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(t,n,i){function a(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function o(e){this.finallyHandler=e}function r(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function s(){return c.call(this,this.promise._target()._settledValue())}function l(e){if(!r(this,e))return p.e=e,p}function c(e){var a=this.promise,c=this.handler;if(!this.called){this.called=!0;var d=this.isFinallyHandler()?c.call(a._boundValue()):c.call(a._boundValue(),e);if(d===i)return d;if(void 0!==d){a._setReturnedNonUndefined();var m=n(d,a);if(m instanceof t){if(null!=this.cancelPromise){if(m._isCancelled()){var h=new u("late cancellation observer");return a._attachExtraTrace(h),p.e=h,p}m.isPending()&&m._attachCancellationCallback(new o(this))}return m._then(s,l,void 0,this,void 0)}}}return a.isRejected()?(r(this),p.e=e,p):(r(this),e)}var d=e("./util"),u=t.CancellationError,p=d.errorObj,m=e("./catch_filter")(i);return a.prototype.isFinallyHandler=function(){return 0===this.type},o.prototype._resultCancelled=function(){r(this.finallyHandler)},t.prototype._passThrough=function(e,t,n,i){return"function"!=typeof e?this.then():this._then(n,i,void 0,new a(this,t,e),void 0)},t.prototype.lastly=t.prototype.finally=function(e){return this._passThrough(e,0,c,c)},t.prototype.tap=function(e){return this._passThrough(e,1,c)},t.prototype.tapCatch=function(e){var n=arguments.length;if(1===n)return this._passThrough(e,1,void 0,c);var i,a=new Array(n-1),o=0;for(i=0;i<n-1;++i){var r=arguments[i];if(!d.isObject(r))return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+d.classString(r)));a[o++]=r}a.length=o;var s=arguments[i];return this._passThrough(m(a,s,this),1,void 0,c)},a}},{"./catch_filter":7,"./util":36}],16:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,o,r){function s(e,n,i){for(var o=0;o<n.length;++o){i._pushContext();var r=m(n[o])(e);if(i._popContext(),r===p){i._pushContext();var s=t.reject(p.e);return i._popContext(),s}var l=a(r,i);if(l instanceof t)return l}return null}function l(e,n,a,o){if(r.cancellation()){var s=new t(i),l=this._finallyPromise=new t(i);this._promise=s.lastly(function(){return l}),s._captureStackTrace(),s._setOnCancel(this)}else{(this._promise=new t(i))._captureStackTrace()}this._stack=o,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof a?[a].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}var c=e("./errors"),d=c.TypeError,u=e("./util"),p=u.errorObj,m=u.tryCatch,h=[];u.inherits(l,o),l.prototype._isResolved=function(){return null===this._promise},l.prototype._cleanup=function(){this._promise=this._generator=null,r.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},l.prototype._promiseCancelled=function(){if(!this._isResolved()){var e,n=void 0!==this._generator.return;if(n)this._promise._pushContext(),e=m(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var i=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=i,this._promise._attachExtraTrace(i),this._promise._pushContext(),e=m(this._generator.throw).call(this._generator,i),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},l.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=m(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},l.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=m(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},l.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},l.prototype.promise=function(){return this._promise},l.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},l.prototype._continue=function(e){var n=this._promise;if(e===p)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(e.e,!1);var i=e.value;if(!0===e.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(i);var o=a(i,this._promise);if(!(o instanceof t)&&null===(o=s(o,this._yieldHandlers,this._promise)))return void this._promiseRejected(new d("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(i))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target()
;var r=o._bitField;0==(50397184&r)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&r)?t._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&r)?t._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},t.coroutine=function(e,t){if("function"!=typeof e)throw new d("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(t).yieldHandler,i=l,a=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new i(void 0,void 0,n,a),r=o.promise();return o._generator=t,o._promiseFulfilled(void 0),r}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new d("expecting a function but got "+u.classString(e));h.push(e)},t.spawn=function(e){if(r.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=new l(e,this),a=i.promise();return i._run(t.spawn),a}}},{"./errors":12,"./util":36}],17:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,o,r){var s=e("./util");s.canEvaluate,s.tryCatch,s.errorObj;t.join=function(){var e,t=arguments.length-1;if(t>0&&"function"==typeof arguments[t]){e=arguments[t];var i}var a=[].slice.call(arguments);e&&a.pop();var i=new n(a).promise();return void 0!==e?i.spread(e):i}}},{"./util":36}],18:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,o,r){function s(e,t,n,i){this.constructor$(e),this._promise._captureStackTrace();var a=c();this._callback=null===a?t:d.domainBind(a,t),this._preservedValues=i===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],m.invoke(this._asyncInit,this,void 0)}function l(e,n,a,o){if("function"!=typeof n)return i("expecting a function but got "+d.classString(n));var r=0;if(void 0!==a){if("object"!=typeof a||null===a)return t.reject(new TypeError("options argument must be an object but it is "+d.classString(a)));if("number"!=typeof a.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+d.classString(a.concurrency)));r=a.concurrency}return r="number"==typeof r&&isFinite(r)&&r>=1?r:0,new s(e,n,r,o).promise()}var c=t._getDomain,d=e("./util"),u=d.tryCatch,p=d.errorObj,m=t._async;d.inherits(s,n),s.prototype._asyncInit=function(){this._init$(void 0,-2)},s.prototype._init=function(){},s.prototype._promiseFulfilled=function(e,n){var i=this._values,o=this.length(),s=this._preservedValues,l=this._limit;if(n<0){if(n=-1*n-1,i[n]=e,l>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(l>=1&&this._inFlight>=l)return i[n]=e,this._queue.push(n),!1;null!==s&&(s[n]=e);var c=this._promise,d=this._callback,m=c._boundValue();c._pushContext();var h=u(d).call(m,e,n,o),f=c._popContext();if(r.checkForgottenReturns(h,f,null!==s?"Promise.filter":"Promise.map",c),h===p)return this._reject(h.e),!0;var _=a(h,this._promise);if(_ instanceof t){_=_._target();var b=_._bitField;if(0==(50397184&b))return l>=1&&this._inFlight++,i[n]=_,_._proxy(this,-1*(n+1)),!1;if(0==(33554432&b))return 0!=(16777216&b)?(this._reject(_._reason()),!0):(this._cancel(),!0);h=_._value()}i[n]=h}return++this._totalResolved>=o&&(null!==s?this._filter(i,s):this._resolve(i),!0)},s.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var i=e.pop();this._promiseFulfilled(n[i],i)}},s.prototype._filter=function(e,t){for(var n=t.length,i=new Array(n),a=0,o=0;o<n;++o)e[o]&&(i[a++]=t[o]);i.length=a,this._resolve(i)},s.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return l(this,e,t,null)},t.map=function(e,t,n,i){return l(e,t,n,i)}}},{"./util":36}],19:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,o){var r=e("./util"),s=r.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+r.classString(e));return function(){var i=new t(n);i._captureStackTrace(),i._pushContext();var a=s(e).apply(this,arguments),r=i._popContext();return o.checkForgottenReturns(a,r,"Promise.method",i),i._resolveFromSyncValue(a),i}},t.attempt=t.try=function(e){if("function"!=typeof e)return a("expecting a function but got "+r.classString(e));var i=new t(n);i._captureStackTrace(),i._pushContext();var l;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],d=arguments[2];l=r.isArray(c)?s(e).apply(d,c):s(e).call(d,c)}else l=s(e)();var u=i._popContext();return o.checkForgottenReturns(l,u,"Promise.try",i),i._resolveFromSyncValue(l),i},t.prototype._resolveFromSyncValue=function(e){e===r.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,n){"use strict";function i(e){return e instanceof Error&&d.getPrototypeOf(e)===Error.prototype}function a(e){var t;if(i(e)){t=new c(e),t.name=e.name,t.message=e.message,t.stack=e.stack;for(var n=d.keys(e),a=0;a<n.length;++a){var o=n[a];u.test(o)||(t[o]=e[o])}return t}return r.markAsOriginatingFromRejection(e),e}function o(e,t){return function(n,i){if(null!==e){if(n){var o=a(s(n));e._attachExtraTrace(o),e._reject(o)}else if(t){var r=[].slice.call(arguments,1);e._fulfill(r)}else e._fulfill(i);e=null}}}var r=e("./util"),s=r.maybeWrapAsError,l=e("./errors"),c=l.OperationalError,d=e("./es5"),u=/^(?:name|message|stack|cause)$/;t.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,n){"use strict";t.exports=function(t){function n(e,t){var n=this;if(!o.isArray(e))return i.call(n,e,t);var a=s(t).apply(n._boundValue(),[null].concat(e));a===l&&r.throwLater(a.e)}function i(e,t){var n=this,i=n._boundValue(),a=void 0===e?s(t).call(i,null):s(t).call(i,null,e);a===l&&r.throwLater(a.e)}function a(e,t){var n=this;if(!e){var i=new Error(e+"");i.cause=e,e=i}var a=s(t).call(n._boundValue(),e);a===l&&r.throwLater(a.e)}var o=e("./util"),r=t._async,s=o.tryCatch,l=o.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var o=i;void 0!==t&&Object(t).spread&&(o=n),this._then(o,a,void 0,this,e)}return this}}},{"./util":36}],22:[function(t,n,i){"use strict";n.exports=function(){function i(){}function a(e,t){if(null==e||e.constructor!==o)throw new g("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof t)throw new g("expecting a function but got "+h.classString(t))}function o(e){e!==E&&a(this,e),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function r(e){this.promise._resolveCallback(e)}function s(e){this.promise._rejectCallback(e,!1)}function l(e){var t=new o(E);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}var c,d=function(){return new g("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},u=function(){return new o.PromiseInspection(this._target())},p=function(e){return o.reject(new g(e))},m={},h=t("./util");c=h.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null},h.notEnumerableProp(o,"_getDomain",c);var f=t("./es5"),_=t("./async"),b=new _;f.defineProperty(o,"_async",{value:b});var v=t("./errors"),g=o.TypeError=v.TypeError;o.RangeError=v.RangeError;var y=o.CancellationError=v.CancellationError;o.TimeoutError=v.TimeoutError,o.OperationalError=v.OperationalError,o.RejectionError=v.OperationalError,o.AggregateError=v.AggregateError;var E=function(){},T={},w={},S=t("./thenables")(o,E),C=t("./promise_array")(o,E,S,p,i),I=t("./context")(o),P=I.create,A=t("./debuggability")(o,I),k=(A.CapturedTrace,t("./finally")(o,S,w)),x=t("./catch_filter")(w),N=t("./nodeback"),M=h.errorObj,B=h.tryCatch;return o.prototype.toString=function(){return"[object Promise]"},o.prototype.caught=o.prototype.catch=function(e){var t=arguments.length;if(t>1){var n,i=new Array(t-1),a=0;for(n=0;n<t-1;++n){var o=arguments[n];if(!h.isObject(o))return p("Catch statement predicate: expecting an object but got "+h.classString(o));i[a++]=o}if(i.length=a,"function"!=typeof(e=arguments[n]))throw new g("The last argument to .catch() must be a function, got "+h.toString(e));return this.then(void 0,x(i,e,this))}return this.then(void 0,e)},o.prototype.reflect=function(){return this._then(u,u,void 0,this,void 0)},o.prototype.then=function(e,t){if(A.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+h.classString(e);arguments.length>1&&(n+=", "+h.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},o.prototype.done=function(e,t){this._then(e,t,void 0,void 0,void 0)._setIsFinal()},o.prototype.spread=function(e){return"function"!=typeof e?p("expecting a function but got "+h.classString(e)):this.all()._then(e,void 0,void 0,T,void 0)},o.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},o.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new C(this).promise()},o.prototype.error=function(e){return this.caught(h.originatesFromRejection,e)},o.getNewLibraryCopy=n.exports,o.is=function(e){return e instanceof o},o.fromNode=o.fromCallback=function(e){var t=new o(E);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,i=B(e)(N(t,n));return i===M&&t._rejectCallback(i.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},o.all=function(e){return new C(e).promise()},o.cast=function(e){var t=S(e);return t instanceof o||(t=new o(E),t._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},o.resolve=o.fulfilled=o.cast,o.reject=o.rejected=function(e){var t=new o(E);return t._captureStackTrace(),t._rejectCallback(e,!0),t},o.setScheduler=function(e){if("function"!=typeof e)throw new g("expecting a function but got "+h.classString(e));return b.setScheduler(e)},o.prototype._then=function(e,t,n,i,a){var r=void 0!==a,s=r?a:new o(E),l=this._target(),d=l._bitField;r||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===i&&0!=(2097152&this._bitField)&&(i=0!=(50397184&d)?this._boundValue():l===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var u=c();if(0!=(50397184&d)){var p,m,f=l._settlePromiseCtx;0!=(33554432&d)?(m=l._rejectionHandler0,p=e):0!=(16777216&d)?(m=l._fulfillmentHandler0,p=t,l._unsetRejectionIsUnhandled()):(f=l._settlePromiseLateCancellationObserver,m=new y("late cancellation observer"),l._attachExtraTrace(m),p=t),b.invoke(f,l,{handler:null===u?p:"function"==typeof p&&h.domainBind(u,p),promise:s,receiver:i,value:m})}else l._addCallbacks(e,t,s,i,u);return s},o.prototype._length=function(){return 65535&this._bitField},o.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},o.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},o.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},o.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},o.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},o.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},o.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},o.prototype._isFinal=function(){return(4194304&this._bitField)>0},o.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},o.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},o.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},o.prototype._setAsyncGuaranteed=function(){b.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},o.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==m)return void 0===t&&this._isBound()?this._boundValue():t},o.prototype._promiseAt=function(e){return this[4*e-4+2]},o.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},o.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},o.prototype._boundValue=function(){},o.prototype._migrateCallback0=function(e){var t=(e._bitField,e._fulfillmentHandler0),n=e._rejectionHandler0,i=e._promise0,a=e._receiverAt(0);void 0===a&&(a=m),this._addCallbacks(t,n,i,a,null)},o.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),i=e._rejectionHandlerAt(t),a=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=m),this._addCallbacks(n,i,a,o,null)},o.prototype._addCallbacks=function(e,t,n,i,a){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=i,"function"==typeof e&&(this._fulfillmentHandler0=null===a?e:h.domainBind(a,e)),"function"==typeof t&&(this._rejectionHandler0=null===a?t:h.domainBind(a,t));else{var r=4*o-4;this[r+2]=n,this[r+3]=i,"function"==typeof e&&(this[r+0]=null===a?e:h.domainBind(a,e)),"function"==typeof t&&(this[r+1]=null===a?t:h.domainBind(a,t))}return this._setLength(o+1),o},o.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},o.prototype._resolveCallback=function(e,t){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(d(),!1);var n=S(e,this);if(!(n instanceof o))return this._fulfill(e);t&&this._propagateFrom(n,2);var i=n._target();if(i===this)return void this._reject(d());var a=i._bitField;if(0==(50397184&a)){var r=this._length();r>0&&i._migrateCallback0(this);for(var s=1;s<r;++s)i._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(i)}else if(0!=(33554432&a))this._fulfill(i._value());else if(0!=(16777216&a))this._reject(i._reason());else{var l=new y("late cancellation observer");i._attachExtraTrace(l),this._reject(l)}}},o.prototype._rejectCallback=function(e,t,n){var i=h.ensureErrorObject(e),a=i===e;if(!a&&!n&&A.warnings()){var o="a promise was rejected with a non-error: "+h.classString(e);this._warn(o,!0)}this._attachExtraTrace(i,!!t&&a),this._reject(e)},o.prototype._resolveFromExecutor=function(e){if(e!==E){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,i=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=!1,this._popContext(),void 0!==i&&t._rejectCallback(i,!0)}},o.prototype._settlePromiseFromHandler=function(e,t,n,i){var a=i._bitField;if(0==(65536&a)){i._pushContext();var o;t===T?n&&"number"==typeof n.length?o=B(e).apply(this._boundValue(),n):(o=M,o.e=new g("cannot .spread() a non-array: "+h.classString(n))):o=B(e).call(t,n);var r=i._popContext();a=i._bitField,0==(65536&a)&&(o===w?i._reject(n):o===M?i._rejectCallback(o.e,!1):(A.checkForgottenReturns(o,r,"",i,this),i._resolveCallback(o)))}},o.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},o.prototype._followee=function(){return this._rejectionHandler0},o.prototype._setFollowee=function(e){this._rejectionHandler0=e},o.prototype._settlePromise=function(e,t,n,a){var r=e instanceof o,s=this._bitField,l=0!=(134217728&s);0!=(65536&s)?(r&&e._invokeInternalOnCancel(),n instanceof k&&n.isFinallyHandler()?(n.cancelPromise=e,B(t).call(n,a)===M&&e._reject(M.e)):t===u?e._fulfill(u.call(n)):n instanceof i?n._promiseCancelled(e):r||e instanceof C?e._cancel():n.cancel()):"function"==typeof t?r?(l&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,n,a,e)):t.call(n,a,e):n instanceof i?n._isResolved()||(0!=(33554432&s)?n._promiseFulfilled(a,e):n._promiseRejected(a,e)):r&&(l&&e._setAsyncGuaranteed(),0!=(33554432&s)?e._fulfill(a):e._reject(a))},o.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,i=e.receiver,a=e.value;"function"==typeof t?n instanceof o?this._settlePromiseFromHandler(t,i,a,n):t.call(i,a,n):n instanceof o&&n._reject(a)},o.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},o.prototype._settlePromise0=function(e,t,n){var i=this._promise0,a=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(i,e,a,t)},o.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},o.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=d();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!=(134217728&t)?this._settlePromises():b.settlePromises(this),this._dereferenceTrace())}},o.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return b.fatalError(e,h.isNode);(65535&t)>0?b.settlePromises(this):this._ensurePossibleRejectionHandled()}},o.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var i=this._fulfillmentHandlerAt(n),a=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(a,i,o,t)}},o.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var i=this._rejectionHandlerAt(n),a=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(a,i,o,t)}},o.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!=(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var i=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,i,e),this._fulfillPromises(t,i)}this._setLength(0)}this._clearCancellationData()},o.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&f.defineProperty(o.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),o.defer=o.pending=function(){return A.deprecated("Promise.defer","new Promise"),{promise:new o(E),resolve:r,reject:s}},h.notEnumerableProp(o,"_makeSelfResolutionError",d),t("./method")(o,E,S,p,A),t("./bind")(o,E,S,A),t("./cancel")(o,C,p,A),t("./direct_resolve")(o),t("./synchronous_inspection")(o),t("./join")(o,C,S,E,b,c),o.Promise=o,o.version="3.5.5",t("./call_get.js")(o),t("./generators.js")(o,p,E,S,i,A),t("./map.js")(o,C,p,S,E,A),t("./nodeify.js")(o),t("./promisify.js")(o,E),t("./props.js")(o,C,S,p),t("./race.js")(o,E,S,p),t("./reduce.js")(o,C,p,S,E,A),t("./settle.js")(o,C,A),t("./some.js")(o,C,p),t("./timers.js")(o,E,A),t("./using.js")(o,p,S,P,E,A),t("./any.js")(o),t("./each.js")(o,E),t("./filter.js")(o,E),h.toFastProperties(o),h.toFastProperties(o.prototype),l({a:1}),l({b:2}),l({c:3}),l(1),l(function(){}),l(void 0),l(!1),l(new o(E)),A.setBounds(_.firstLineError,h.lastLineError),o}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,o){function r(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}function s(e){var i=this._promise=new t(n);e instanceof t&&i._propagateFrom(e,3),i._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var l=e("./util");l.isArray;return l.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function e(n,o){var s=i(this._values,this._promise);if(s instanceof t){s=s._target();var c=s._bitField;if(this._values=s,0==(50397184&c))return this._promise._setAsyncGuaranteed(),s._then(e,this._reject,void 0,this,o);if(0==(33554432&c))return 0!=(16777216&c)?this._reject(s._reason()):this._cancel();s=s._value()}if(null===(s=l.asArray(s))){var d=a("expecting an array or an iterable object but got "+l.classString(s)).reason();return void this._promise._rejectCallback(d,!1)}if(0===s.length)return void(-5===o?this._resolveEmptyArray():this._resolve(r(o)));this._iterate(s)},s.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var a=this._promise,o=!1,r=null,s=0;s<n;++s){var l=i(e[s],a);l instanceof t?(l=l._target(),r=l._bitField):r=null,o?null!==r&&l.suppressUnhandledRejections():null!==r?0==(50397184&r)?(l._proxy(this,s),this._values[s]=l):o=0!=(33554432&r)?this._promiseFulfilled(l._value(),s):0!=(16777216&r)?this._promiseRejected(l._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(l,s)}o||a._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},s.prototype._promiseFulfilled=function(e,t){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}},{"./util":36}],24:[function(e,t,n){"use strict";t.exports=function(t,n){function i(e){return!E.test(e)}function a(e){try{return!0===e.__isPromisified__}catch(e){return!1}}function o(e,t,n){var i=m.getDataPropertyOrDefault(e,t+n,g);return!!i&&a(i)}function r(e,t,n){for(var i=0;i<e.length;i+=2){var a=e[i];if(n.test(a))for(var o=a.replace(n,""),r=0;r<e.length;r+=2)if(e[r]===o)throw new v("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}function s(e,t,n,i){for(var s=m.inheritedDataKeys(e),l=[],c=0;c<s.length;++c){var d=s[c],u=e[d],p=i===T||T(d,u,e);"function"!=typeof u||a(u)||o(e,d,t)||!i(d,u,e,p)||l.push(d,u)}return r(l,t,n),l}function l(e,i,a,o,r,s){function l(){var a=i;i===p&&(a=this);var o=new t(n);o._captureStackTrace();var r="string"==typeof d&&this!==c?this[d]:e,l=h(o,s);try{r.apply(a,f(arguments,l))}catch(e){o._rejectCallback(_(e),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var c=function(){return this}(),d=e;return"string"==typeof d&&(e=o),m.notEnumerableProp(l,"__isPromisified__",!0),l}function c(e,t,n,i,a){for(var o=new RegExp(w(t)+"$"),r=s(e,t,o,n),l=0,c=r.length;l<c;l+=2){var d=r[l],u=r[l+1],h=d+t;if(i===S)e[h]=S(d,p,d,u,t,a);else{var f=i(u,function(){return S(d,p,d,u,t,a)});m.notEnumerableProp(f,"__isPromisified__",!0),e[h]=f}}return m.toFastProperties(e),e}function d(e,t,n){return S(e,t,void 0,e,null,n)}var u,p={},m=e("./util"),h=e("./nodeback"),f=m.withAppended,_=m.maybeWrapAsError,b=m.canEvaluate,v=e("./errors").TypeError,g={__isPromisified__:!0},y=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],E=new RegExp("^(?:"+y.join("|")+")$"),T=function(e){return m.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},w=function(e){return e.replace(/([$])/,"\\$")},S=b?u:l;t.promisify=function(e,t){if("function"!=typeof e)throw new v("expecting a function but got "+m.classString(e));if(a(e))return e;t=Object(t);var n=void 0===t.context?p:t.context,o=!!t.multiArgs,r=d(e,n,o);return m.copyDescriptors(e,r,i),r},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new v("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");t=Object(t);var n=!!t.multiArgs,i=t.suffix;"string"!=typeof i&&(i="Async");var a=t.filter;"function"!=typeof a&&(a=T);var o=t.promisifier;if("function"!=typeof o&&(o=S),!m.isIdentifier(i))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var r=m.inheritedDataKeys(e),s=0;s<r.length;++s){var l=e[r[s]];"constructor"!==r[s]&&m.isClass(l)&&(c(l.prototype,i,a,o,n),c(l,i,a,o,n))}return c(e,i,a,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,n){"use strict";t.exports=function(t,n,i,a){function o(e){var t,n=!1;if(void 0!==s&&e instanceof s)t=u(e),n=!0;else{var i=d.keys(e),a=i.length;t=new Array(2*a);for(var o=0;o<a;++o){var r=i[o];t[o]=e[r],t[o+a]=r}}this.constructor$(t),this._isMap=n,this._init$(void 0,n?-6:-3)}function r(e){var n,r=i(e);return c(r)?(n=r instanceof t?r._then(t.props,void 0,void 0,void 0,void 0):new o(r).promise(),r instanceof t&&n._propagateFrom(r,2),n):a("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,l=e("./util"),c=l.isObject,d=e("./es5");"function"==typeof Map&&(s=Map);var u=function(){function e(e,i){this[t]=e,this[t+n]=i,t++}var t=0,n=0;return function(i){n=i.size,t=0;var a=new Array(2*i.size);return i.forEach(e,a),a}}(),p=function(e){for(var t=new s,n=e.length/2|0,i=0;i<n;++i){var a=e[n+i],o=e[i];t.set(a,o)}return t};l.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(e,t){if(this._values[t]=e,++this._totalResolved>=this._length){var n;if(this._isMap)n=p(this._values);else{n={};for(var i=this.length(),a=0,o=this.length();a<o;++a)n[this._values[a+i]]=this._values[a]}return this._resolve(n),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return r(this)},t.props=function(e){return r(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,n){"use strict";function i(e,t,n,i,a){for(var o=0;o<a;++o)n[o+i]=e[o+t],e[o+t]=void 0}function a(e){this._capacity=e,this._length=0,this._front=0}a.prototype._willBeOverCapacity=function(e){return this._capacity<e},a.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1),this[this._front+t&this._capacity-1]=e,this._length=t+1},a.prototype.push=function(e,t,n){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var a=this._front+i-3;this._checkCapacity(i);var o=this._capacity-1;this[a+0&o]=e,this[a+1&o]=t,this[a+2&o]=n,this._length=i},a.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},a.prototype.length=function(){return this._length},a.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},a.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e,i(this,0,this,t,this._front+this._length&t-1)},t.exports=a},{}],27:[function(e,t,n){"use strict";t.exports=function(t,n,i,a){function o(e,o){var l=i(e);if(l instanceof t)return s(l);if(null===(e=r.asArray(e)))return a("expecting an array or an iterable object but got "+r.classString(e));var c=new t(n);void 0!==o&&c._propagateFrom(o,3);for(var d=c._fulfill,u=c._reject,p=0,m=e.length;p<m;++p){var h=e[p];(void 0!==h||p in e)&&t.cast(h)._then(d,u,void 0,c,null)}return c}var r=e("./util"),s=function(e){return e.then(function(t){return o(t,e)})};t.race=function(e){return o(e,void 0)},t.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,o,r){function s(e,n,i,a){this.constructor$(e);var r=p();this._fn=null===r?n:m.domainBind(r,n),void 0!==i&&(i=t.resolve(i),i._attachCancellationCallback(this)),this._initialValue=i,this._currentCancellable=null,this._eachValues=a===o?Array(this._length):0===a?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function l(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function c(e,t,n,a){return"function"!=typeof t?i("expecting a function but got "+m.classString(t)):new s(e,t,n,a).promise()}function d(e){this.accum=e,this.array._gotAccum(e);var n=a(this.value,this.array._promise);return n instanceof t?(this.array._currentCancellable=n,n._then(u,void 0,void 0,this,void 0)):u.call(this,n)}function u(e){var n=this.array,i=n._promise,a=h(n._fn);i._pushContext();var o;(o=void 0!==n._eachValues?a.call(i._boundValue(),e,this.index,this.length):a.call(i._boundValue(),this.accum,e,this.index,this.length))instanceof t&&(n._currentCancellable=o);var s=i._popContext();return r.checkForgottenReturns(o,s,void 0!==n._eachValues?"Promise.each":"Promise.reduce",i),o}var p=t._getDomain,m=e("./util"),h=m.tryCatch;m.inherits(s,n),s.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==o&&this._eachValues.push(e)},s.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},s.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},s.prototype._iterate=function(e){this._values=e;var n,i,a=e.length;if(void 0!==this._initialValue?(n=this._initialValue,i=0):(n=t.resolve(e[0]),i=1),this._currentCancellable=n,!n.isRejected())for(;i<a;++i){var o={accum:null,value:e[i],index:i,length:a,array:this};n=n._then(d,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(l,l,void 0,n,this)},t.prototype.reduce=function(e,t){return c(this,e,t,null)},t.reduce=function(e,t,n,i){return c(e,t,n,i)}}},{"./util":36}],29:[function(t,n,o){"use strict";var r,s=t("./util"),l=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},c=s.getNativePromise();if(s.isNode&&"undefined"==typeof MutationObserver){var d=i.setImmediate,u=e.nextTick;r=s.isRecentNode?function(e){d.call(i,e)}:function(t){u.call(e,t)}}else if("function"==typeof c&&"function"==typeof c.resolve){var p=c.resolve();r=function(e){p.then(e)}}else r="undefined"!=typeof MutationObserver&&("undefined"==typeof window||!window.navigator||!window.navigator.standalone&&!window.cordova)&&"classList"in document.documentElement?function(){var e=document.createElement("div"),t={attributes:!0},n=!1,i=document.createElement("div");new MutationObserver(function(){e.classList.toggle("foo"),n=!1}).observe(i,t);var a=function(){n||(n=!0,i.classList.toggle("foo"))};return function(n){var i=new MutationObserver(function(){i.disconnect(),n()});i.observe(e,t),a()}}():void 0!==a?function(e){a(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:l;n.exports=r},{"./util":36}],30:[function(e,t,n){"use strict";t.exports=function(t,n,i){function a(e){this.constructor$(e)}var o=t.PromiseInspection;e("./util").inherits(a,n),a.prototype._promiseResolved=function(e,t){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseFulfilled=function(e,t){var n=new o;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},a.prototype._promiseRejected=function(e,t){var n=new o
;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},t.settle=function(e){return i.deprecated(".settle()",".reflect()"),new a(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,n){"use strict";t.exports=function(t,n,i){function a(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(e,t){if((0|t)!==t||t<0)return i("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new a(e),o=n.promise();return n.setHowMany(t),n.init(),o}var r=e("./util"),s=e("./errors").RangeError,l=e("./errors").AggregateError,c=r.isArray,d={};r.inherits(a,n),a.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=c(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},a.prototype.init=function(){this._initialized=!0,this._init()},a.prototype.setUnwrap=function(){this._unwrap=!0},a.prototype.howMany=function(){return this._howMany},a.prototype.setHowMany=function(e){this._howMany=e},a.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},a.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},a.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(d),this._checkOutcome())},a.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new l,t=this.length();t<this._values.length;++t)this._values[t]!==d&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},a.prototype._fulfilled=function(){return this._totalResolved},a.prototype._rejected=function(){return this._values.length-this.length()},a.prototype._addRejected=function(e){this._values.push(e)},a.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},a.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},a.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new s(t)},a.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return o(e,t)},t.prototype.some=function(e){return o(this,e)},t._SomePromiseArray=a}},{"./errors":12,"./util":36}],32:[function(e,t,n){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},a=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},r=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},e.prototype.isPending=function(){return r.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return a.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),i.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,t,n){"use strict";t.exports=function(t,n){function i(e,i){if(d(e)){if(e instanceof t)return e;var a=o(e);if(a===c){i&&i._pushContext();var l=t.reject(a.e);return i&&i._popContext(),l}if("function"==typeof a){if(r(e)){var l=new t(n);return e._then(l._fulfill,l._reject,void 0,l,null),l}return s(e,a,i)}}return e}function a(e){return e.then}function o(e){try{return a(e)}catch(e){return c.e=e,c}}function r(e){try{return u.call(e,"_promise0")}catch(e){return!1}}function s(e,i,a){function o(e){s&&(s._resolveCallback(e),s=null)}function r(e){s&&(s._rejectCallback(e,u,!0),s=null)}var s=new t(n),d=s;a&&a._pushContext(),s._captureStackTrace(),a&&a._popContext();var u=!0,p=l.tryCatch(i).call(e,o,r);return u=!1,s&&p===c&&(s._rejectCallback(p.e,!0,!0),s=null),d}var l=e("./util"),c=l.errorObj,d=l.isObject,u={}.hasOwnProperty;return i}},{"./util":36}],34:[function(e,t,n){"use strict";t.exports=function(t,n,i){function a(e){this.handle=e}function o(e){return clearTimeout(this.handle),e}function r(e){throw clearTimeout(this.handle),e}var s=e("./util"),l=t.TimeoutError;a.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(e){return d(+this).thenReturn(e)},d=t.delay=function(e,o){var r,s;return void 0!==o?(r=t.resolve(o)._then(c,null,null,e,void 0),i.cancellation()&&o instanceof t&&r._setOnCancel(o)):(r=new t(n),s=setTimeout(function(){r._fulfill()},+e),i.cancellation()&&r._setOnCancel(new a(s)),r._captureStackTrace()),r._setAsyncGuaranteed(),r};t.prototype.delay=function(e){return d(e,this)};var u=function(e,t,n){var i;i="string"!=typeof t?t instanceof Error?t:new l("operation timed out"):new l(t),s.markAsOriginatingFromRejection(i),e._attachExtraTrace(i),e._reject(i),null!=n&&n.cancel()};t.prototype.timeout=function(e,t){e=+e;var n,s,l=new a(setTimeout(function(){n.isPending()&&u(n,t,s)},e));return i.cancellation()?(s=this.then(),n=s._then(o,r,void 0,l,void 0),n._setOnCancel(l)):n=this._then(o,r,void 0,l,void 0),n}}},{"./util":36}],35:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,o,r){function s(e){setTimeout(function(){throw e},0)}function l(e){var t=i(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}function c(e,n){function a(){if(r>=c)return d._fulfill();var o=l(e[r++]);if(o instanceof t&&o._isDisposable()){try{o=i(o._getDisposer().tryDispose(n),e.promise)}catch(e){return s(e)}if(o instanceof t)return o._then(a,s,null,null,null)}a()}var r=0,c=e.length,d=new t(o);return a(),d}function d(e,t,n){this._data=e,this._promise=t,this._context=n}function u(e,t,n){this.constructor$(e,t,n)}function p(e){return d.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function m(e){this.length=e,this.promise=null,this[e-1]=null}var h=e("./util"),f=e("./errors").TypeError,_=e("./util").inherits,b=h.errorObj,v=h.tryCatch,g={};d.prototype.data=function(){return this._data},d.prototype.promise=function(){return this._promise},d.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():g},d.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var i=t!==g?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,i},d.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},_(u,d),u.prototype.doDispose=function(e,t){return this.data().call(e,e,t)},m.prototype._resultCancelled=function(){for(var e=this.length,n=0;n<e;++n){var i=this[n];i instanceof t&&i.cancel()}},t.using=function(){var e=arguments.length;if(e<2)return n("you must pass at least 2 arguments to Promise.using");var a=arguments[e-1];if("function"!=typeof a)return n("expecting a function but got "+h.classString(a));var o,s=!0;2===e&&Array.isArray(arguments[0])?(o=arguments[0],e=o.length,s=!1):(o=arguments,e--);for(var l=new m(e),u=0;u<e;++u){var f=o[u];if(d.isDisposer(f)){var _=f;f=f.promise(),f._setDisposable(_)}else{var g=i(f);g instanceof t&&(f=g._then(p,null,null,{resources:l,index:u},void 0))}l[u]=f}for(var y=new Array(l.length),u=0;u<y.length;++u)y[u]=t.resolve(l[u]).reflect();var E=t.all(y).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected())return b.e=n.error(),b;if(!n.isFulfilled())return void E.cancel();e[t]=n.value()}T._pushContext(),a=v(a);var i=s?a.apply(void 0,e):a(e),o=T._popContext();return r.checkForgottenReturns(i,o,"Promise.using",T),i}),T=E.lastly(function(){var e=new t.PromiseInspection(E);return c(l,e)});return l.promise=T,T._setOnCancel(l),T},t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new u(e,this,a());throw new f}}},{"./errors":12,"./util":36}],36:[function(t,n,a){"use strict";function o(){try{var e=N;return N=null,e.apply(this,arguments)}catch(e){return x.e=e,x}}function r(e){return N=e,o}function s(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function l(e){return"function"==typeof e||"object"==typeof e&&null!==e}function c(e){return s(e)?new Error(v(e)):e}function d(e,t){var n,i=e.length,a=new Array(i+1);for(n=0;n<i;++n)a[n]=e[n];return a[n]=t,a}function u(e,t,n){if(!A.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var i=Object.getOwnPropertyDescriptor(e,t);return null!=i?null==i.get&&null==i.set?i.value:n:void 0}function p(e,t,n){if(s(e))return e;var i={value:n,configurable:!0,enumerable:!1,writable:!0};return A.defineProperty(e,t,i),e}function m(e){throw e}function h(e){try{if("function"==typeof e){var t=A.names(e.prototype),n=A.isES5&&t.length>1,i=t.length>0&&!(1===t.length&&"constructor"===t[0]),a=D.test(e+"")&&A.names(e).length>0;if(n||i||a)return!0}return!1}catch(e){return!1}}function f(e){function t(){}function n(){return typeof i.foo}t.prototype=e;var i=new t;return n(),n(),e}function _(e){return V.test(e)}function b(e,t,n){for(var i=new Array(e),a=0;a<e;++a)i[a]=t+a+n;return i}function v(e){try{return e+""}catch(e){return"[no string representation]"}}function g(e){return e instanceof Error||null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function y(e){try{p(e,"isOperational",!0)}catch(e){}}function E(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)}function T(e){return g(e)&&A.propertyIsWritable(e,"stack")}function w(e){return{}.toString.call(e)}function S(e,t,n){for(var i=A.names(e),a=0;a<i.length;++a){var o=i[a];if(n(o))try{A.defineProperty(t,o,A.getDescriptor(e,o))}catch(e){}}}function C(t){return H?e.env[t]:void 0}function I(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(e){}}function P(e,t){return e.bind(t)}var A=t("./es5"),k="undefined"==typeof navigator,x={e:{}},N,M="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==i?i:void 0!==this?this:null,B=function(e,t){function n(){this.constructor=e,this.constructor$=t;for(var n in t.prototype)i.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}var i={}.hasOwnProperty;return n.prototype=t.prototype,e.prototype=new n,e.prototype},L=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(A.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var i=[],a=Object.create(null);null!=e&&!t(e);){var o;try{o=n(e)}catch(e){return i}for(var r=0;r<o.length;++r){var s=o[r];if(!a[s]){a[s]=!0;var l=Object.getOwnPropertyDescriptor(e,s);null!=l&&null==l.get&&null==l.set&&i.push(s)}}e=A.getPrototypeOf(e)}return i}}var i={}.hasOwnProperty;return function(n){if(t(n))return[];var a=[];e:for(var o in n)if(i.call(n,o))a.push(o);else{for(var r=0;r<e.length;++r)if(i.call(e[r],o))continue e;a.push(o)}return a}}(),D=/this\s*\.\s*\S+\s*=/,V=/^[a-z$_][a-z$_0-9]*$/i,R=function(){return"stack"in new Error?function(e){return T(e)?e:new Error(v(e))}:function(e){if(T(e))return e;try{throw new Error(v(e))}catch(e){return e}}}(),O=function(e){return A.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var j="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],i=e[Symbol.iterator]();!(t=i.next()).done;)n.push(t.value);return n};O=function(e){return A.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?j(e):null}}var U=void 0!==e&&"[object process]"===w(e).toLowerCase(),H=void 0!==e&&void 0!==e.env,F={isClass:h,isIdentifier:_,inheritedDataKeys:L,getDataPropertyOrDefault:u,thrower:m,isArray:A.isArray,asArray:O,notEnumerableProp:p,isPrimitive:s,isObject:l,isError:g,canEvaluate:k,errorObj:x,tryCatch:r,inherits:B,withAppended:d,maybeWrapAsError:c,toFastProperties:f,filledRange:b,toString:v,canAttachTrace:T,ensureErrorObject:R,originatesFromRejection:E,markAsOriginatingFromRejection:y,classString:w,copyDescriptors:S,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:U,hasEnvVariables:H,env:C,global:M,getNativePromise:I,domainBind:P};F.isRecentNode=F.isNode&&function(){var t;return e.versions&&e.versions.node?t=e.versions.node.split(".").map(Number):e.version&&(t=e.version.split(".").map(Number)),0===t[0]&&t[1]>10||t[0]>0}(),F.isNode&&F.toFastProperties(e);try{throw new Error}catch(e){F.lastLineError=e}n.exports=F},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{_process:272,timers:273}],17:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},{}],18:[function(e,t,n){/*!
 * jQuery JavaScript Library v1.12.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:17Z
 */
!function(e,n){"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=pe.type(e);return"function"!==n&&!pe.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e,t,n){if(pe.isFunction(t))return pe.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return pe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(Te.test(t))return pe.filter(t,e,n);t=pe.filter(t,e)}return pe.grep(e,function(e){return pe.inArray(e,t)>-1!==n})}function a(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function o(e){var t={};return pe.each(e.match(Pe)||[],function(e,n){t[n]=!0}),t}function r(){ie.addEventListener?(ie.removeEventListener("DOMContentLoaded",s),e.removeEventListener("load",s)):(ie.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(ie.addEventListener||"load"===e.event.type||"complete"===ie.readyState)&&(r(),pe.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(Me,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Ne.test(n)?pe.parseJSON(n):n)}catch(e){}pe.data(e,t,n)}else n=void 0}return n}function c(e){var t;for(t in e)if(("data"!==t||!pe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function d(e,t,n,i){if(xe(e)){var a,o,r=pe.expando,s=e.nodeType,l=s?pe.cache:e,c=s?e[r]:e[r]&&r;if(c&&l[c]&&(i||l[c].data)||void 0!==n||"string"!=typeof t)return c||(c=s?e[r]=ne.pop()||pe.guid++:r),l[c]||(l[c]=s?{}:{toJSON:pe.noop}),"object"!=typeof t&&"function"!=typeof t||(i?l[c]=pe.extend(l[c],t):l[c].data=pe.extend(l[c].data,t)),o=l[c],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[pe.camelCase(t)]=n),"string"==typeof t?null==(a=o[t])&&(a=o[pe.camelCase(t)]):a=o,a}}function u(e,t,n){if(xe(e)){var i,a,o=e.nodeType,r=o?pe.cache:e,s=o?e[pe.expando]:pe.expando;if(r[s]){if(t&&(i=n?r[s]:r[s].data)){pe.isArray(t)?t=t.concat(pe.map(t,pe.camelCase)):t in i?t=[t]:(t=pe.camelCase(t),t=t in i?[t]:t.split(" ")),a=t.length;for(;a--;)delete i[t[a]];if(n?!c(i):!pe.isEmptyObject(i))return}(n||(delete r[s].data,c(r[s])))&&(o?pe.cleanData([e],!0):ue.deleteExpando||r!=r.window?delete r[s]:r[s]=void 0)}}}function p(e,t,n,i){var a,o=1,r=20,s=i?function(){return i.cur()}:function(){return pe.css(e,t,"")},l=s(),c=n&&n[3]||(pe.cssNumber[t]?"":"px"),d=(pe.cssNumber[t]||"px"!==c&&+l)&&Le.exec(pe.css(e,t));if(d&&d[3]!==c){c=c||d[3],n=n||[],d=+l||1;do{o=o||".5",d/=o,pe.style(e,t,d+c)}while(o!==(o=s()/l)&&1!==o&&--r)}return n&&(d=+d||+l||0,a=n[1]?d+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=d,i.end=a)),a}function m(e){var t=Fe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function h(e,t){var n,i,a=0,o=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(i=n[a]);a++)!t||pe.nodeName(i,t)?o.push(i):pe.merge(o,h(i,t));return void 0===t||t&&pe.nodeName(e,t)?pe.merge([e],o):o}function f(e,t){for(var n,i=0;null!=(n=e[i]);i++)pe._data(n,"globalEval",!t||pe._data(t[i],"globalEval"))}function _(e){Oe.test(e.type)&&(e.defaultChecked=e.checked)}function b(e,t,n,i,a){for(var o,r,s,l,c,d,u,p=e.length,b=m(t),v=[],g=0;g<p;g++)if((r=e[g])||0===r)if("object"===pe.type(r))pe.merge(v,r.nodeType?[r]:r);else if(Ke.test(r)){for(l=l||b.appendChild(t.createElement("div")),c=(je.exec(r)||["",""])[1].toLowerCase(),u=Ge[c]||Ge._default,l.innerHTML=u[1]+pe.htmlPrefilter(r)+u[2],o=u[0];o--;)l=l.lastChild;if(!ue.leadingWhitespace&&He.test(r)&&v.push(t.createTextNode(He.exec(r)[0])),!ue.tbody)for(r="table"!==c||Ye.test(r)?"<table>"!==u[1]||Ye.test(r)?0:l:l.firstChild,o=r&&r.childNodes.length;o--;)pe.nodeName(d=r.childNodes[o],"tbody")&&!d.childNodes.length&&r.removeChild(d);for(pe.merge(v,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=b.lastChild}else v.push(t.createTextNode(r));for(l&&b.removeChild(l),ue.appendChecked||pe.grep(h(v,"input"),_),g=0;r=v[g++];)if(i&&pe.inArray(r,i)>-1)a&&a.push(r);else if(s=pe.contains(r.ownerDocument,r),l=h(b.appendChild(r),"script"),s&&f(l),n)for(o=0;r=l[o++];)Ue.test(r.type||"")&&n.push(r);return l=null,b}function v(){return!0}function g(){return!1}function y(){try{return ie.activeElement}catch(e){}}function E(e,t,n,i,a,o){var r,s;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(s in t)E(e,s,n,i,t[s],o);return e}if(null==i&&null==a?(a=n,i=n=void 0):null==a&&("string"==typeof n?(a=i,i=void 0):(a=i,i=n,n=void 0)),!1===a)a=g;else if(!a)return e;return 1===o&&(r=a,a=function(e){return pe().off(e),r.apply(this,arguments)},a.guid=r.guid||(r.guid=pe.guid++)),e.each(function(){pe.event.add(this,t,a,i,n)})}function T(e,t){return pe.nodeName(e,"table")&&pe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function w(e){return e.type=(null!==pe.find.attr(e,"type"))+"/"+e.type,e}function S(e){var t=nt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function C(e,t){if(1===t.nodeType&&pe.hasData(e)){var n,i,a,o=pe._data(e),r=pe._data(t,o),s=o.events;if(s){delete r.handle,r.events={};for(n in s)for(i=0,a=s[n].length;i<a;i++)pe.event.add(t,n,s[n][i])}r.data&&(r.data=pe.extend({},r.data))}}function I(e,t){var n,i,a;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ue.noCloneEvent&&t[pe.expando]){a=pe._data(t);for(i in a.events)pe.removeEvent(t,i,a.handle);t.removeAttribute(pe.expando)}"script"===n&&t.text!==e.text?(w(t).text=e.text,S(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ue.html5Clone&&e.innerHTML&&!pe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Oe.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function P(e,t,n,i){t=oe.apply([],t);var a,o,r,s,l,c,d=0,u=e.length,p=u-1,m=t[0],f=pe.isFunction(m);if(f||u>1&&"string"==typeof m&&!ue.checkClone&&tt.test(m))return e.each(function(a){var o=e.eq(a);f&&(t[0]=m.call(this,a,o.html())),P(o,t,n,i)});if(u&&(c=b(t,e[0].ownerDocument,!1,e,i),a=c.firstChild,1===c.childNodes.length&&(c=a),a||i)){for(s=pe.map(h(c,"script"),w),r=s.length;d<u;d++)o=c,d!==p&&(o=pe.clone(o,!0,!0),r&&pe.merge(s,h(o,"script"))),n.call(e[d],o,d);if(r)for(l=s[s.length-1].ownerDocument,pe.map(s,S),d=0;d<r;d++)o=s[d],Ue.test(o.type||"")&&!pe._data(o,"globalEval")&&pe.contains(l,o)&&(o.src?pe._evalUrl&&pe._evalUrl(o.src):pe.globalEval((o.text||o.textContent||o.innerHTML||"").replace(it,"")));c=a=null}return e}function A(e,t,n){for(var i,a=t?pe.filter(t,e):e,o=0;null!=(i=a[o]);o++)n||1!==i.nodeType||pe.cleanData(h(i)),i.parentNode&&(n&&pe.contains(i.ownerDocument,i)&&f(h(i,"script")),i.parentNode.removeChild(i));return e}function k(e,t){var n=pe(t.createElement(e)).appendTo(t.body),i=pe.css(n[0],"display");return n.detach(),i}function x(e){var t=ie,n=st[e];return n||(n=k(e,t),"none"!==n&&n||(rt=(rt||pe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(rt[0].contentWindow||rt[0].contentDocument).document,t.write(),t.close(),n=k(e,t),rt.detach()),st[e]=n),n}function N(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function M(e){if(e in Tt)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=Et.length;n--;)if((e=Et[n]+t)in Tt)return e}function B(e,t){for(var n,i,a,o=[],r=0,s=e.length;r<s;r++)i=e[r],i.style&&(o[r]=pe._data(i,"olddisplay"),n=i.style.display,t?(o[r]||"none"!==n||(i.style.display=""),""===i.style.display&&Ve(i)&&(o[r]=pe._data(i,"olddisplay",x(i.nodeName)))):(a=Ve(i),(n&&"none"!==n||!a)&&pe._data(i,"olddisplay",a?n:pe.css(i,"display"))));for(r=0;r<s;r++)i=e[r],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[r]||"":"none"));return e}function L(e,t,n){var i=vt.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function D(e,t,n,i,a){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,r=0;o<4;o+=2)"margin"===n&&(r+=pe.css(e,n+De[o],!0,a)),i?("content"===n&&(r-=pe.css(e,"padding"+De[o],!0,a)),"margin"!==n&&(r-=pe.css(e,"border"+De[o]+"Width",!0,a))):(r+=pe.css(e,"padding"+De[o],!0,a),"padding"!==n&&(r+=pe.css(e,"border"+De[o]+"Width",!0,a)));return r}function V(e,t,n){var i=!0,a="width"===t?e.offsetWidth:e.offsetHeight,o=pt(e),r=ue.boxSizing&&"border-box"===pe.css(e,"boxSizing",!1,o);if(a<=0||null==a){if(a=mt(e,t,o),(a<0||null==a)&&(a=e.style[t]),ct.test(a))return a;i=r&&(ue.boxSizingReliable()||a===e.style[t]),a=parseFloat(a)||0}return a+D(e,t,n||(r?"border":"content"),i,o)+"px"}function R(e,t,n,i,a){return new R.prototype.init(e,t,n,i,a)}function O(){return e.setTimeout(function(){wt=void 0}),wt=pe.now()}function j(e,t){var n,i={height:e},a=0;for(t=t?1:0;a<4;a+=2-t)n=De[a],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function U(e,t,n){for(var i,a=(G.tweeners[t]||[]).concat(G.tweeners["*"]),o=0,r=a.length;o<r;o++)if(i=a[o].call(n,t,e))return i}function H(e,t,n){var i,a,o,r,s,l,c,d=this,u={},p=e.style,m=e.nodeType&&Ve(e),h=pe._data(e,"fxshow");n.queue||(s=pe._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,pe.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=pe.css(e,"display"),"inline"===("none"===c?pe._data(e,"olddisplay")||x(e.nodeName):c)&&"none"===pe.css(e,"float")&&(ue.inlineBlockNeedsLayout&&"inline"!==x(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ue.shrinkWrapBlocks()||d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(a=t[i],Ct.exec(a)){if(delete t[i],o=o||"toggle"===a,a===(m?"hide":"show")){if("show"!==a||!h||void 0===h[i])continue;m=!0}u[i]=h&&h[i]||pe.style(e,i)}else c=void 0;if(pe.isEmptyObject(u))"inline"===("none"===c?x(e.nodeName):c)&&(p.display=c);else{h?"hidden"in h&&(m=h.hidden):h=pe._data(e,"fxshow",{}),o&&(h.hidden=!m),m?pe(e).show():d.done(function(){pe(e).hide()}),d.done(function(){var t;pe._removeData(e,"fxshow");for(t in u)pe.style(e,t,u[t])});for(i in u)r=U(m?h[i]:0,i,d),i in h||(h[i]=r.start,m&&(r.end=r.start,r.start="width"===i||"height"===i?1:0))}}function F(e,t){var n,i,a,o,r;for(n in e)if(i=pe.camelCase(n),a=t[i],o=e[n],pe.isArray(o)&&(a=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(r=pe.cssHooks[i])&&"expand"in r){o=r.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=a)}else t[i]=a}function G(e,t,n){var i,a,o=0,r=G.prefilters.length,s=pe.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=wt||O(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,r=0,l=c.tweens.length;r<l;r++)c.tweens[r].run(o);return s.notifyWith(e,[c,o,n]),o<1&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:pe.extend({},t),opts:pe.extend(!0,{specialEasing:{},easing:pe.easing._default},n),originalProperties:t,originalOptions:n,startTime:wt||O(),duration:n.duration,tweens:[],createTween:function(t,n){var i=pe.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(a)return this;for(a=!0;n<i;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),d=c.props;for(F(d,c.opts.specialEasing);o<r;o++)if(i=G.prefilters[o].call(c,e,d,c.opts))return pe.isFunction(i.stop)&&(pe._queueHooks(c.elem,c.opts.queue).stop=pe.proxy(i.stop,i)),i;return pe.map(d,U,c),pe.isFunction(c.opts.start)&&c.opts.start.call(e,c),pe.fx.timer(pe.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function K(e){return pe.attr(e,"class")||""}function Y(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,a=0,o=t.toLowerCase().match(Pe)||[];if(pe.isFunction(n))for(;i=o[a++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function $(e,t,n,i){function a(s){var l;return o[s]=!0,pe.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||r||o[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)}),l}var o={},r=e===qt;return a(t.dataTypes[0])||!o["*"]&&a("*")}function W(e,t){var n,i,a=pe.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((a[i]?e:n||(n={}))[i]=t[i]);return n&&pe.extend(!0,e,n),e}function z(e,t,n){for(var i,a,o,r,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===a&&(a=e.mimeType||t.getResponseHeader("Content-Type"));if(a)for(r in s)if(s[r]&&s[r].test(a)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}i||(i=r)}o=o||i}if(o)return o!==l[0]&&l.unshift(o),n[o]}function J(e,t,n,i){var a,o,r,s,l,c={},d=e.dataTypes.slice();if(d[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(o=d.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=d.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(r=c[l+" "+o]||c["* "+o]))for(a in c)if(s=a.split(" "),s[1]===o&&(r=c[l+" "+s[0]]||c["* "+s[0]])){!0===r?r=c[a]:!0!==c[a]&&(o=s[0],d.unshift(s[1]));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function q(e){return e.style&&e.style.display||pe.css(e,"display")}function X(e){if(!pe.contains(e.ownerDocument||ie,e))return!0;for(;e&&1===e.nodeType;){if("none"===q(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function Q(e,t,n,i){var a;if(pe.isArray(t))pe.each(t,function(t,a){n||tn.test(e)?i(e,a):Q(e+"["+("object"==typeof a&&null!=a?t:"")+"]",a,n,i)});else if(n||"object"!==pe.type(t))i(e,t);else for(a in t)Q(e+"["+a+"]",t[a],n,i)}function Z(){try{return new e.XMLHttpRequest}catch(e){}}function ee(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function te(e){return pe.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var ne=[],ie=e.document,ae=ne.slice,oe=ne.concat,re=ne.push,se=ne.indexOf,le={},ce=le.toString,de=le.hasOwnProperty,ue={},pe=function(e,t){return new pe.fn.init(e,t)},me=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,he=/^-ms-/,fe=/-([\da-z])/gi,_e=function(e,t){return t.toUpperCase()};pe.fn=pe.prototype={jquery:"1.12.4",constructor:pe,selector:"",length:0,toArray:function(){return ae.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:ae.call(this)},pushStack:function(e){var t=pe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return pe.each(this,e)},map:function(e){return this.pushStack(pe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ae.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:re,sort:ne.sort,splice:ne.splice},pe.extend=pe.fn.extend=function(){var e,t,n,i,a,o,r=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[s]||{},s++),"object"==typeof r||pe.isFunction(r)||(r={}),s===l&&(r=this,s--);s<l;s++)if(null!=(a=arguments[s]))for(i in a)e=r[i],n=a[i],r!==n&&(c&&n&&(pe.isPlainObject(n)||(t=pe.isArray(n)))?(t?(t=!1,o=e&&pe.isArray(e)?e:[]):o=e&&pe.isPlainObject(e)?e:{},r[i]=pe.extend(c,o,n)):void 0!==n&&(r[i]=n));return r},pe.extend({expando:"jQuery"+("1.12.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===pe.type(e)},isArray:Array.isArray||function(e){return"array"===pe.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!pe.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==pe.type(e)||e.nodeType||pe.isWindow(e))return!1;try{if(e.constructor&&!de.call(e,"constructor")&&!de.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(!ue.ownFirst)for(t in e)return de.call(e,t);for(t in e);return void 0===t||de.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?le[ce.call(e)]||"object":typeof e},globalEval:function(t){t&&pe.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(he,"ms-").replace(fe,_e)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var i,a=0;if(n(e))for(i=e.length;a<i&&!1!==t.call(e[a],a,e[a]);a++);else for(a in e)if(!1===t.call(e[a],a,e[a]))break;return e},trim:function(e){return null==e?"":(e+"").replace(me,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?pe.merge(i,"string"==typeof e?[e]:e):re.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(se)return se.call(t,e,n);for(i=t.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,a=e.length;i<n;)e[a++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[a++]=t[i++];return e.length=a,e},grep:function(e,t,n){for(var i=[],a=0,o=e.length,r=!n;a<o;a++)!t(e[a],a)!==r&&i.push(e[a]);return i},map:function(e,t,i){var a,o,r=0,s=[];if(n(e))for(a=e.length;r<a;r++)null!=(o=t(e[r],r,i))&&s.push(o);else for(r in e)null!=(o=t(e[r],r,i))&&s.push(o);return oe.apply([],s)},guid:1,proxy:function(e,t){var n,i,a;if("string"==typeof t&&(a=e[t],t=e,e=a),pe.isFunction(e))return n=ae.call(arguments,2),i=function(){return e.apply(t||this,n.concat(ae.call(arguments)))},i.guid=e.guid=e.guid||pe.guid++,i},now:function(){return+new Date},support:ue}),"function"==typeof Symbol&&(pe.fn[Symbol.iterator]=ne[Symbol.iterator]),pe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){le["[object "+t+"]"]=t.toLowerCase()});var be=/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(e){function t(e,t,n,i){var a,o,r,s,c,u,p,m,h=t&&t.ownerDocument,f=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return n;if(!i&&((t?t.ownerDocument||t:O)!==x&&k(t),t=t||x,M)){if(11!==f&&(u=fe.exec(e)))if(a=u[1]){if(9===f){if(!(r=t.getElementById(a)))return n;if(r.id===a)return n.push(r),n}else if(h&&(r=h.getElementById(a))&&V(t,r)&&r.id===a)return n.push(r),n}else{if(u[2])return q.apply(n,t.getElementsByTagName(e)),n;if((a=u[3])&&g.getElementsByClassName&&t.getElementsByClassName)return q.apply(n,t.getElementsByClassName(a)),n}if(g.qsa&&!G[e+" "]&&(!B||!B.test(e))){if(1!==f)h=t,m=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(be,"\\$&"):t.setAttribute("id",s=R),p=w(e),o=p.length,c=de.test(s)?"#"+s:"[id='"+s+"']";o--;)p[o]=c+" "+d(p[o]);m=p.join(","),h=_e.test(e)&&l(t.parentNode)||t}if(m)try{return q.apply(n,h.querySelectorAll(m)),n}catch(e){}finally{s===R&&t.removeAttribute("id")}}}return C(e.replace(oe,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>y.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[R]=!0,e}function a(e){var t=x.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=n.length;i--;)y.attrHandle[n[i]]=t}function r(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return i(function(t){return t=+t,i(function(n,i){for(var a,o=e([],n.length,t),r=o.length;r--;)n[a=o[r]]&&(n[a]=!(i[a]=n[a]))})})}function l(e){return e&&void 0!==e.getElementsByTagName&&e}function c(){}function d(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function u(e,t,n){var i=t.dir,a=n&&"parentNode"===i,o=U++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,o)}:function(t,n,r){var s,l,c,d=[j,o];if(r){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,r))return!0}else for(;t=t[i];)if(1===t.nodeType||a){if(c=t[R]||(t[R]={}),l=c[t.uniqueID]||(c[t.uniqueID]={}),(s=l[i])&&s[0]===j&&s[1]===o)return d[2]=s[2];if(l[i]=d,d[2]=e(t,n,r))return!0}}}function p(e){return e.length>1?function(t,n,i){for(var a=e.length;a--;)if(!e[a](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var a=0,o=n.length;a<o;a++)t(e,n[a],i);return i}function h(e,t,n,i,a){for(var o,r=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,i,a)||(r.push(o),c&&t.push(s)));return r}function f(e,t,n,a,o,r){return a&&!a[R]&&(a=f(a)),o&&!o[R]&&(o=f(o,r)),i(function(i,r,s,l){var c,d,u,p=[],f=[],_=r.length,b=i||m(t||"*",s.nodeType?[s]:s,[]),v=!e||!i&&t?b:h(b,p,e,s,l),g=n?o||(i?e:_||a)?[]:r:v;if(n&&n(v,g,s,l),a)for(c=h(g,f),a(c,[],s,l),d=c.length;d--;)(u=c[d])&&(g[f[d]]=!(v[f[d]]=u));if(i){if(o||e){if(o){for(c=[],d=g.length;d--;)(u=g[d])&&c.push(v[d]=u);o(null,g=[],c,l)}for(d=g.length;d--;)(u=g[d])&&(c=o?Q(i,u):p[d])>-1&&(i[c]=!(r[c]=u))}}else g=h(g===r?g.splice(_,g.length):g),o?o(null,r,g,l):q.apply(r,g)})}function _(e){for(var t,n,i,a=e.length,o=y.relative[e[0].type],r=o||y.relative[" "],s=o?1:0,l=u(function(e){return e===t},r,!0),c=u(function(e){return Q(t,e)>-1},r,!0),m=[function(e,n,i){var a=!o&&(i||n!==I)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,a}];s<a;s++)if(n=y.relative[e[s].type])m=[u(p(m),n)];else{if(n=y.filter[e[s].type].apply(null,e[s].matches),n[R]){for(i=++s;i<a&&!y.relative[e[i].type];i++);return f(s>1&&p(m),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(oe,"$1"),n,s<i&&_(e.slice(s,i)),i<a&&_(e=e.slice(i)),i<a&&d(e))}m.push(n)}return p(m)}function b(e,n){var a=n.length>0,o=e.length>0,r=function(i,r,s,l,c){var d,u,p,m=0,f="0",_=i&&[],b=[],v=I,g=i||o&&y.find.TAG("*",c),E=j+=null==v?1:Math.random()||.1,T=g.length;for(c&&(I=r===x||r||c);f!==T&&null!=(d=g[f]);f++){if(o&&d){for(u=0,r||d.ownerDocument===x||(k(d),s=!M);p=e[u++];)if(p(d,r||x,s)){l.push(d);break}c&&(j=E)}a&&((d=!p&&d)&&m--,i&&_.push(d))}if(m+=f,a&&f!==m){for(u=0;p=n[u++];)p(_,b,r,s);if(i){if(m>0)for(;f--;)_[f]||b[f]||(b[f]=z.call(l));b=h(b)}q.apply(l,b),c&&!i&&b.length>0&&m+n.length>1&&t.uniqueSort(l)}return c&&(j=E,I=v),_};return a?i(r):r}var v,g,y,E,T,w,S,C,I,P,A,k,x,N,M,B,L,D,V,R="sizzle"+1*new Date,O=e.document,j=0,U=0,H=n(),F=n(),G=n(),K=function(e,t){return e===t&&(A=!0),0},Y=1<<31,$={}.hasOwnProperty,W=[],z=W.pop,J=W.push,q=W.push,X=W.slice,Q=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",ie=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",ae=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),re=new RegExp("^"+ee+"*,"+ee+"*"),se=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ce=new RegExp(ie),de=new RegExp("^"+te+"$"),ue={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,he=/^[^{]+\{\s*\[native \w/,fe=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_e=/[+~]/,be=/'|\\/g,ve=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),ge=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},ye=function(){k()};try{q.apply(W=X.call(O.childNodes),O.childNodes),W[O.childNodes.length].nodeType}catch(e){q={apply:W.length?function(e,t){J.apply(e,X.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}g=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},k=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:O;return i!==x&&9===i.nodeType&&i.documentElement?(x=i,N=x.documentElement,M=!T(x),(n=x.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",ye,!1):n.attachEvent&&n.attachEvent("onunload",ye)),g.attributes=a(function(e){return e.className="i",!e.getAttribute("className")}),g.getElementsByTagName=a(function(e){return e.appendChild(x.createComment("")),!e.getElementsByTagName("*").length}),g.getElementsByClassName=he.test(x.getElementsByClassName),g.getById=a(function(e){return N.appendChild(e).id=R,!x.getElementsByName||!x.getElementsByName(R).length}),g.getById?(y.find.ID=function(e,t){if(void 0!==t.getElementById&&M){var n=t.getElementById(e);return n?[n]:[]}},y.filter.ID=function(e){var t=e.replace(ve,ge);return function(e){return e.getAttribute("id")===t}}):(delete y.find.ID,y.filter.ID=function(e){var t=e.replace(ve,ge);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),y.find.TAG=g.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):g.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],a=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[a++];)1===n.nodeType&&i.push(n);return i}return o},y.find.CLASS=g.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&M)return t.getElementsByClassName(e)},L=[],B=[],(g.qsa=he.test(x.querySelectorAll))&&(a(function(e){N.appendChild(e).innerHTML="<a id='"+R+"'></a><select id='"+R+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&B.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||B.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+R+"-]").length||B.push("~="),e.querySelectorAll(":checked").length||B.push(":checked"),e.querySelectorAll("a#"+R+"+*").length||B.push(".#.+[+~]")}),a(function(e){var t=x.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&B.push("name"+ee+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||B.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),B.push(",.*:")})),(g.matchesSelector=he.test(D=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&a(function(e){g.disconnectedMatch=D.call(e,"div"),D.call(e,"[s!='']:x"),L.push("!=",ie)}),B=B.length&&new RegExp(B.join("|")),L=L.length&&new RegExp(L.join("|")),t=he.test(N.compareDocumentPosition),V=t||he.test(N.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},K=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!g.sortDetached&&t.compareDocumentPosition(e)===n?e===x||e.ownerDocument===O&&V(O,e)?-1:t===x||t.ownerDocument===O&&V(O,t)?1:P?Q(P,e)-Q(P,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,i=0,a=e.parentNode,o=t.parentNode,s=[e],l=[t];if(!a||!o)return e===x?-1:t===x?1:a?-1:o?1:P?Q(P,e)-Q(P,t):0;if(a===o)return r(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?r(s[i],l[i]):s[i]===O?-1:l[i]===O?1:0},x):x},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==x&&k(e),n=n.replace(le,"='$1']"),g.matchesSelector&&M&&!G[n+" "]&&(!L||!L.test(n))&&(!B||!B.test(n)))try{var i=D.call(e,n);if(i||g.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(n,x,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==x&&k(e),V(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==x&&k(e);var n=y.attrHandle[t.toLowerCase()],i=n&&$.call(y.attrHandle,t.toLowerCase())?n(e,t,!M):void 0;return void 0!==i?i:g.attributes||!M?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,a=0;if(A=!g.detectDuplicates,P=!g.sortStable&&e.slice(0),e.sort(K),A){for(;t=e[a++];)t===e[a]&&(i=n.push(a));for(;i--;)e.splice(n[i],1)}return P=null,e},E=t.getText=function(e){var t,n="",i=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[i++];)n+=E(t);return n},y=t.selectors={cacheLength:50,createPseudo:i,match:ue,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ve,ge),e[3]=(e[3]||e[4]||e[5]||"").replace(ve,ge),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ue.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ce.test(n)&&(t=w(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ve,ge).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(a){var o=t.attr(a,e);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,a){var o="nth"!==e.slice(0,3),r="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===a?function(e){return!!e.parentNode}:function(t,n,l){var c,d,u,p,m,h,f=o!==r?"nextSibling":"previousSibling",_=t.parentNode,b=s&&t.nodeName.toLowerCase(),v=!l&&!s,g=!1;if(_){if(o){for(;f;){for(p=t;p=p[f];)if(s?p.nodeName.toLowerCase()===b:1===p.nodeType)return!1;h=f="only"===e&&!h&&"nextSibling"}return!0}if(h=[r?_.firstChild:_.lastChild],r&&v){for(p=_,u=p[R]||(p[R]={}),d=u[p.uniqueID]||(u[p.uniqueID]={}),c=d[e]||[],m=c[0]===j&&c[1],g=m&&c[2],p=m&&_.childNodes[m];p=++m&&p&&p[f]||(g=m=0)||h.pop();)if(1===p.nodeType&&++g&&p===t){d[e]=[j,m,g];break}}else if(v&&(p=t,u=p[R]||(p[R]={}),d=u[p.uniqueID]||(u[p.uniqueID]={}),c=d[e]||[],m=c[0]===j&&c[1],g=m),!1===g)for(;(p=++m&&p&&p[f]||(g=m=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==b:1!==p.nodeType)||!++g||(v&&(u=p[R]||(p[R]={}),d=u[p.uniqueID]||(u[p.uniqueID]={}),d[e]=[j,g]),p!==t)););return(g-=a)===i||g%i==0&&g/i>=0}}},PSEUDO:function(e,n){var a,o=y.pseudos[e]||y.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[R]?o(n):o.length>1?(a=[e,e,"",n],y.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,a=o(e,n),r=a.length;r--;)i=Q(e,a[r]),e[i]=!(t[i]=a[r])}):function(e){return o(e,0,a)}):o}},pseudos:{not:i(function(e){var t=[],n=[],a=S(e.replace(oe,"$1"));return a[R]?i(function(e,t,n,i){for(var o,r=a(e,null,i,[]),s=e.length;s--;)(o=r[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,a(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(ve,ge),function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:i(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ve,ge).toLowerCase(),function(t){var n;do{if(n=M?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===x.activeElement&&(!x.hasFocus||x.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!y.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,n){return[n<0?n+t:n]}),even:s(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:s(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:s(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:s(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}},y.pseudos.nth=y.pseudos.eq;for(v in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[v]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(v);for(v in{submit:!0,reset:!0})y.pseudos[v]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(v);return c.prototype=y.filters=y.pseudos,y.setFilters=new c,w=t.tokenize=function(e,n){var i,a,o,r,s,l,c,d=F[e+" "];if(d)return n?0:d.slice(0);for(s=e,l=[],c=y.preFilter;s;){i&&!(a=re.exec(s))||(a&&(s=s.slice(a[0].length)||s),l.push(o=[])),i=!1,(a=se.exec(s))&&(i=a.shift(),o.push({value:i,type:a[0].replace(oe," ")}),s=s.slice(i.length));for(r in y.filter)!(a=ue[r].exec(s))||c[r]&&!(a=c[r](a))||(i=a.shift(),o.push({value:i,type:r,matches:a}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):F(e,l).slice(0)},S=t.compile=function(e,t){var n,i=[],a=[],o=G[e+" "];if(!o){for(t||(t=w(e)),n=t.length;n--;)o=_(t[n]),o[R]?i.push(o):a.push(o);o=G(e,b(a,i)),o.selector=e}return o},C=t.select=function(e,t,n,i){var a,o,r,s,c,u="function"==typeof e&&e,p=!i&&w(e=u.selector||e);if(n=n||[],1===p.length){if(o=p[0]=p[0].slice(0),o.length>2&&"ID"===(r=o[0]).type&&g.getById&&9===t.nodeType&&M&&y.relative[o[1].type]){if(!(t=(y.find.ID(r.matches[0].replace(ve,ge),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(a=ue.needsContext.test(e)?0:o.length;a--&&(r=o[a],!y.relative[s=r.type]);)if((c=y.find[s])&&(i=c(r.matches[0].replace(ve,ge),_e.test(o[0].type)&&l(t.parentNode)||t))){if(o.splice(a,1),!(e=i.length&&d(o)))return q.apply(n,i),n;break}}return(u||S(e,p))(i,t,!M,n,!t||_e.test(e)&&l(t.parentNode)||t),n},g.sortStable=R.split("").sort(K).join("")===R,g.detectDuplicates=!!A,k(),g.sortDetached=a(function(e){return 1&e.compareDocumentPosition(x.createElement("div"))}),a(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),g.attributes&&a(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),a(function(e){return null==e.getAttribute("disabled")})||o(Z,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);pe.find=be,pe.expr=be.selectors,pe.expr[":"]=pe.expr.pseudos,pe.uniqueSort=pe.unique=be.uniqueSort,pe.text=be.getText,pe.isXMLDoc=be.isXML,pe.contains=be.contains;var ve=function(e,t,n){for(var i=[],a=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(a&&pe(e).is(n))break;i.push(e)}return i},ge=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},ye=pe.expr.match.needsContext,Ee=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Te=/^.[^:#\[\.,]*$/;pe.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?pe.find.matchesSelector(i,e)?[i]:[]:pe.find.matches(e,pe.grep(t,function(e){return 1===e.nodeType}))},pe.fn.extend({find:function(e){var t,n=[],i=this,a=i.length;if("string"!=typeof e)return this.pushStack(pe(e).filter(function(){for(t=0;t<a;t++)if(pe.contains(i[t],this))return!0}));for(t=0;t<a;t++)pe.find(e,i[t],n);return n=this.pushStack(a>1?pe.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&ye.test(e)?pe(e):e||[],!1).length}});var we,Se=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(pe.fn.init=function(e,t,n){var i,a;if(!e)return this;if(n=n||we,"string"==typeof e){if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Se.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof pe?t[0]:t,pe.merge(this,pe.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:ie,!0)),Ee.test(i[1])&&pe.isPlainObject(t))for(i in t)pe.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if((a=ie.getElementById(i[2]))&&a.parentNode){if(a.id!==i[2])return we.find(e);this.length=1,this[0]=a}return this.context=ie,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):pe.isFunction(e)?void 0!==n.ready?n.ready(e):e(pe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),pe.makeArray(e,this))}).prototype=pe.fn,we=pe(ie);var Ce=/^(?:parents|prev(?:Until|All))/,Ie={children:!0,contents:!0,next:!0,prev:!0};pe.fn.extend({has:function(e){var t,n=pe(e,this),i=n.length;return this.filter(function(){for(t=0;t<i;t++)if(pe.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,a=this.length,o=[],r=ye.test(e)||"string"!=typeof e?pe(e,t||this.context):0;i<a;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&pe.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?pe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?pe.inArray(this[0],pe(e)):pe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(pe.uniqueSort(pe.merge(this.get(),pe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),pe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ve(e,"parentNode")},parentsUntil:function(e,t,n){return ve(e,"parentNode",n)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return ve(e,"nextSibling")},prevAll:function(e){return ve(e,"previousSibling")},nextUntil:function(e,t,n){return ve(e,"nextSibling",n)},prevUntil:function(e,t,n){return ve(e,"previousSibling",n)},siblings:function(e){return ge((e.parentNode||{}).firstChild,e)},children:function(e){return ge(e.firstChild)},contents:function(e){return pe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:pe.merge([],e.childNodes)}},function(e,t){pe.fn[e]=function(n,i){var a=pe.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(a=pe.filter(i,a)),this.length>1&&(Ie[e]||(a=pe.uniqueSort(a)),Ce.test(e)&&(a=a.reverse())),this.pushStack(a)}});var Pe=/\S+/g;pe.Callbacks=function(e){e="string"==typeof e?o(e):pe.extend({},e);var t,n,i,a,r=[],s=[],l=-1,c=function(){for(a=e.once,i=t=!0;s.length;l=-1)for(n=s.shift();++l<r.length;)!1===r[l].apply(n[0],n[1])&&e.stopOnFalse&&(l=r.length,n=!1);e.memory||(n=!1),t=!1,a&&(r=n?[]:"")},d={add:function(){return r&&(n&&!t&&(l=r.length-1,s.push(n)),function t(n){pe.each(n,function(n,i){pe.isFunction(i)?e.unique&&d.has(i)||r.push(i):i&&i.length&&"string"!==pe.type(i)&&t(i)})}(arguments),n&&!t&&c()),this},remove:function(){return pe.each(arguments,function(e,t){for(var n;(n=pe.inArray(t,r,n))>-1;)r.splice(n,1),n<=l&&l--}),this},has:function(e){return e?pe.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return a=s=[],r=n="",this},disabled:function(){return!r},lock:function(){return a=!0,n||d.disable(),this},locked:function(){return!!a},fireWith:function(e,n){return a||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},pe.extend({Deferred:function(e){var t=[["resolve","done",pe.Callbacks("once memory"),"resolved"],["reject","fail",pe.Callbacks("once memory"),"rejected"],["notify","progress",pe.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return pe.Deferred(function(n){pe.each(t,function(t,o){var r=pe.isFunction(e[t])&&e[t];a[o[1]](function(){var e=r&&r.apply(this,arguments);e&&pe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,r?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?pe.extend(e,i):i}},a={};return i.pipe=i.then,pe.each(t,function(e,o){var r=o[2],s=o[3];i[o[1]]=r.add,s&&r.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),a[o[0]]=function(){return a[o[0]+"With"](this===a?i:this,arguments),this},a[o[0]+"With"]=r.fireWith}),i.promise(a),e&&e.call(a,a),a},when:function(e){var t,n,i,a=0,o=ae.call(arguments),r=o.length,s=1!==r||e&&pe.isFunction(e.promise)?r:0,l=1===s?e:pe.Deferred(),c=function(e,n,i){return function(a){n[e]=this,i[e]=arguments.length>1?ae.call(arguments):a,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(r>1)for(t=new Array(r),n=new Array(r),i=new Array(r);a<r;a++)o[a]&&pe.isFunction(o[a].promise)?o[a].promise().progress(c(a,n,t)).done(c(a,i,o)).fail(l.reject):--s;return s||l.resolveWith(i,o),l.promise()}});var Ae;pe.fn.ready=function(e){return pe.ready.promise().done(e),this},pe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?pe.readyWait++:pe.ready(!0)},ready:function(e){(!0===e?--pe.readyWait:pe.isReady)||(pe.isReady=!0,!0!==e&&--pe.readyWait>0||(Ae.resolveWith(ie,[pe]),pe.fn.triggerHandler&&(pe(ie).triggerHandler("ready"),pe(ie).off("ready"))))}}),pe.ready.promise=function(t){if(!Ae)if(Ae=pe.Deferred(),"complete"===ie.readyState||"loading"!==ie.readyState&&!ie.documentElement.doScroll)e.setTimeout(pe.ready);else if(ie.addEventListener)ie.addEventListener("DOMContentLoaded",s),e.addEventListener("load",s);else{ie.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&ie.documentElement}catch(e){}n&&n.doScroll&&function t(){if(!pe.isReady){try{n.doScroll("left")}catch(n){return e.setTimeout(t,50)}r(),pe.ready()}}()}return Ae.promise(t)},pe.ready.promise();var ke;for(ke in pe(ue))break;ue.ownFirst="0"===ke,ue.inlineBlockNeedsLayout=!1,pe(function(){var e,t,n,i;(n=ie.getElementsByTagName("body")[0])&&n.style&&(t=ie.createElement("div"),i=ie.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ue.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))}),function(){var e=ie.createElement("div");ue.deleteExpando=!0;try{delete e.test}catch(e){ue.deleteExpando=!1}e=null}();var xe=function(e){var t=pe.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)},Ne=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Me=/([A-Z])/g;pe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?pe.cache[e[pe.expando]]:e[pe.expando])&&!c(e)},data:function(e,t,n){return d(e,t,n)},removeData:function(e,t){return u(e,t)},_data:function(e,t,n){return d(e,t,n,!0)},_removeData:function(e,t){return u(e,t,!0)}}),pe.fn.extend({data:function(e,t){var n,i,a,o=this[0],r=o&&o.attributes;if(void 0===e){if(this.length&&(a=pe.data(o),1===o.nodeType&&!pe._data(o,"parsedAttrs"))){for(n=r.length;n--;)r[n]&&(i=r[n].name,0===i.indexOf("data-")&&(i=pe.camelCase(i.slice(5)),l(o,i,a[i])));pe._data(o,"parsedAttrs",!0)}return a}return"object"==typeof e?this.each(function(){pe.data(this,e)}):arguments.length>1?this.each(function(){pe.data(this,e,t)}):o?l(o,e,pe.data(o,e)):void 0},removeData:function(e){return this.each(function(){pe.removeData(this,e)})}}),pe.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=pe._data(e,t),n&&(!i||pe.isArray(n)?i=pe._data(e,t,pe.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=pe.queue(e,t),i=n.length,a=n.shift(),o=pe._queueHooks(e,t),r=function(){pe.dequeue(e,t)};"inprogress"===a&&(a=n.shift(),i--),a&&("fx"===t&&n.unshift("inprogress"),delete o.stop,a.call(e,r,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return pe._data(e,n)||pe._data(e,n,{empty:pe.Callbacks("once memory").add(function(){pe._removeData(e,t+"queue"),pe._removeData(e,n)})})}}),pe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?pe.queue(this[0],e):void 0===t?this:this.each(function(){var n=pe.queue(this,e,t);pe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&pe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){pe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,a=pe.Deferred(),o=this,r=this.length,s=function(){--i||a.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)(n=pe._data(o[r],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),a.promise(t)}}),function(){var e;ue.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,i;return(n=ie.getElementsByTagName("body")[0])&&n.style?(t=ie.createElement("div"),i=ie.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(ie.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(i),e):void 0}}();var Be=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Le=new RegExp("^(?:([+-])=|)("+Be+")([a-z%]*)$","i"),De=["Top","Right","Bottom","Left"],Ve=function(e,t){return e=t||e,"none"===pe.css(e,"display")||!pe.contains(e.ownerDocument,e)},Re=function(e,t,n,i,a,o,r){var s=0,l=e.length,c=null==n;if("object"===pe.type(n)){a=!0;for(s in n)Re(e,t,s,n[s],!0,o,r)}else if(void 0!==i&&(a=!0,pe.isFunction(i)||(r=!0),c&&(r?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(pe(e),n)})),t))for(;s<l;s++)t(e[s],n,r?i:i.call(e[s],s,t(e[s],n)));return a?e:c?t.call(e):l?t(e[0],n):o},Oe=/^(?:checkbox|radio)$/i,je=/<([\w:-]+)/,Ue=/^$|\/(?:java|ecma)script/i,He=/^\s+/,Fe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var e=ie.createElement("div"),t=ie.createDocumentFragment(),n=ie.createElement("input");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ue.leadingWhitespace=3===e.firstChild.nodeType,ue.tbody=!e.getElementsByTagName("tbody").length,ue.htmlSerialize=!!e.getElementsByTagName("link").length,ue.html5Clone="<:nav></:nav>"!==ie.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,t.appendChild(n),ue.appendChecked=n.checked,e.innerHTML="<textarea>x</textarea>",ue.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),n=ie.createElement("input"),n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),ue.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,ue.noCloneEvent=!!e.addEventListener,e[pe.expando]=1,ue.attributes=!e.getAttribute(pe.expando)}();var Ge={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ue.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Ge.optgroup=Ge.option,Ge.tbody=Ge.tfoot=Ge.colgroup=Ge.caption=Ge.thead,Ge.th=Ge.td;var Ke=/<|&#?\w+;/,Ye=/<tbody/i;!function(){var t,n,i=ie.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ue[t]=n in e)||(i.setAttribute(n,"t"),ue[t]=!1===i.attributes[n].expando);i=null}()
;var $e=/^(?:input|select|textarea)$/i,We=/^key/,ze=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Je=/^(?:focusinfocus|focusoutblur)$/,qe=/^([^.]*)(?:\.(.+)|)/;pe.event={global:{},add:function(e,t,n,i,a){var o,r,s,l,c,d,u,p,m,h,f,_=pe._data(e);if(_){for(n.handler&&(l=n,n=l.handler,a=l.selector),n.guid||(n.guid=pe.guid++),(r=_.events)||(r=_.events={}),(d=_.handle)||(d=_.handle=function(e){return void 0===pe||e&&pe.event.triggered===e.type?void 0:pe.event.dispatch.apply(d.elem,arguments)},d.elem=e),t=(t||"").match(Pe)||[""],s=t.length;s--;)o=qe.exec(t[s])||[],m=f=o[1],h=(o[2]||"").split(".").sort(),m&&(c=pe.event.special[m]||{},m=(a?c.delegateType:c.bindType)||m,c=pe.event.special[m]||{},u=pe.extend({type:m,origType:f,data:i,handler:n,guid:n.guid,selector:a,needsContext:a&&pe.expr.match.needsContext.test(a),namespace:h.join(".")},l),(p=r[m])||(p=r[m]=[],p.delegateCount=0,c.setup&&!1!==c.setup.call(e,i,h,d)||(e.addEventListener?e.addEventListener(m,d,!1):e.attachEvent&&e.attachEvent("on"+m,d))),c.add&&(c.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),a?p.splice(p.delegateCount++,0,u):p.push(u),pe.event.global[m]=!0);e=null}},remove:function(e,t,n,i,a){var o,r,s,l,c,d,u,p,m,h,f,_=pe.hasData(e)&&pe._data(e);if(_&&(d=_.events)){for(t=(t||"").match(Pe)||[""],c=t.length;c--;)if(s=qe.exec(t[c])||[],m=f=s[1],h=(s[2]||"").split(".").sort(),m){for(u=pe.event.special[m]||{},m=(i?u.delegateType:u.bindType)||m,p=d[m]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=p.length;o--;)r=p[o],!a&&f!==r.origType||n&&n.guid!==r.guid||s&&!s.test(r.namespace)||i&&i!==r.selector&&("**"!==i||!r.selector)||(p.splice(o,1),r.selector&&p.delegateCount--,u.remove&&u.remove.call(e,r));l&&!p.length&&(u.teardown&&!1!==u.teardown.call(e,h,_.handle)||pe.removeEvent(e,m,_.handle),delete d[m])}else for(m in d)pe.event.remove(e,m+t[c],n,i,!0);pe.isEmptyObject(d)&&(delete _.handle,pe._removeData(e,"events"))}},trigger:function(t,n,i,a){var o,r,s,l,c,d,u,p=[i||ie],m=de.call(t,"type")?t.type:t,h=de.call(t,"namespace")?t.namespace.split("."):[];if(s=d=i=i||ie,3!==i.nodeType&&8!==i.nodeType&&!Je.test(m+pe.event.triggered)&&(m.indexOf(".")>-1&&(h=m.split("."),m=h.shift(),h.sort()),r=m.indexOf(":")<0&&"on"+m,t=t[pe.expando]?t:new pe.Event(m,"object"==typeof t&&t),t.isTrigger=a?2:3,t.namespace=h.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:pe.makeArray(n,[t]),c=pe.event.special[m]||{},a||!c.trigger||!1!==c.trigger.apply(i,n))){if(!a&&!c.noBubble&&!pe.isWindow(i)){for(l=c.delegateType||m,Je.test(l+m)||(s=s.parentNode);s;s=s.parentNode)p.push(s),d=s;d===(i.ownerDocument||ie)&&p.push(d.defaultView||d.parentWindow||e)}for(u=0;(s=p[u++])&&!t.isPropagationStopped();)t.type=u>1?l:c.bindType||m,o=(pe._data(s,"events")||{})[t.type]&&pe._data(s,"handle"),o&&o.apply(s,n),(o=r&&s[r])&&o.apply&&xe(s)&&(t.result=o.apply(s,n),!1===t.result&&t.preventDefault());if(t.type=m,!a&&!t.isDefaultPrevented()&&(!c._default||!1===c._default.apply(p.pop(),n))&&xe(i)&&r&&i[m]&&!pe.isWindow(i)){d=i[r],d&&(i[r]=null),pe.event.triggered=m;try{i[m]()}catch(e){}pe.event.triggered=void 0,d&&(i[r]=d)}return t.result}},dispatch:function(e){e=pe.event.fix(e);var t,n,i,a,o,r=[],s=ae.call(arguments),l=(pe._data(this,"events")||{})[e.type]||[],c=pe.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(r=pe.event.handlers.call(this,e,l),t=0;(a=r[t++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,n=0;(o=a.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(i=((pe.event.special[o.origType]||{}).handle||o.handler).apply(a.elem,s))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,a,o,r=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(i=[],n=0;n<s;n++)o=t[n],a=o.selector+" ",void 0===i[a]&&(i[a]=o.needsContext?pe(a,this).index(l)>-1:pe.find(a,this,null,[l]).length),i[a]&&i.push(o);i.length&&r.push({elem:l,handlers:i})}return s<t.length&&r.push({elem:this,handlers:t.slice(s)}),r},fix:function(e){if(e[pe.expando])return e;var t,n,i,a=e.type,o=e,r=this.fixHooks[a];for(r||(this.fixHooks[a]=r=ze.test(a)?this.mouseHooks:We.test(a)?this.keyHooks:{}),i=r.props?this.props.concat(r.props):this.props,e=new pe.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=o.srcElement||ie),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,a,o=t.button,r=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||ie,a=i.documentElement,n=i.body,e.pageX=t.clientX+(a&&a.scrollLeft||n&&n.scrollLeft||0)-(a&&a.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(a&&a.scrollTop||n&&n.scrollTop||0)-(a&&a.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&r&&(e.relatedTarget=r===e.target?t.toElement:r),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==y()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===y()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(pe.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return pe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var i=pe.extend(new pe.Event,n,{type:e,isSimulated:!0});pe.event.trigger(i,null,t),i.isDefaultPrevented()&&n.preventDefault()}},pe.removeEvent=ie.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var i="on"+t;e.detachEvent&&(void 0===e[i]&&(e[i]=null),e.detachEvent(i,n))},pe.Event=function(e,t){if(!(this instanceof pe.Event))return new pe.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?v:g):this.type=e,t&&pe.extend(this,t),this.timeStamp=e&&e.timeStamp||pe.now(),this[pe.expando]=!0},pe.Event.prototype={constructor:pe.Event,isDefaultPrevented:g,isPropagationStopped:g,isImmediatePropagationStopped:g,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=v,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=v,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=v,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},pe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){pe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,a=e.relatedTarget,o=e.handleObj;return a&&(a===i||pe.contains(i,a))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ue.submit||(pe.event.special.submit={setup:function(){if(pe.nodeName(this,"form"))return!1;pe.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=pe.nodeName(t,"input")||pe.nodeName(t,"button")?pe.prop(t,"form"):void 0;n&&!pe._data(n,"submit")&&(pe.event.add(n,"submit._submit",function(e){e._submitBubble=!0}),pe._data(n,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&pe.event.simulate("submit",this.parentNode,e))},teardown:function(){if(pe.nodeName(this,"form"))return!1;pe.event.remove(this,"._submit")}}),ue.change||(pe.event.special.change={setup:function(){if($e.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(pe.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),pe.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),pe.event.simulate("change",this,e)})),!1;pe.event.add(this,"beforeactivate._change",function(e){var t=e.target;$e.test(t.nodeName)&&!pe._data(t,"change")&&(pe.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||pe.event.simulate("change",this.parentNode,e)}),pe._data(t,"change",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return pe.event.remove(this,"._change"),!$e.test(this.nodeName)}}),ue.focusin||pe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){pe.event.simulate(t,e.target,pe.event.fix(e))};pe.event.special[t]={setup:function(){var i=this.ownerDocument||this,a=pe._data(i,t);a||i.addEventListener(e,n,!0),pe._data(i,t,(a||0)+1)},teardown:function(){var i=this.ownerDocument||this,a=pe._data(i,t)-1;a?pe._data(i,t,a):(i.removeEventListener(e,n,!0),pe._removeData(i,t))}}}),pe.fn.extend({on:function(e,t,n,i){return E(this,e,t,n,i)},one:function(e,t,n,i){return E(this,e,t,n,i,1)},off:function(e,t,n){var i,a;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,pe(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(a in e)this.off(a,t,e[a]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=g),this.each(function(){pe.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){pe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return pe.event.trigger(e,t,n,!0)}});var Xe=/ jQuery\d+="(?:null|\d+)"/g,Qe=new RegExp("<(?:"+Fe+")[\\s/>]","i"),Ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,et=/<script|<style|<link/i,tt=/checked\s*(?:[^=]|=\s*.checked.)/i,nt=/^true\/(.*)/,it=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,at=m(ie),ot=at.appendChild(ie.createElement("div"));pe.extend({htmlPrefilter:function(e){return e.replace(Ze,"<$1></$2>")},clone:function(e,t,n){var i,a,o,r,s,l=pe.contains(e.ownerDocument,e);if(ue.html5Clone||pe.isXMLDoc(e)||!Qe.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(ot.innerHTML=e.outerHTML,ot.removeChild(o=ot.firstChild)),!(ue.noCloneEvent&&ue.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||pe.isXMLDoc(e)))for(i=h(o),s=h(e),r=0;null!=(a=s[r]);++r)i[r]&&I(a,i[r]);if(t)if(n)for(s=s||h(e),i=i||h(o),r=0;null!=(a=s[r]);r++)C(a,i[r]);else C(e,o);return i=h(o,"script"),i.length>0&&f(i,!l&&h(e,"script")),i=s=a=null,o},cleanData:function(e,t){for(var n,i,a,o,r=0,s=pe.expando,l=pe.cache,c=ue.attributes,d=pe.event.special;null!=(n=e[r]);r++)if((t||xe(n))&&(a=n[s],o=a&&l[a])){if(o.events)for(i in o.events)d[i]?pe.event.remove(n,i):pe.removeEvent(n,i,o.handle);l[a]&&(delete l[a],c||void 0===n.removeAttribute?n[s]=void 0:n.removeAttribute(s),ne.push(a))}}}),pe.fn.extend({domManip:P,detach:function(e){return A(this,e,!0)},remove:function(e){return A(this,e)},text:function(e){return Re(this,function(e){return void 0===e?pe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ie).createTextNode(e))},null,e,arguments.length)},append:function(){return P(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){T(this,e).appendChild(e)}})},prepend:function(){return P(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=T(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return P(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return P(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&pe.cleanData(h(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&pe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return pe.clone(this,e,t)})},html:function(e){return Re(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Xe,""):void 0;if("string"==typeof e&&!et.test(e)&&(ue.htmlSerialize||!Qe.test(e))&&(ue.leadingWhitespace||!He.test(e))&&!Ge[(je.exec(e)||["",""])[1].toLowerCase()]){e=pe.htmlPrefilter(e);try{for(;n<i;n++)t=this[n]||{},1===t.nodeType&&(pe.cleanData(h(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return P(this,arguments,function(t){var n=this.parentNode;pe.inArray(this,e)<0&&(pe.cleanData(h(this)),n&&n.replaceChild(t,this))},e)}}),pe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){pe.fn[e]=function(e){for(var n,i=0,a=[],o=pe(e),r=o.length-1;i<=r;i++)n=i===r?this:this.clone(!0),pe(o[i])[t](n),re.apply(a,n.get());return this.pushStack(a)}});var rt,st={HTML:"block",BODY:"block"},lt=/^margin/,ct=new RegExp("^("+Be+")(?!px)[a-z%]+$","i"),dt=function(e,t,n,i){var a,o,r={};for(o in t)r[o]=e.style[o],e.style[o]=t[o];a=n.apply(e,i||[]);for(o in t)e.style[o]=r[o];return a},ut=ie.documentElement;!function(){function t(){var t,d,u=ie.documentElement;u.appendChild(l),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=a=s=!1,i=r=!0,e.getComputedStyle&&(d=e.getComputedStyle(c),n="1%"!==(d||{}).top,s="2px"===(d||{}).marginLeft,a="4px"===(d||{width:"4px"}).width,c.style.marginRight="50%",i="4px"===(d||{marginRight:"4px"}).marginRight,t=c.appendChild(ie.createElement("div")),t.style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",c.style.width="1px",r=!parseFloat((e.getComputedStyle(t)||{}).marginRight),c.removeChild(t)),c.style.display="none",o=0===c.getClientRects().length,o&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c.childNodes[0].style.borderCollapse="separate",t=c.getElementsByTagName("td"),t[0].style.cssText="margin:0;border:0;padding:0;display:none",(o=0===t[0].offsetHeight)&&(t[0].style.display="",t[1].style.display="none",o=0===t[0].offsetHeight)),u.removeChild(l)}var n,i,a,o,r,s,l=ie.createElement("div"),c=ie.createElement("div");c.style&&(c.style.cssText="float:left;opacity:.5",ue.opacity="0.5"===c.style.opacity,ue.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",ue.clearCloneStyle="content-box"===c.style.backgroundClip,l=ie.createElement("div"),l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",l.appendChild(c),ue.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,pe.extend(ue,{reliableHiddenOffsets:function(){return null==n&&t(),o},boxSizingReliable:function(){return null==n&&t(),a},pixelMarginRight:function(){return null==n&&t(),i},pixelPosition:function(){return null==n&&t(),n},reliableMarginRight:function(){return null==n&&t(),r},reliableMarginLeft:function(){return null==n&&t(),s}}))}();var pt,mt,ht=/^(top|right|bottom|left)$/;e.getComputedStyle?(pt=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},mt=function(e,t,n){var i,a,o,r,s=e.style;return n=n||pt(e),r=n?n.getPropertyValue(t)||n[t]:void 0,""!==r&&void 0!==r||pe.contains(e.ownerDocument,e)||(r=pe.style(e,t)),n&&!ue.pixelMarginRight()&&ct.test(r)&&lt.test(t)&&(i=s.width,a=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=r,r=n.width,s.width=i,s.minWidth=a,s.maxWidth=o),void 0===r?r:r+""}):ut.currentStyle&&(pt=function(e){return e.currentStyle},mt=function(e,t,n){var i,a,o,r,s=e.style;return n=n||pt(e),r=n?n[t]:void 0,null==r&&s&&s[t]&&(r=s[t]),ct.test(r)&&!ht.test(t)&&(i=s.left,a=e.runtimeStyle,o=a&&a.left,o&&(a.left=e.currentStyle.left),s.left="fontSize"===t?"1em":r,r=s.pixelLeft+"px",s.left=i,o&&(a.left=o)),void 0===r?r:r+""||"auto"});var ft=/alpha\([^)]*\)/i,_t=/opacity\s*=\s*([^)]*)/i,bt=/^(none|table(?!-c[ea]).+)/,vt=new RegExp("^("+Be+")(.*)$","i"),gt={position:"absolute",visibility:"hidden",display:"block"},yt={letterSpacing:"0",fontWeight:"400"},Et=["Webkit","O","Moz","ms"],Tt=ie.createElement("div").style;pe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=mt(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ue.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,o,r,s=pe.camelCase(t),l=e.style;if(t=pe.cssProps[s]||(pe.cssProps[s]=M(s)||s),r=pe.cssHooks[t]||pe.cssHooks[s],void 0===n)return r&&"get"in r&&void 0!==(a=r.get(e,!1,i))?a:l[t];if(o=typeof n,"string"===o&&(a=Le.exec(n))&&a[1]&&(n=p(e,t,a),o="number"),null!=n&&n===n&&("number"===o&&(n+=a&&a[3]||(pe.cssNumber[s]?"":"px")),ue.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(r&&"set"in r&&void 0===(n=r.set(e,n,i)))))try{l[t]=n}catch(e){}}},css:function(e,t,n,i){var a,o,r,s=pe.camelCase(t);return t=pe.cssProps[s]||(pe.cssProps[s]=M(s)||s),r=pe.cssHooks[t]||pe.cssHooks[s],r&&"get"in r&&(o=r.get(e,!0,n)),void 0===o&&(o=mt(e,t,i)),"normal"===o&&t in yt&&(o=yt[t]),""===n||n?(a=parseFloat(o),!0===n||isFinite(a)?a||0:o):o}}),pe.each(["height","width"],function(e,t){pe.cssHooks[t]={get:function(e,n,i){if(n)return bt.test(pe.css(e,"display"))&&0===e.offsetWidth?dt(e,gt,function(){return V(e,t,i)}):V(e,t,i)},set:function(e,n,i){var a=i&&pt(e);return L(e,n,i?D(e,t,i,ue.boxSizing&&"border-box"===pe.css(e,"boxSizing",!1,a),a):0)}}}),ue.opacity||(pe.cssHooks.opacity={get:function(e,t){return _t.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,a=pe.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===pe.trim(o.replace(ft,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=ft.test(o)?o.replace(ft,a):o+" "+a)}}),pe.cssHooks.marginRight=N(ue.reliableMarginRight,function(e,t){if(t)return dt(e,{display:"inline-block"},mt,[e,"marginRight"])}),pe.cssHooks.marginLeft=N(ue.reliableMarginLeft,function(e,t){if(t)return(parseFloat(mt(e,"marginLeft"))||(pe.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-dt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"}),pe.each({margin:"",padding:"",border:"Width"},function(e,t){pe.cssHooks[e+t]={expand:function(n){for(var i=0,a={},o="string"==typeof n?n.split(" "):[n];i<4;i++)a[e+De[i]+t]=o[i]||o[i-2]||o[0];return a}},lt.test(e)||(pe.cssHooks[e+t].set=L)}),pe.fn.extend({css:function(e,t){return Re(this,function(e,t,n){var i,a,o={},r=0;if(pe.isArray(t)){for(i=pt(e),a=t.length;r<a;r++)o[t[r]]=pe.css(e,t[r],!1,i);return o}return void 0!==n?pe.style(e,t,n):pe.css(e,t)},e,t,arguments.length>1)},show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ve(this)?pe(this).show():pe(this).hide()})}}),pe.Tween=R,R.prototype={constructor:R,init:function(e,t,n,i,a,o){this.elem=e,this.prop=n,this.easing=a||pe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(pe.cssNumber[n]?"":"px")},cur:function(){var e=R.propHooks[this.prop];return e&&e.get?e.get(this):R.propHooks._default.get(this)},run:function(e){var t,n=R.propHooks[this.prop];return this.options.duration?this.pos=t=pe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=pe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){pe.fx.step[e.prop]?pe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[pe.cssProps[e.prop]]&&!pe.cssHooks[e.prop]?e.elem[e.prop]=e.now:pe.style(e.elem,e.prop,e.now+e.unit)}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},pe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},pe.fx=R.prototype.init,pe.fx.step={};var wt,St,Ct=/^(?:toggle|show|hide)$/,It=/queueHooks$/;pe.Animation=pe.extend(G,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return p(n.elem,e,Le.exec(t),n),n}]},tweener:function(e,t){pe.isFunction(e)?(t=e,e=["*"]):e=e.match(Pe);for(var n,i=0,a=e.length;i<a;i++)n=e[i],G.tweeners[n]=G.tweeners[n]||[],G.tweeners[n].unshift(t)},prefilters:[H],prefilter:function(e,t){t?G.prefilters.unshift(e):G.prefilters.push(e)}}),pe.speed=function(e,t,n){var i=e&&"object"==typeof e?pe.extend({},e):{complete:n||!n&&t||pe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!pe.isFunction(t)&&t};return i.duration=pe.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in pe.fx.speeds?pe.fx.speeds[i.duration]:pe.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){pe.isFunction(i.old)&&i.old.call(this),i.queue&&pe.dequeue(this,i.queue)},i},pe.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ve).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var a=pe.isEmptyObject(e),o=pe.speed(t,n,i),r=function(){var t=G(this,pe.extend({},e),o);(a||pe._data(this,"finish"))&&t.stop(!0)};return r.finish=r,a||!1===o.queue?this.each(r):this.queue(o.queue,r)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,a=null!=e&&e+"queueHooks",o=pe.timers,r=pe._data(this);if(a)r[a]&&r[a].stop&&i(r[a]);else for(a in r)r[a]&&r[a].stop&&It.test(a)&&i(r[a]);for(a=o.length;a--;)o[a].elem!==this||null!=e&&o[a].queue!==e||(o[a].anim.stop(n),t=!1,o.splice(a,1));!t&&n||pe.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=pe._data(this),i=n[e+"queue"],a=n[e+"queueHooks"],o=pe.timers,r=i?i.length:0;for(n.finish=!0,pe.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<r;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),pe.each(["toggle","show","hide"],function(e,t){var n=pe.fn[t];pe.fn[t]=function(e,i,a){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(j(t,!0),e,i,a)}}),pe.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){pe.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),pe.timers=[],pe.fx.tick=function(){var e,t=pe.timers,n=0;for(wt=pe.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||pe.fx.stop(),wt=void 0},pe.fx.timer=function(e){pe.timers.push(e),e()?pe.fx.start():pe.timers.pop()},pe.fx.interval=13,pe.fx.start=function(){St||(St=e.setInterval(pe.fx.tick,pe.fx.interval))},pe.fx.stop=function(){e.clearInterval(St),St=null},pe.fx.speeds={slow:600,fast:200,_default:400},pe.fn.delay=function(t,n){return t=pe.fx?pe.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,i){var a=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(a)}})},function(){var e,t=ie.createElement("input"),n=ie.createElement("div"),i=ie.createElement("select"),a=i.appendChild(ie.createElement("option"));n=ie.createElement("div"),n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),n.appendChild(t),e=n.getElementsByTagName("a")[0],e.style.cssText="top:1px",ue.getSetAttribute="t"!==n.className,ue.style=/top/.test(e.getAttribute("style")),ue.hrefNormalized="/a"===e.getAttribute("href"),ue.checkOn=!!t.value,ue.optSelected=a.selected,ue.enctype=!!ie.createElement("form").enctype,i.disabled=!0,ue.optDisabled=!a.disabled,t=ie.createElement("input"),t.setAttribute("value",""),ue.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),ue.radioValue="t"===t.value}();var Pt=/\r/g,At=/[\x20\t\r\n\f]+/g;pe.fn.extend({val:function(e){var t,n,i,a=this[0];{if(arguments.length)return i=pe.isFunction(e),this.each(function(n){var a;1===this.nodeType&&(a=i?e.call(this,n,pe(this).val()):e,null==a?a="":"number"==typeof a?a+="":pe.isArray(a)&&(a=pe.map(a,function(e){return null==e?"":e+""})),(t=pe.valHooks[this.type]||pe.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,a,"value")||(this.value=a))});if(a)return(t=pe.valHooks[a.type]||pe.valHooks[a.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(a,"value"))?n:(n=a.value,"string"==typeof n?n.replace(Pt,""):null==n?"":n)}}}),pe.extend({valHooks:{option:{get:function(e){var t=pe.find.attr(e,"value");return null!=t?t:pe.trim(pe.text(e)).replace(At," ")}},select:{get:function(e){for(var t,n,i=e.options,a=e.selectedIndex,o="select-one"===e.type||a<0,r=o?null:[],s=o?a+1:i.length,l=a<0?s:o?a:0;l<s;l++)if(n=i[l],(n.selected||l===a)&&(ue.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!pe.nodeName(n.parentNode,"optgroup"))){if(t=pe(n).val(),o)return t;r.push(t)}return r},set:function(e,t){for(var n,i,a=e.options,o=pe.makeArray(t),r=a.length;r--;)if(i=a[r],pe.inArray(pe.valHooks.option.get(i),o)>-1)try{i.selected=n=!0}catch(e){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),a}}}}),pe.each(["radio","checkbox"],function(){pe.valHooks[this]={set:function(e,t){if(pe.isArray(t))return e.checked=pe.inArray(pe(e).val(),t)>-1}},ue.checkOn||(pe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var kt,xt,Nt=pe.expr.attrHandle,Mt=/^(?:checked|selected)$/i,Bt=ue.getSetAttribute,Lt=ue.input;pe.fn.extend({attr:function(e,t){return Re(this,pe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){pe.removeAttr(this,e)})}}),pe.extend({attr:function(e,t,n){var i,a,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?pe.prop(e,t,n):(1===o&&pe.isXMLDoc(e)||(t=t.toLowerCase(),a=pe.attrHooks[t]||(pe.expr.match.bool.test(t)?xt:kt)),void 0!==n?null===n?void pe.removeAttr(e,t):a&&"set"in a&&void 0!==(i=a.set(e,n,t))?i:(e.setAttribute(t,n+""),n):a&&"get"in a&&null!==(i=a.get(e,t))?i:(i=pe.find.attr(e,t),null==i?void 0:i))},attrHooks:{type:{set:function(e,t){if(!ue.radioValue&&"radio"===t&&pe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i,a=0,o=t&&t.match(Pe);if(o&&1===e.nodeType)for(;n=o[a++];)i=pe.propFix[n]||n,pe.expr.match.bool.test(n)?Lt&&Bt||!Mt.test(n)?e[i]=!1:e[pe.camelCase("default-"+n)]=e[i]=!1:pe.attr(e,n,""),e.removeAttribute(Bt?n:i)}}),xt={set:function(e,t,n){return!1===t?pe.removeAttr(e,n):Lt&&Bt||!Mt.test(n)?e.setAttribute(!Bt&&pe.propFix[n]||n,n):e[pe.camelCase("default-"+n)]=e[n]=!0,n}},pe.each(pe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Nt[t]||pe.find.attr;Lt&&Bt||!Mt.test(t)?Nt[t]=function(e,t,i){var a,o;return i||(o=Nt[t],Nt[t]=a,a=null!=n(e,t,i)?t.toLowerCase():null,Nt[t]=o),a}:Nt[t]=function(e,t,n){if(!n)return e[pe.camelCase("default-"+t)]?t.toLowerCase():null}}),Lt&&Bt||(pe.attrHooks.value={set:function(e,t,n){if(!pe.nodeName(e,"input"))return kt&&kt.set(e,t,n);e.defaultValue=t}}),Bt||(kt={set:function(e,t,n){var i=e.getAttributeNode(n);if(i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n))return t}},Nt.id=Nt.name=Nt.coords=function(e,t,n){var i;if(!n)return(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},pe.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:kt.set},pe.attrHooks.contenteditable={set:function(e,t,n){kt.set(e,""!==t&&t,n)}},pe.each(["width","height"],function(e,t){pe.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}})),ue.style||(pe.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Dt=/^(?:input|select|textarea|button|object)$/i,Vt=/^(?:a|area)$/i;pe.fn.extend({prop:function(e,t){return Re(this,pe.prop,e,t,arguments.length>1)},removeProp:function(e){return e=pe.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),pe.extend({prop:function(e,t,n){var i,a,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&pe.isXMLDoc(e)||(t=pe.propFix[t]||t,a=pe.propHooks[t]),void 0!==n?a&&"set"in a&&void 0!==(i=a.set(e,n,t))?i:e[t]=n:a&&"get"in a&&null!==(i=a.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=pe.find.attr(e,"tabindex");return t?parseInt(t,10):Dt.test(e.nodeName)||Vt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ue.hrefNormalized||pe.each(["href","src"],function(e,t){pe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ue.optSelected||(pe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),pe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pe.propFix[this.toLowerCase()]=this}),ue.enctype||(pe.propFix.enctype="encoding");var Rt=/[\t\r\n\f]/g;pe.fn.extend({addClass:function(e){var t,n,i,a,o,r,s,l=0;if(pe.isFunction(e))return this.each(function(t){pe(this).addClass(e.call(this,t,K(this)))});if("string"==typeof e&&e)for(t=e.match(Pe)||[];n=this[l++];)if(a=K(n),i=1===n.nodeType&&(" "+a+" ").replace(Rt," ")){for(r=0;o=t[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=pe.trim(i),a!==s&&pe.attr(n,"class",s)}return this},removeClass:function(e){var t,n,i,a,o,r,s,l=0;if(pe.isFunction(e))return this.each(function(t){pe(this).removeClass(e.call(this,t,K(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Pe)||[];n=this[l++];)if(a=K(n),i=1===n.nodeType&&(" "+a+" ").replace(Rt," ")){for(r=0;o=t[r++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");s=pe.trim(i),a!==s&&pe.attr(n,"class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):pe.isFunction(e)?this.each(function(n){pe(this).toggleClass(e.call(this,n,K(this),t),t)}):this.each(function(){var t,i,a,o;if("string"===n)for(i=0,a=pe(this),
o=e.match(Pe)||[];t=o[i++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else void 0!==e&&"boolean"!==n||(t=K(this),t&&pe._data(this,"__className__",t),pe.attr(this,"class",t||!1===e?"":pe._data(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+K(n)+" ").replace(Rt," ").indexOf(t)>-1)return!0;return!1}}),pe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){pe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),pe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Ot=e.location,jt=pe.now(),Ut=/\?/,Ht=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;pe.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,a=pe.trim(t+"");return a&&!pe.trim(a.replace(Ht,function(e,t,a,o){return n&&t&&(i=0),0===i?e:(n=a||t,i+=!o-!a,"")}))?Function("return "+a)():pe.error("Invalid JSON: "+t)},pe.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(i=new e.DOMParser,n=i.parseFromString(t,"text/xml")):(n=new e.ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(e){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||pe.error("Invalid XML: "+t),n};var Ft=/#.*$/,Gt=/([?&])_=[^&]*/,Kt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Yt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,$t=/^(?:GET|HEAD)$/,Wt=/^\/\//,zt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Jt={},qt={},Xt="*/".concat("*"),Qt=Ot.href,Zt=zt.exec(Qt.toLowerCase())||[];pe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Qt,type:"GET",isLocal:Yt.test(Zt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":pe.parseJSON,"text xml":pe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,pe.ajaxSettings),t):W(pe.ajaxSettings,e)},ajaxPrefilter:Y(Jt),ajaxTransport:Y(qt),ajax:function(t,n){function i(t,n,i,a){var o,u,v,g,E,w=n;2!==y&&(y=2,l&&e.clearTimeout(l),d=void 0,s=a||"",T.readyState=t>0?4:0,o=t>=200&&t<300||304===t,i&&(g=z(p,T,i)),g=J(p,g,T,o),o?(p.ifModified&&(E=T.getResponseHeader("Last-Modified"),E&&(pe.lastModified[r]=E),(E=T.getResponseHeader("etag"))&&(pe.etag[r]=E)),204===t||"HEAD"===p.type?w="nocontent":304===t?w="notmodified":(w=g.state,u=g.data,v=g.error,o=!v)):(v=w,!t&&w||(w="error",t<0&&(t=0))),T.status=t,T.statusText=(n||w)+"",o?f.resolveWith(m,[u,w,T]):f.rejectWith(m,[T,w,v]),T.statusCode(b),b=void 0,c&&h.trigger(o?"ajaxSuccess":"ajaxError",[T,p,o?u:v]),_.fireWith(m,[T,w]),c&&(h.trigger("ajaxComplete",[T,p]),--pe.active||pe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var a,o,r,s,l,c,d,u,p=pe.ajaxSetup({},n),m=p.context||p,h=p.context&&(m.nodeType||m.jquery)?pe(m):pe.event,f=pe.Deferred(),_=pe.Callbacks("once memory"),b=p.statusCode||{},v={},g={},y=0,E="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!u)for(u={};t=Kt.exec(s);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=g[n]=g[n]||e,v[e]=t),this},overrideMimeType:function(e){return y||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(y<2)for(t in e)b[t]=[b[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||E;return d&&d.abort(t),i(0,t),this}};if(f.promise(T).complete=_.add,T.success=T.done,T.error=T.fail,p.url=((t||p.url||Qt)+"").replace(Ft,"").replace(Wt,Zt[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=pe.trim(p.dataType||"*").toLowerCase().match(Pe)||[""],null==p.crossDomain&&(a=zt.exec(p.url.toLowerCase()),p.crossDomain=!(!a||a[1]===Zt[1]&&a[2]===Zt[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(Zt[3]||("http:"===Zt[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=pe.param(p.data,p.traditional)),$(Jt,p,n,T),2===y)return T;c=pe.event&&p.global,c&&0==pe.active++&&pe.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!$t.test(p.type),r=p.url,p.hasContent||(p.data&&(r=p.url+=(Ut.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(p.url=Gt.test(r)?r.replace(Gt,"$1_="+jt++):r+(Ut.test(r)?"&":"?")+"_="+jt++)),p.ifModified&&(pe.lastModified[r]&&T.setRequestHeader("If-Modified-Since",pe.lastModified[r]),pe.etag[r]&&T.setRequestHeader("If-None-Match",pe.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&T.setRequestHeader("Content-Type",p.contentType),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Xt+"; q=0.01":""):p.accepts["*"]);for(o in p.headers)T.setRequestHeader(o,p.headers[o]);if(p.beforeSend&&(!1===p.beforeSend.call(m,T,p)||2===y))return T.abort();E="abort";for(o in{success:1,error:1,complete:1})T[o](p[o]);if(d=$(qt,p,n,T)){if(T.readyState=1,c&&h.trigger("ajaxSend",[T,p]),2===y)return T;p.async&&p.timeout>0&&(l=e.setTimeout(function(){T.abort("timeout")},p.timeout));try{y=1,d.send(v,i)}catch(e){if(!(y<2))throw e;i(-1,e)}}else i(-1,"No Transport");return T},getJSON:function(e,t,n){return pe.get(e,t,n,"json")},getScript:function(e,t){return pe.get(e,void 0,t,"script")}}),pe.each(["get","post"],function(e,t){pe[t]=function(e,n,i,a){return pe.isFunction(n)&&(a=a||i,i=n,n=void 0),pe.ajax(pe.extend({url:e,type:t,dataType:a,data:n,success:i},pe.isPlainObject(e)&&e))}}),pe._evalUrl=function(e){return pe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},pe.fn.extend({wrapAll:function(e){if(pe.isFunction(e))return this.each(function(t){pe(this).wrapAll(e.call(this,t))});if(this[0]){var t=pe(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return pe.isFunction(e)?this.each(function(t){pe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=pe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=pe.isFunction(e);return this.each(function(n){pe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){pe.nodeName(this,"body")||pe(this).replaceWith(this.childNodes)}).end()}}),pe.expr.filters.hidden=function(e){return ue.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:X(e)},pe.expr.filters.visible=function(e){return!pe.expr.filters.hidden(e)};var en=/%20/g,tn=/\[\]$/,nn=/\r?\n/g,an=/^(?:submit|button|image|reset|file)$/i,on=/^(?:input|select|textarea|keygen)/i;pe.param=function(e,t){var n,i=[],a=function(e,t){t=pe.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=pe.ajaxSettings&&pe.ajaxSettings.traditional),pe.isArray(e)||e.jquery&&!pe.isPlainObject(e))pe.each(e,function(){a(this.name,this.value)});else for(n in e)Q(n,e[n],t,a);return i.join("&").replace(en,"+")},pe.fn.extend({serialize:function(){return pe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=pe.prop(this,"elements");return e?pe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!pe(this).is(":disabled")&&on.test(this.nodeName)&&!an.test(e)&&(this.checked||!Oe.test(e))}).map(function(e,t){var n=pe(this).val();return null==n?null:pe.isArray(n)?pe.map(n,function(e){return{name:t.name,value:e.replace(nn,"\r\n")}}):{name:t.name,value:n.replace(nn,"\r\n")}}).get()}}),pe.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return this.isLocal?ee():ie.documentMode>8?Z():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Z()||ee()}:Z;var rn=0,sn={},ln=pe.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in sn)sn[e](void 0,!0)}),ue.cors=!!ln&&"withCredentials"in ln,ln=ue.ajax=!!ln,ln&&pe.ajaxTransport(function(t){if(!t.crossDomain||ue.cors){var n;return{send:function(i,a){var o,r=t.xhr(),s=++rn;if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)r[o]=t.xhrFields[o];t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)void 0!==i[o]&&r.setRequestHeader(o,i[o]+"");r.send(t.hasContent&&t.data||null),n=function(e,i){var o,l,c;if(n&&(i||4===r.readyState))if(delete sn[s],n=void 0,r.onreadystatechange=pe.noop,i)4!==r.readyState&&r.abort();else{c={},o=r.status,"string"==typeof r.responseText&&(c.text=r.responseText);try{l=r.statusText}catch(e){l=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=c.text?200:404}c&&a(o,l,c,r.getAllResponseHeaders())},t.async?4===r.readyState?e.setTimeout(n):r.onreadystatechange=sn[s]=n:n()},abort:function(){n&&n(void 0,!0)}}}}),pe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return pe.globalEval(e),e}}}),pe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),pe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=ie.head||pe("head")[0]||ie.documentElement;return{send:function(i,a){t=ie.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||a(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var cn=[],dn=/(=)\?(?=&|$)|\?\?/;pe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=cn.pop()||pe.expando+"_"+jt++;return this[e]=!0,e}}),pe.ajaxPrefilter("json jsonp",function(t,n,i){var a,o,r,s=!1!==t.jsonp&&(dn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&dn.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return a=t.jsonpCallback=pe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(dn,"$1"+a):!1!==t.jsonp&&(t.url+=(Ut.test(t.url)?"&":"?")+t.jsonp+"="+a),t.converters["script json"]=function(){return r||pe.error(a+" was not called"),r[0]},t.dataTypes[0]="json",o=e[a],e[a]=function(){r=arguments},i.always(function(){void 0===o?pe(e).removeProp(a):e[a]=o,t[a]&&(t.jsonpCallback=n.jsonpCallback,cn.push(a)),r&&pe.isFunction(o)&&o(r[0]),r=o=void 0}),"script"}),pe.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||ie;var i=Ee.exec(e),a=!n&&[];return i?[t.createElement(i[1])]:(i=b([e],t,a),a&&a.length&&pe(a).remove(),pe.merge([],i.childNodes))};var un=pe.fn.load;pe.fn.load=function(e,t,n){if("string"!=typeof e&&un)return un.apply(this,arguments);var i,a,o,r=this,s=e.indexOf(" ");return s>-1&&(i=pe.trim(e.slice(s,e.length)),e=e.slice(0,s)),pe.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(a="POST"),r.length>0&&pe.ajax({url:e,type:a||"GET",dataType:"html",data:t}).done(function(e){o=arguments,r.html(i?pe("<div>").append(pe.parseHTML(e)).find(i):e)}).always(n&&function(e,t){r.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},pe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){pe.fn[t]=function(e){return this.on(t,e)}}),pe.expr.filters.animated=function(e){return pe.grep(pe.timers,function(t){return e===t.elem}).length},pe.offset={setOffset:function(e,t,n){var i,a,o,r,s,l,c,d=pe.css(e,"position"),u=pe(e),p={};"static"===d&&(e.style.position="relative"),s=u.offset(),o=pe.css(e,"top"),l=pe.css(e,"left"),c=("absolute"===d||"fixed"===d)&&pe.inArray("auto",[o,l])>-1,c?(i=u.position(),r=i.top,a=i.left):(r=parseFloat(o)||0,a=parseFloat(l)||0),pe.isFunction(t)&&(t=t.call(e,n,pe.extend({},s))),null!=t.top&&(p.top=t.top-s.top+r),null!=t.left&&(p.left=t.left-s.left+a),"using"in t?t.using.call(e,p):u.css(p)}},pe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){pe.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},a=this[0],o=a&&a.ownerDocument;if(o)return t=o.documentElement,pe.contains(t,a)?(void 0!==a.getBoundingClientRect&&(i=a.getBoundingClientRect()),n=te(o),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===pe.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),pe.nodeName(e[0],"html")||(n=e.offset()),n.top+=pe.css(e[0],"borderTopWidth",!0),n.left+=pe.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-pe.css(i,"marginTop",!0),left:t.left-n.left-pe.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!pe.nodeName(e,"html")&&"static"===pe.css(e,"position");)e=e.offsetParent;return e||ut})}}),pe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);pe.fn[e]=function(i){return Re(this,function(e,i,a){var o=te(e);if(void 0===a)return o?t in o?o[t]:o.document.documentElement[i]:e[i];o?o.scrollTo(n?pe(o).scrollLeft():a,n?a:pe(o).scrollTop()):e[i]=a},e,i,arguments.length,null)}}),pe.each(["top","left"],function(e,t){pe.cssHooks[t]=N(ue.pixelPosition,function(e,n){if(n)return n=mt(e,t),ct.test(n)?pe(e).position()[t]+"px":n})}),pe.each({Height:"height",Width:"width"},function(e,t){pe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){pe.fn[i]=function(i,a){var o=arguments.length&&(n||"boolean"!=typeof i),r=n||(!0===i||!0===a?"margin":"border");return Re(this,function(t,n,i){var a;return pe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===i?pe.css(t,n,r):pe.style(t,n,i,r)},t,o?i:void 0,o,null)}})}),pe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),pe.fn.size=function(){return this.length},pe.fn.andSelf=pe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pe});var pn=e.jQuery,mn=e.$;return pe.noConflict=function(t){return e.$===pe&&(e.$=mn),t&&e.jQuery===pe&&(e.jQuery=pn),pe},t||(e.jQuery=e.$=pe),pe})},{}],19:[function(e,t,n){function i(e){this.message=e}function a(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new i("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,a,r=0,s=0,l="";a=t.charAt(s++);~a&&(n=r%4?64*n+a:a,r++%4)?l+=String.fromCharCode(255&n>>(-2*r&6)):0)a=o.indexOf(a);return l}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.prototype=new Error,i.prototype.name="InvalidCharacterError",t.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||a},{}],20:[function(e,t,n){function i(e){return decodeURIComponent(a(e).replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}var a=e("./atob");t.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return i(t)}catch(e){return a(t)}}},{"./atob":19}],21:[function(e,t,n){"use strict";function i(e){this.message=e}var a=e("./base64_url_decode");i.prototype=new Error,i.prototype.name="InvalidTokenError",t.exports=function(e,t){if("string"!=typeof e)throw new i("Invalid token specified");t=t||{};var n=!0===t.header?0:1;try{return JSON.parse(a(e.split(".")[n]))}catch(e){throw new i("Invalid token specified: "+e.message)}},t.exports.InvalidTokenError=i},{"./base64_url_decode":20}],22:[function(e,t,n){/*!mobile-detect v1.4.5 2021-03-13*/
/*!@license Copyright 2013, Heinrich Goebl, License: MIT, see https://github.com/hgoebl/mobile-detect.js*/
!function(e,t){e(function(){"use strict";function e(e,t){return null!=e&&null!=t&&e.toLowerCase()===t.toLowerCase()}function t(e,t){var n,i,a=e.length;if(!a||!t)return!1;for(n=t.toLowerCase(),i=0;i<a;++i)if(n===e[i].toLowerCase())return!0;return!1}function n(e){for(var t in e)s.call(e,t)&&(e[t]=new RegExp(e[t],"i"))}function i(e){return(e||"").substr(0,500)}function a(e,t){this.ua=i(e),this._cache={},this.maxPhoneWidth=t||600}var o={};o.mobileDetectRules={phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+|\\b(BBA100|BBB100|BBD100|BBE100|BBF100|STH100)\\b-[0-9]+",Pixel:"; \\bPixel\\b",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 5X|Nexus 6",Dell:"Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052",Samsung:"\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F|SM-G610F|SM-G981B|SM-G892A|SM-A530F",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323|M257)|LM-G710",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533|SOV34|601SO|F8332",Asus:"Asus.*Galaxy|PadFone.*Mobile",Xiaomi:"^(?!.*\\bx11\\b).*xiaomi.*$|POCOPHONE F1|MI 8|Redmi Note 9S|Redmi Note 5A Prime|N2G47H|M2001J2G|M2001J2I|M1805E10A|M2004J11G|M1902F1G|M2002J9G|M2004J19G|M2003J6A1G",NokiaLumia:"Lumia [0-9]{3,4}",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo (3DS|Switch)",Amoi:"Amoi",INQ:"INQ",OnePlus:"ONEPLUS",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)",GoogleTablet:"Android.*Pixel C",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-T830|SM-T837V|SM-T720|SM-T510|SM-T387V|SM-P610|SM-T290|SM-T515|SM-T590|SM-T595|SM-T725|SM-T817P|SM-P585N0|SM-T395|SM-T295|SM-T865|SM-P610N|SM-P615|SM-T970|SM-T380|SM-T5950|SM-T905|SM-T231|SM-T500|SM-T860",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome/[0-9.]+ (?!Mobile)",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20\\b|\\bA3-A30|A3-A40",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",LenovoTablet:"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304X|TB-X304F|TB-X304L|TB-X505F|TB-X505L|TB-X505X|TB-X605F|TB-X605L|TB-8703F|TB-8703X|TB-8703N|TB-8704N|TB-8704F|TB-8704X|TB-8704V|TB-7304F|TB-7304I|TB-7304X|Tab2A7-10F|Tab2A7-20F|TB2-X30L|YT3-X50L|YT3-X50F|YT3-X50M|YT-X705F|YT-X703F|YT-X703L|YT-X705L|YT-X705X|TB2-X30F|TB2-X30L|TB2-X30M|A2107A-F|A2107A-H|TB3-730F|TB3-730M|TB3-730X|TB-7504F|TB-7504X|TB-X704F|TB-X104F|TB3-X70F|TB-X705F|TB-8504F|TB3-X70L|TB3-710F|TB-X704L",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",NokiaLumiaTablet:"Lumia 2520",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|SGP612|SGP712",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"Android.*(bq)?.*\\b(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))\\b|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-L09|CMR-AL19",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z930|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android [0-9.]+; [a-z-]+; \\bG1\\b",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)|Qualcore 1027",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497|VFD 1400",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9|TECNO DP8D",JXDTablet:"Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",VerizonTablet:"QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+|V10 \\b4G\\b",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",AocTablet:"MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712",MpmanTablet:"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",LeaderTablet:"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",KocasoTablet:"\\b(TB-1207)\\b",HisenseTablet:"\\b(F5281|E2371)\\b",Hudl:"Hudl HT7S3|Hudl 2",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Windows Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad|AppleCoreMedia",iPadOS:"CPU OS 13",SailfishOS:"Sailfish",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+$|Coast/[0-9.]+",Skyfire:"Skyfire",Edge:"\\bEdgiOS\\b|Mobile Safari/[.0-9]* Edge",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version((?!\\bEdgiOS\\b).)*Mobile.*Safari|Safari.*Mobile|MobileSafari",WeChat:"\\bMicroMessenger\\b",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger",PaleMoon:"Android.*PaleMoon|Mobile.*PaleMoon"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:["Firefox/[VER]","FxiOS/[VER]"],Fennec:"Fennec/[VER]",Edge:"Edge/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]",UCBrowser:["UCWEB[VER]","UC.*Browser/[VER]"],MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",SamsungBrowser:"SamsungBrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",PaleMoon:"PaleMoon/[VER]",SailfishBrowser:"SailfishBrowser/[VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",Goanna:"Goanna/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",Sailfish:"Sailfish [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|Google-AMPHTML|s~amp-validator|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom|contentkingapp|AspiegelBot",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|Nintendo Switch|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},o.detectMobileBrowsers={
fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i};var r,s=Object.prototype.hasOwnProperty;return o.FALLBACK_PHONE="UnknownPhone",o.FALLBACK_TABLET="UnknownTablet",o.FALLBACK_MOBILE="UnknownMobile",r="isArray"in Array?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},function(){var e,t,i,a,l,c,d=o.mobileDetectRules;for(e in d.props)if(s.call(d.props,e)){for(t=d.props[e],r(t)||(t=[t]),l=t.length,a=0;a<l;++a)i=t[a],c=i.indexOf("[VER]"),c>=0&&(i=i.substring(0,c)+"([\\w._\\+]+)"+i.substring(c+5)),t[a]=new RegExp(i,"i");d.props[e]=t}n(d.oss),n(d.phones),n(d.tablets),n(d.uas),n(d.utils),d.oss0={WindowsPhoneOS:d.oss.WindowsPhoneOS,WindowsMobileOS:d.oss.WindowsMobileOS}}(),o.findMatch=function(e,t){for(var n in e)if(s.call(e,n)&&e[n].test(t))return n;return null},o.findMatches=function(e,t){var n=[];for(var i in e)s.call(e,i)&&e[i].test(t)&&n.push(i);return n},o.getVersionStr=function(e,t){var n,i,a,r,l=o.mobileDetectRules.props;if(s.call(l,e))for(n=l[e],a=n.length,i=0;i<a;++i)if(null!==(r=n[i].exec(t)))return r[1];return null},o.getVersion=function(e,t){var n=o.getVersionStr(e,t);return n?o.prepareVersionNo(n):NaN},o.prepareVersionNo=function(e){var t;return t=e.split(/[a-z._ \/\-]/i),1===t.length&&(e=t[0]),t.length>1&&(e=t[0]+".",t.shift(),e+=t.join("")),Number(e)},o.isMobileFallback=function(e){return o.detectMobileBrowsers.fullPattern.test(e)||o.detectMobileBrowsers.shortPattern.test(e.substr(0,4))},o.isTabletFallback=function(e){return o.detectMobileBrowsers.tabletPattern.test(e)},o.prepareDetectionCache=function(e,t,n){if(void 0===e.mobile){var i,r,s;if(r=o.findMatch(o.mobileDetectRules.tablets,t))return e.mobile=e.tablet=r,void(e.phone=null);if(i=o.findMatch(o.mobileDetectRules.phones,t))return e.mobile=e.phone=i,void(e.tablet=null);o.isMobileFallback(t)?(s=a.isPhoneSized(n),void 0===s?(e.mobile=o.FALLBACK_MOBILE,e.tablet=e.phone=null):s?(e.mobile=e.phone=o.FALLBACK_PHONE,e.tablet=null):(e.mobile=e.tablet=o.FALLBACK_TABLET,e.phone=null)):o.isTabletFallback(t)?(e.mobile=e.tablet=o.FALLBACK_TABLET,e.phone=null):e.mobile=e.tablet=e.phone=null}},o.mobileGrade=function(e){var t=null!==e.mobile();return e.os("iOS")&&e.version("iPad")>=4.3||e.os("iOS")&&e.version("iPhone")>=3.1||e.os("iOS")&&e.version("iPod")>=3.1||e.version("Android")>2.1&&e.is("Webkit")||e.version("Windows Phone OS")>=7||e.is("BlackBerry")&&e.version("BlackBerry")>=6||e.match("Playbook.*Tablet")||e.version("webOS")>=1.4&&e.match("Palm|Pre|Pixi")||e.match("hp.*TouchPad")||e.is("Firefox")&&e.version("Firefox")>=12||e.is("Chrome")&&e.is("AndroidOS")&&e.version("Android")>=4||e.is("Skyfire")&&e.version("Skyfire")>=4.1&&e.is("AndroidOS")&&e.version("Android")>=2.3||e.is("Opera")&&e.version("Opera Mobi")>11&&e.is("AndroidOS")||e.is("MeeGoOS")||e.is("Tizen")||e.is("Dolfin")&&e.version("Bada")>=2||(e.is("UC Browser")||e.is("Dolfin"))&&e.version("Android")>=2.3||e.match("Kindle Fire")||e.is("Kindle")&&e.version("Kindle")>=3||e.is("AndroidOS")&&e.is("NookTablet")||e.version("Chrome")>=11&&!t||e.version("Safari")>=5&&!t||e.version("Firefox")>=4&&!t||e.version("MSIE")>=7&&!t||e.version("Opera")>=10&&!t?"A":e.os("iOS")&&e.version("iPad")<4.3||e.os("iOS")&&e.version("iPhone")<3.1||e.os("iOS")&&e.version("iPod")<3.1||e.is("Blackberry")&&e.version("BlackBerry")>=5&&e.version("BlackBerry")<6||e.version("Opera Mini")>=5&&e.version("Opera Mini")<=6.5&&(e.version("Android")>=2.3||e.is("iOS"))||e.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||e.version("Opera Mobi")>=11&&e.is("SymbianOS")?"B":(e.version("BlackBerry")<5||e.match("MSIEMobile|Windows CE.*Mobile")||e.version("Windows Mobile"),"C")},o.detectOS=function(e){return o.findMatch(o.mobileDetectRules.oss0,e)||o.findMatch(o.mobileDetectRules.oss,e)},o.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height},a.prototype={constructor:a,mobile:function(){return o.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return o.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return o.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){/*!mobile-detect v1.4.5 2021-03-13*/
/*!@license Copyright 2013, Heinrich Goebl, License: MIT, see https://github.com/hgoebl/mobile-detect.js*/
return void 0===this._cache.userAgent&&(this._cache.userAgent=o.findMatch(o.mobileDetectRules.uas,this.ua)),this._cache.userAgent},userAgents:function(){return void 0===this._cache.userAgents&&(this._cache.userAgents=o.findMatches(o.mobileDetectRules.uas,this.ua)),this._cache.userAgents},os:function(){return void 0===this._cache.os&&(this._cache.os=o.detectOS(this.ua)),this._cache.os},version:function(e){return o.getVersion(e,this.ua)},versionStr:function(e){return o.getVersionStr(e,this.ua)},is:function(n){return t(this.userAgents(),n)||e(n,this.os())||e(n,this.phone())||e(n,this.tablet())||t(o.findMatches(o.mobileDetectRules.utils,this.ua),n)},match:function(e){return e instanceof RegExp||(e=new RegExp(e,"i")),e.test(this.ua)},isPhoneSized:function(e){return a.isPhoneSized(e||this.maxPhoneWidth)},mobileGrade:function(){return void 0===this._cache.grade&&(this._cache.grade=o.mobileGrade(this)),this._cache.grade}},"undefined"!=typeof window&&window.screen?a.isPhoneSized=function(e){return e<0?void 0:o.getDeviceSmallerSide()<=e}:a.isPhoneSized=function(){},a._impl=o,a.version="1.4.5 2021-03-13",a})}(function(e){if(void 0!==t&&t.exports)return function(e){t.exports=e()};if("function"==typeof define&&define.amd)return define;if("undefined"!=typeof window)return function(e){window.MobileDetect=e()};throw new Error("unknown environment")}())},{}],23:[function(e,t,n){function i(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return r(e,t,n)}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var o=e("buffer"),r=o.Buffer;r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=o:(i(o,n),n.Buffer=a),a.prototype=Object.create(r.prototype),i(r,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},{buffer:267}],24:[function(e,t,n){function i(e,t){this._block=a.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}var a=e("safe-buffer").Buffer;i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=a.from(e,t));for(var n=this._block,i=this._blockSize,o=e.length,r=this._len,s=0;s<o;){for(var l=r%i,c=Math.min(o-s,i-l),d=0;d<c;d++)n[l+d]=e[s+d];r+=c,s+=c,r%i==0&&this._update(n)}return this._len+=o,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var i=(4294967295&n)>>>0,a=(n-i)/4294967296;this._block.writeUInt32BE(a,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},{"safe-buffer":23}],25:[function(e,t,n){var n=t.exports=function(e){e=e.toLowerCase();var t=n[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};n.sha=e("./sha"),n.sha1=e("./sha1"),n.sha224=e("./sha224"),n.sha256=e("./sha256"),n.sha384=e("./sha384"),n.sha512=e("./sha512")},{"./sha":26,"./sha1":27,"./sha224":28,"./sha256":29,"./sha384":30,"./sha512":31}],26:[function(e,t,n){function i(){this.init(),this._w=u,l.call(this,64,56)}function a(e){return e<<5|e>>>27}function o(e){return e<<30|e>>>2}function r(e,t,n,i){return 0===e?t&n|~t&i:2===e?t&n|t&i|n&i:t^n^i}var s=e("inherits"),l=e("./hash"),c=e("safe-buffer").Buffer,d=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);s(i,l),i.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},i.prototype._update=function(e){for(var t=this._w,n=0|this._a,i=0|this._b,s=0|this._c,l=0|this._d,c=0|this._e,u=0;u<16;++u)t[u]=e.readInt32BE(4*u);for(;u<80;++u)t[u]=t[u-3]^t[u-8]^t[u-14]^t[u-16];for(var p=0;p<80;++p){var m=~~(p/20),h=a(n)+r(m,i,s,l)+c+t[p]+d[m]|0;c=l,l=s,s=o(i),i=n,n=h}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=l+this._d|0,this._e=c+this._e|0},i.prototype._hash=function(){var e=c.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=i},{"./hash":24,inherits:17,"safe-buffer":23}],27:[function(e,t,n){function i(){this.init(),this._w=p,c.call(this,64,56)}function a(e){return e<<1|e>>>31}function o(e){return e<<5|e>>>27}function r(e){return e<<30|e>>>2}function s(e,t,n,i){return 0===e?t&n|~t&i:2===e?t&n|t&i|n&i:t^n^i}var l=e("inherits"),c=e("./hash"),d=e("safe-buffer").Buffer,u=[1518500249,1859775393,-1894007588,-899497514],p=new Array(80);l(i,c),i.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},i.prototype._update=function(e){for(var t=this._w,n=0|this._a,i=0|this._b,l=0|this._c,c=0|this._d,d=0|this._e,p=0;p<16;++p)t[p]=e.readInt32BE(4*p);for(;p<80;++p)t[p]=a(t[p-3]^t[p-8]^t[p-14]^t[p-16]);for(var m=0;m<80;++m){var h=~~(m/20),f=o(n)+s(h,i,l,c)+d+t[m]+u[h]|0;d=c,c=l,l=r(i),i=n,n=f}this._a=n+this._a|0,this._b=i+this._b|0,this._c=l+this._c|0,this._d=c+this._d|0,this._e=d+this._e|0},i.prototype._hash=function(){var e=d.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=i},{"./hash":24,inherits:17,"safe-buffer":23}],28:[function(e,t,n){function i(){this.init(),this._w=l,r.call(this,64,56)}var a=e("inherits"),o=e("./sha256"),r=e("./hash"),s=e("safe-buffer").Buffer,l=new Array(64);a(i,o),i.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},i.prototype._hash=function(){var e=s.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},t.exports=i},{"./hash":24,"./sha256":29,inherits:17,"safe-buffer":23}],29:[function(e,t,n){function i(){this.init(),this._w=h,u.call(this,64,56)}function a(e,t,n){return n^e&(t^n)}function o(e,t,n){return e&t|n&(e|t)}function r(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function s(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function l(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function c(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}var d=e("inherits"),u=e("./hash"),p=e("safe-buffer").Buffer,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],h=new Array(64);d(i,u),i.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},i.prototype._update=function(e){for(var t=this._w,n=0|this._a,i=0|this._b,d=0|this._c,u=0|this._d,p=0|this._e,h=0|this._f,f=0|this._g,_=0|this._h,b=0;b<16;++b)t[b]=e.readInt32BE(4*b);for(;b<64;++b)t[b]=c(t[b-2])+t[b-7]+l(t[b-15])+t[b-16]|0;for(var v=0;v<64;++v){var g=_+s(p)+a(p,h,f)+m[v]+t[v]|0,y=r(n)+o(n,i,d)|0;_=f,f=h,h=p,p=u+g|0,u=d,d=i,i=n,n=g+y|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=d+this._c|0,this._d=u+this._d|0,this._e=p+this._e|0,this._f=h+this._f|0,this._g=f+this._g|0,this._h=_+this._h|0},i.prototype._hash=function(){var e=p.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},t.exports=i},{"./hash":24,inherits:17,"safe-buffer":23}],30:[function(e,t,n){function i(){this.init(),this._w=l,r.call(this,128,112)}var a=e("inherits"),o=e("./sha512"),r=e("./hash"),s=e("safe-buffer").Buffer,l=new Array(160);a(i,o),i.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},i.prototype._hash=function(){function e(e,n,i){t.writeInt32BE(e,i),t.writeInt32BE(n,i+4)}var t=s.allocUnsafe(48);return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=i},{"./hash":24,"./sha512":31,inherits:17,"safe-buffer":23}],31:[function(e,t,n){function i(){this.init(),this._w=b,h.call(this,128,112)}function a(e,t,n){return n^e&(t^n)}function o(e,t,n){return e&t|n&(e|t)}function r(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function s(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function l(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function c(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function d(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function u(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function p(e,t){return e>>>0<t>>>0?1:0}var m=e("inherits"),h=e("./hash"),f=e("safe-buffer").Buffer,_=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],b=new Array(160);m(i,h),i.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},i.prototype._update=function(e){for(var t=this._w,n=0|this._ah,i=0|this._bh,m=0|this._ch,h=0|this._dh,f=0|this._eh,b=0|this._fh,v=0|this._gh,g=0|this._hh,y=0|this._al,E=0|this._bl,T=0|this._cl,w=0|this._dl,S=0|this._el,C=0|this._fl,I=0|this._gl,P=0|this._hl,A=0;A<32;A+=2)t[A]=e.readInt32BE(4*A),t[A+1]=e.readInt32BE(4*A+4);for(;A<160;A+=2){var k=t[A-30],x=t[A-30+1],N=l(k,x),M=c(x,k);k=t[A-4],x=t[A-4+1];var B=d(k,x),L=u(x,k),D=t[A-14],V=t[A-14+1],R=t[A-32],O=t[A-32+1],j=M+V|0,U=N+D+p(j,M)|0;j=j+L|0,U=U+B+p(j,L)|0,j=j+O|0,U=U+R+p(j,O)|0,t[A]=U,t[A+1]=j}for(var H=0;H<160;H+=2){U=t[H],j=t[H+1];var F=o(n,i,m),G=o(y,E,T),K=r(n,y),Y=r(y,n),$=s(f,S),W=s(S,f),z=_[H],J=_[H+1],q=a(f,b,v),X=a(S,C,I),Q=P+W|0,Z=g+$+p(Q,P)|0;Q=Q+X|0,Z=Z+q+p(Q,X)|0,Q=Q+J|0,Z=Z+z+p(Q,J)|0,Q=Q+j|0,Z=Z+U+p(Q,j)|0;var ee=Y+G|0,te=K+F+p(ee,Y)|0;g=v,P=I,v=b,I=C,b=f,C=S,S=w+Q|0,f=h+Z+p(S,w)|0,h=m,w=T,m=i,T=E,i=n,E=y,y=Q+ee|0,n=Z+te+p(y,Q)|0}this._al=this._al+y|0,this._bl=this._bl+E|0,this._cl=this._cl+T|0,this._dl=this._dl+w|0,this._el=this._el+S|0,this._fl=this._fl+C|0,this._gl=this._gl+I|0,this._hl=this._hl+P|0,this._ah=this._ah+n+p(this._al,y)|0,this._bh=this._bh+i+p(this._bl,E)|0,this._ch=this._ch+m+p(this._cl,T)|0,this._dh=this._dh+h+p(this._dl,w)|0,this._eh=this._eh+f+p(this._el,S)|0,this._fh=this._fh+b+p(this._fl,C)|0,this._gh=this._gh+v+p(this._gl,I)|0,this._hh=this._hh+g+p(this._hl,P)|0},i.prototype._hash=function(){function e(e,n,i){t.writeInt32BE(e,i),t.writeInt32BE(n,i+4)}var t=f.allocUnsafe(64);return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=i},{"./hash":24,inherits:17,"safe-buffer":23}],32:[function(e,t,n){(function(e){(function(){!function(e,i){"object"==typeof n&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define("underscore",i):(e="undefined"!=typeof globalThis?globalThis:e||self,function(){var t=e._,n=e._=i();n.noConflict=function(){return e._=t,n}}())}(this,function(){function t(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),i=Array(n),a=0;a<n;a++)i[a]=arguments[a+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i);case 2:return e.call(this,arguments[0],arguments[1],i)}var o=Array(t+1);for(a=0;a<t;a++)o[a]=arguments[a];return o[t]=i,e.apply(this,o)}}function n(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function i(e){return null===e}function a(e){return void 0===e}function o(e){return!0===e||!1===e||"[object Boolean]"===lt.call(e)}function r(e){return!(!e||1!==e.nodeType)}function s(e){var t="[object "+e+"]";return function(e){return lt.call(e)===t}}function l(e){return null!=e&&xt(e.getInt8)&&Pt(e.buffer)}function c(e,t){return null!=e&&ct.call(e,t)}function d(e){return!It(e)&&bt(e)&&!isNaN(parseFloat(e))}function u(e){return Tt(e)&&_t(e)}function p(e){return function(){return e}}function m(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=yt}}function h(e){return function(t){return null==t?void 0:t[e]}}function f(e){return ft?ft(e)&&!Dt(e):Ut(e)&&Ht.test(lt.call(e))}function _(e){for(var t={},n=e.length,i=0;i<n;++i)t[e[i]]=!0;return{contains:function(e){return t[e]},push:function(n){return t[n]=!0,e.push(n)}}}function b(e,t){t=_(t);var n=gt.length,i=e.constructor,a=xt(i)&&i.prototype||at,o="constructor";for(c(e,o)&&!t.contains(o)&&t.push(o);n--;)(o=gt[n])in e&&e[o]!==a[o]&&!t.contains(o)&&t.push(o)}function v(e){if(!n(e))return[];if(mt)return mt(e);var t=[];for(var i in e)c(e,i)&&t.push(i);return vt&&b(e,t),t}function g(e){if(null==e)return!0;var t=Gt(e);return"number"==typeof t&&(Vt(e)||Et(e)||Ot(e))?0===t:0===Gt(v(e))}function y(e,t){var n=v(t),i=n.length;if(null==e)return!i;for(var a=Object(e),o=0;o<i;o++){var r=n[o];if(t[r]!==a[r]||!(r in a))return!1}return!0}function E(e){return e instanceof E?e:this instanceof E?void(this._wrapped=e):new E(e)}function T(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,jt(e))}function w(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var a=typeof e;return("function"===a||"object"===a||"object"==typeof t)&&S(e,t,n,i)}function S(e,t,n,i){e instanceof E&&(e=e._wrapped),t instanceof E&&(t=t._wrapped);var a=lt.call(e);if(a!==lt.call(t))return!1;if(Mt&&"[object Object]"==a&&Dt(e)){if(!Dt(t))return!1;a=Kt}switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return ot.valueOf.call(e)===ot.valueOf.call(t);case"[object ArrayBuffer]":case Kt:return S(T(e),T(t),n,i)}var o="[object Array]"===a;if(!o&&Ft(e)){if(jt(e)!==jt(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var r=e.constructor,s=t.constructor;if(r!==s&&!(xt(r)&&r instanceof r&&xt(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===e)return i[l]===t;if(n.push(e),i.push(t),o){if((l=e.length)!==t.length)return!1;for(;l--;)if(!w(e[l],t[l],n,i))return!1}else{var d,u=v(e);if(l=u.length,v(t).length!==l)return!1;for(;l--;)if(d=u[l],!c(t,d)||!w(e[d],t[d],n,i))return!1}return n.pop(),i.pop(),!0}function C(e,t){return w(e,t)}function I(e){if(!n(e))return[];var t=[];for(var i in e)t.push(i);return vt&&b(e,t),t}function P(e){var t=Gt(e);return function(n){if(null==n)return!1;var i=I(n);if(Gt(i))return!1;for(var a=0;a<t;a++)if(!xt(n[e[a]]))return!1;return e!==Jt||!xt(n[Yt])}}function A(e){for(var t=v(e),n=t.length,i=Array(n),a=0;a<n;a++)i[a]=e[t[a]];return i}function k(e){for(var t=v(e),n=t.length,i=Array(n),a=0;a<n;a++)i[a]=[t[a],e[t[a]]];return i}function x(e){for(var t={},n=v(e),i=0,a=n.length;i<a;i++)t[e[n[i]]]=n[i];return t}function N(e){var t=[];for(var n in e)xt(e[n])&&t.push(n);return t.sort()}function M(e,t){return function(n){var i=arguments.length;if(t&&(n=Object(n)),i<2||null==n)return n;for(var a=1;a<i;a++)for(var o=arguments[a],r=e(o),s=r.length,l=0;l<s;l++){var c=r[l];t&&void 0!==n[c]||(n[c]=o[c])}return n}}function B(){return function(){}}function L(e){if(!n(e))return{};if(ht)return ht(e);var t=B();t.prototype=e;var i=new t;return t.prototype=null,i}function D(e,t){var n=L(e);return t&&nn(n,t),n}function V(e){return n(e)?Vt(e)?e.slice():tn({},e):e}function R(e,t){return t(e),e}function O(e){return Vt(e)?e:[e]}function j(e){return E.toPath(e)}function U(e,t){for(var n=t.length,i=0;i<n;i++){if(null==e)return;e=e[t[i]]}return n?e:void 0}function H(e,t,n){var i=U(e,j(t));return a(i)?n:i}function F(e,t){t=j(t);for(var n=t.length,i=0;i<n;i++){var a=t[i];if(!c(e,a))return!1;e=e[a]}return!!n}function G(e){return e}function K(e){return e=nn({},e),function(t){return y(t,e)}}function Y(e){return e=j(e),function(t){return U(t,e)}}function $(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,a){return e.call(t,n,i,a)};case 4:return function(n,i,a,o){return e.call(t,n,i,a,o)}}return function(){return e.apply(t,arguments)}}function W(e,t,i){return null==e?G:xt(e)?$(e,t,i):n(e)&&!Vt(e)?K(e):Y(e)}function z(e,t){return W(e,t,1/0)}function J(e,t,n){return E.iteratee!==z?E.iteratee(e,t):W(e,t,n)}function q(e,t,n){t=J(t,n);for(var i=v(e),a=i.length,o={},r=0;r<a;r++){var s=i[r];o[s]=t(e[s],s,e)}return o}function X(){}function Q(e){return null==e?X:function(t){return H(e,t)}}function Z(e,t,n){var i=Array(Math.max(0,e));t=$(t,n,1);for(var a=0;a<e;a++)i[a]=t(a);return i}function ee(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}function te(e){var t=function(t){return e[t]},n="(?:"+v(e).join("|")+")",i=RegExp(n),a=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(a,t):e}}function ne(e){return"\\"+pn[e]}function ie(e,t,n){!t&&n&&(t=n),t=an({},t,E.templateSettings);var i=RegExp([(t.escape||un).source,(t.interpolate||un).source,(t.evaluate||un).source].join("|")+"|$","g"),a=0,o="__p+='";e.replace(i,function(t,n,i,r,s){return o+=e.slice(a,s).replace(mn,ne),a=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":r&&(o+="';\n"+r+"\n__p+='"),t}),o+="';\n";var r=t.variable;if(r){if(!hn.test(r))throw new Error("variable is not a bare identifier: "+r)}else o="with(obj||{}){\n"+o+"}\n",r="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";var s;try{s=new Function(r,"_",o)}catch(e){throw e.source=o,e}var l=function(e){return s.call(this,e,E)};return l.source="function("+r+"){\n"+o+"}",l}function ae(e,t,n){t=j(t);var i=t.length;if(!i)return xt(n)?n.call(e):n;for(var a=0;a<i;a++){var o=null==e?void 0:e[t[a]];void 0===o&&(o=n,a=i),e=xt(o)?o.call(e):o}return e}function oe(e){var t=++fn+"";return e?e+t:t}function re(e){var t=E(e);return t._chain=!0,t}function se(e,t,i,a,o){if(!(a instanceof t))return e.apply(i,o);var r=L(e.prototype),s=e.apply(r,o);return n(s)?s:r}function le(e,t,n,i){if(i=i||[],t||0===t){if(t<=0)return i.concat(e)}else t=1/0;for(var a=i.length,o=0,r=Gt(e);o<r;o++){var s=e[o];if(vn(s)&&(Vt(s)||Ot(s)))if(t>1)le(s,t-1,n,i),a=i.length;else for(var l=0,c=s.length;l<c;)i[a++]=s[l++];else n||(i[a++]=s)}return i}function ce(e,t){var n=function(i){var a=n.cache,o=""+(t?t.apply(this,arguments):i);return c(a,o)||(a[o]=e.apply(this,arguments)),a[o]};return n.cache={},n}function de(e,t,n){var i,a,o,r,s=0;n||(n={});var l=function(){s=!1===n.leading?0:on(),i=null,r=e.apply(a,o),i||(a=o=null)},c=function(){var c=on();s||!1!==n.leading||(s=c);var d=t-(c-s);return a=this,o=arguments,d<=0||d>t?(i&&(clearTimeout(i),i=null),s=c,r=e.apply(a,o),i||(a=o=null)):i||!1===n.trailing||(i=setTimeout(l,d)),r};return c.cancel=function(){clearTimeout(i),s=0,i=a=o=null},c}function ue(e,n,i){var a,o,r,s,l,c=function(){var t=on()-o;n>t?a=setTimeout(c,n-t):(a=null,i||(s=e.apply(l,r)),a||(r=l=null))},d=t(function(t){return l=this,r=t,o=on(),a||(a=setTimeout(c,n),i&&(s=e.apply(l,r))),s});return d.cancel=function(){clearTimeout(a),a=r=l=null},d}function pe(e,t){return _n(t,e)}function me(e){return function(){return!e.apply(this,arguments)}}function he(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}}function fe(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function _e(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}function be(e,t,n){t=J(t,n);for(var i,a=v(e),o=0,r=a.length;o<r;o++)if(i=a[o],t(e[i],i,e))return i}function ve(e){return function(t,n,i){n=J(n,i);for(var a=Gt(t),o=e>0?0:a-1;o>=0&&o<a;o+=e)if(n(t[o],o,t))return o;return-1}}function ge(e,t,n,i){n=J(n,i,1);for(var a=n(t),o=0,r=Gt(e);o<r;){var s=Math.floor((o+r)/2);n(e[s])<a?o=s+1:r=s}return o}function ye(e,t,n){return function(i,a,o){var r=0,s=Gt(i);if("number"==typeof o)e>0?r=o>=0?o:Math.max(o+s,r):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(i,a),i[o]===a?o:-1;if(a!==a)return o=t(st.call(i,r,s),u),o>=0?o+r:-1;for(o=e>0?r:s-1;o>=0&&o<s;o+=e)if(i[o]===a)return o;return-1}}function Ee(e,t,n){var i=vn(e)?wn:be,a=i(e,t,n);if(void 0!==a&&-1!==a)return e[a]}function Te(e,t){return Ee(e,K(t))}function we(e,t,n){t=$(t,n);var i,a;if(vn(e))for(i=0,a=e.length;i<a;i++)t(e[i],i,e);else{var o=v(e);for(i=0,a=o.length;i<a;i++)t(e[o[i]],o[i],e)}return e}function Se(e,t,n){t=J(t,n);for(var i=!vn(e)&&v(e),a=(i||e).length,o=Array(a),r=0;r<a;r++){var s=i?i[r]:r;o[r]=t(e[s],s,e)}return o}function Ce(e){var t=function(t,n,i,a){var o=!vn(t)&&v(t),r=(o||t).length,s=e>0?0:r-1;for(a||(i=t[o?o[s]:s],s+=e);s>=0&&s<r;s+=e){var l=o?o[s]:s;i=n(i,t[l],l,t)}return i};return function(e,n,i,a){var o=arguments.length>=3;return t(e,$(n,a,4),i,o)}}function Ie(e,t,n){var i=[];return t=J(t,n),we(e,function(e,n,a){t(e,n,a)&&i.push(e)}),i}function Pe(e,t,n){return Ie(e,me(J(t)),n)}function Ae(e,t,n){t=J(t,n);for(var i=!vn(e)&&v(e),a=(i||e).length,o=0;o<a;o++){var r=i?i[o]:o;if(!t(e[r],r,e))return!1}return!0}function ke(e,t,n){t=J(t,n);for(var i=!vn(e)&&v(e),a=(i||e).length,o=0;o<a;o++){var r=i?i[o]:o;if(t(e[r],r,e))return!0}return!1}function xe(e,t,n,i){return vn(e)||(e=A(e)),("number"!=typeof n||i)&&(n=0),Cn(e,t,n)>=0}function Ne(e,t){return Se(e,Y(t))}function Me(e,t){return Ie(e,K(t))}function Be(e,t,n){var i,a,o=-1/0,r=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=vn(e)?e:A(e);for(var s=0,l=e.length;s<l;s++)null!=(i=e[s])&&i>o&&(o=i)}else t=J(t,n),we(e,function(e,n,i){((a=t(e,n,i))>r||a===-1/0&&o===-1/0)&&(o=e,r=a)});return o}function Le(e,t,n){var i,a,o=1/0,r=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=vn(e)?e:A(e);for(var s=0,l=e.length;s<l;s++)null!=(i=e[s])&&i<o&&(o=i)}else t=J(t,n),we(e,function(e,n,i){((a=t(e,n,i))<r||a===1/0&&o===1/0)&&(o=e,r=a)});return o}function De(e,t,n){if(null==t||n)return vn(e)||(e=A(e)),e[ee(e.length-1)];var i=vn(e)?V(e):A(e),a=Gt(i);t=Math.max(Math.min(t,a),0);for(var o=a-1,r=0;r<t;r++){var s=ee(r,o),l=i[r];i[r]=i[s],i[s]=l}return i.slice(0,t)}function Ve(e){return De(e,1/0)}function Re(e,t,n){var i=0;return t=J(t,n),Ne(Se(e,function(e,n,a){return{value:e,index:i++,criteria:t(e,n,a)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")}function Oe(e,t){return function(n,i,a){var o=t?[[],[]]:{};return i=J(i,a),we(n,function(t,a){var r=i(t,a,n);e(o,t,r)}),o}}function je(e){return e?Vt(e)?st.call(e):Et(e)?e.match(Ln):vn(e)?Se(e,G):A(e):[]}function Ue(e){return null==e?0:vn(e)?e.length:v(e).length}function He(e,t,n){return t in n}function Fe(e,t,n){return st.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function Ge(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:Fe(e,e.length-t)}function Ke(e,t,n){return st.call(e,null==t||n?1:t)}function Ye(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:Ke(e,Math.max(0,e.length-t))}function $e(e){return Ie(e,Boolean)}function We(e,t){return le(e,t,!1)}function ze(e,t,n,i){o(t)||(i=n,n=t,t=!1),null!=n&&(n=J(n,i));for(var a=[],r=[],s=0,l=Gt(e);s<l;s++){var c=e[s],d=n?n(c,s,e):c;t&&!n?(s&&r===d||a.push(c),r=d):n?xe(r,d)||(r.push(d),a.push(c)):xe(a,c)||a.push(c)}return a}function Je(e){for(var t=[],n=arguments.length,i=0,a=Gt(e);i<a;i++){var o=e[i];if(!xe(t,o)){var r;for(r=1;r<n&&xe(arguments[r],o);r++);r===n&&t.push(o)}}return t}function qe(e){for(var t=e&&Be(e,Gt).length||0,n=Array(t),i=0;i<t;i++)n[i]=Ne(e,i);return n}function Xe(e,t){for(var n={},i=0,a=Gt(e);i<a;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n}function Qe(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var i=Math.max(Math.ceil((t-e)/n),0),a=Array(i),o=0;o<i;o++,e+=n)a[o]=e;return a}function Ze(e,t){if(null==t||t<1)return[];for(var n=[],i=0,a=e.length;i<a;)n.push(st.call(e,i,i+=t));return n}function et(e,t){return e._chain?E(t).chain():t}function tt(e){return we(N(e),function(t){var n=E[t]=e[t];E.prototype[t]=function(){var e=[this._wrapped];return rt.apply(e,arguments),et(this,n.apply(E,e))}}),E}var nt="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||Function("return this")()||{},it=Array.prototype,at=Object.prototype,ot="undefined"!=typeof Symbol?Symbol.prototype:null,rt=it.push,st=it.slice,lt=at.toString,ct=at.hasOwnProperty,dt="undefined"!=typeof ArrayBuffer,ut="undefined"!=typeof DataView,pt=Array.isArray,mt=Object.keys,ht=Object.create,ft=dt&&ArrayBuffer.isView,_t=isNaN,bt=isFinite,vt=!{toString:null}.propertyIsEnumerable("toString"),gt=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],yt=Math.pow(2,53)-1,Et=s("String"),Tt=s("Number"),wt=s("Date"),St=s("RegExp"),Ct=s("Error"),It=s("Symbol"),Pt=s("ArrayBuffer"),At=s("Function"),kt=nt.document&&nt.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof kt&&(At=function(e){return"function"==typeof e||!1});var xt=At,Nt=s("Object"),Mt=ut&&Nt(new DataView(new ArrayBuffer(8))),Bt="undefined"!=typeof Map&&Nt(new Map),Lt=s("DataView"),Dt=Mt?l:Lt,Vt=pt||s("Array"),Rt=s("Arguments");!function(){Rt(arguments)||(Rt=function(e){return c(e,"callee")})}();var Ot=Rt,jt=h("byteLength"),Ut=m(jt),Ht=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,Ft=dt?f:p(!1),Gt=h("length");E.VERSION="1.13.1",E.prototype.value=function(){return this._wrapped},E.prototype.valueOf=E.prototype.toJSON=E.prototype.value,E.prototype.toString=function(){return String(this._wrapped)};var Kt="[object DataView]",Yt="forEach",$t=["clear","delete"],Wt=["get","has","set"],zt=$t.concat(Yt,Wt),Jt=$t.concat(Wt),qt=["add"].concat($t,Yt,"has"),Xt=Bt?P(zt):s("Map"),Qt=Bt?P(Jt):s("WeakMap"),Zt=Bt?P(qt):s("Set"),en=s("WeakSet"),tn=M(I),nn=M(v),an=M(I,!0);E.toPath=O,E.iteratee=z;var on=Date.now||function(){return(new Date).getTime()},rn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},sn=te(rn),ln=x(rn),cn=te(ln),dn=E.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},un=/(.)^/,pn={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},mn=/\\|'|\r|\n|\u2028|\u2029/g,hn=/^\s*(\w|\$)+\s*$/,fn=0,_n=t(function(e,t){var n=_n.placeholder,i=function(){for(var a=0,o=t.length,r=Array(o),s=0;s<o;s++)r[s]=t[s]===n?arguments[a++]:t[s];for(;a<arguments.length;)r.push(arguments[a++]);return se(e,i,this,this,r)};return i});_n.placeholder=E;var bn=t(function(e,n,i){if(!xt(e))throw new TypeError("Bind must be called on a function");var a=t(function(t){return se(e,a,n,this,i.concat(t))});return a}),vn=m(Gt),gn=t(function(e,t){t=le(t,!1,!1);var n=t.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=t[n];e[i]=bn(e[i],e)}return e}),yn=t(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),En=_n(yn,E,1),Tn=_n(_e,2),wn=ve(1),Sn=ve(-1),Cn=ye(1,wn,ge),In=ye(-1,Sn),Pn=Ce(1),An=Ce(-1),kn=t(function(e,t,n){var i,a;return xt(t)?a=t:(t=j(t),i=t.slice(0,-1),t=t[t.length-1]),Se(e,function(e){var o=a;if(!o){if(i&&i.length&&(e=U(e,i)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)})}),xn=Oe(function(e,t,n){c(e,n)?e[n].push(t):e[n]=[t]}),Nn=Oe(function(e,t,n){e[n]=t}),Mn=Oe(function(e,t,n){c(e,n)?e[n]++:e[n]=1}),Bn=Oe(function(e,t,n){e[n?0:1].push(t)},!0),Ln=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g,Dn=t(function(e,t){var n={},i=t[0];if(null==e)return n;xt(i)?(t.length>1&&(i=$(i,t[1])),t=I(e)):(i=He,t=le(t,!1,!1),e=Object(e));for(var a=0,o=t.length;a<o;a++){var r=t[a],s=e[r];i(s,r,e)&&(n[r]=s)}return n}),Vn=t(function(e,t){var n,i=t[0];return xt(i)?(i=me(i),t.length>1&&(n=t[1])):(t=Se(le(t,!1,!1),String),i=function(e,n){return!xe(t,n)}),Dn(e,i,n)}),Rn=t(function(e,t){return t=le(t,!0,!0),Ie(e,function(e){return!xe(t,e)})}),On=t(function(e,t){return Rn(e,t)}),jn=t(function(e){return ze(le(e,!0,!0))}),Un=t(qe);we(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=it[e];E.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),et(this,n)}}),we(["concat","join","slice"],function(e){var t=it[e];E.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),et(this,e)}});var Hn={__proto__:null,VERSION:"1.13.1",restArguments:t,isObject:n,isNull:i,isUndefined:a,isBoolean:o,isElement:r,isString:Et,isNumber:Tt,isDate:wt,isRegExp:St,isError:Ct,isSymbol:It,isArrayBuffer:Pt,isDataView:Dt,isArray:Vt,isFunction:xt,isArguments:Ot,isFinite:d,isNaN:u,isTypedArray:Ft,isEmpty:g,isMatch:y,isEqual:C,isMap:Xt,isWeakMap:Qt,isSet:Zt,isWeakSet:en,keys:v,allKeys:I,values:A,pairs:k,invert:x,functions:N,methods:N,extend:tn,extendOwn:nn,assign:nn,defaults:an,create:D,clone:V,tap:R,get:H,has:F,mapObject:q,identity:G,constant:p,noop:X,toPath:O,property:Y,propertyOf:Q,matcher:K,matches:K,times:Z,random:ee,now:on,escape:sn,unescape:cn,templateSettings:dn,template:ie,result:ae,uniqueId:oe,chain:re,iteratee:z,partial:_n,bind:bn,bindAll:gn,memoize:ce,delay:yn,defer:En,throttle:de,debounce:ue,wrap:pe,negate:me,compose:he,after:fe,before:_e,once:Tn,findKey:be,findIndex:wn,findLastIndex:Sn,sortedIndex:ge,indexOf:Cn,lastIndexOf:In,find:Ee,detect:Ee,findWhere:Te,each:we,forEach:we,map:Se,collect:Se,reduce:Pn,foldl:Pn,inject:Pn,reduceRight:An,foldr:An,filter:Ie,select:Ie,reject:Pe,every:Ae,all:Ae,some:ke,any:ke,contains:xe,includes:xe,include:xe,invoke:kn,pluck:Ne,where:Me,max:Be,min:Le,shuffle:Ve,sample:De,sortBy:Re,groupBy:xn,indexBy:Nn,countBy:Mn,partition:Bn,toArray:je,size:Ue,pick:Dn,omit:Vn,first:Ge,head:Ge,take:Ge,initial:Fe,last:Ye,rest:Ke,tail:Ke,drop:Ke,compact:$e,flatten:We,without:On,uniq:ze,unique:ze,union:jn,intersection:Je,difference:Rn,unzip:qe,transpose:qe,zip:Un,object:Xe,range:Qe,chunk:Ze,mixin:tt,default:E},Fn=tt(Hn);return Fn._=Fn,Fn})}).call(this)
}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],33:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-helper"),o=e("underscore"),r=function(){if(!(this instanceof r))return new r;r.super_.call(this)};i.inherits(r,a);var s=r.prototype;s._currentMoatData={},s.getVideoTagAdUrl=function(e,t){var n="https://"+e+"?",i=[];return o.each(t,function(e,t){i.push(t+"="+encodeURIComponent(e))}),n+=i.join("&")},s.joinStringByDelimiter=function(e,t){return e.filter(Boolean).join(t).toLowerCase()},s.isPermutiveEnabled=function(){return o.isObject(window.permutive)&&o.isFunction(window.permutive.track)},s.getPermutiveCurrentSegments=function(){return JSON.parse(window.localStorage.getItem("_pdfps")||"[]").slice(0,250).join(",")},s.getPermutiveId=function(){return window.localStorage.getItem("permutive-id")},s.setMoatDataForPlayerInstance=function(e,t){this._currentMoatData[e]=t},s.getMoatDataForPlayerInstance=function(e){return this._currentMoatData[e]||{}},s.createKeyValuePairCustParams=function(e){var t=[];return o.each(e,function(e,n){t.push(n+"="+e)}),this.joinStringByDelimiter(t,"&")},s.formatTitle=function(e){var t=this.replaceDiacritics(e);return t=t.replace(/[^A-Z0-9 ]+/gi,"").split(" "),this.joinStringByDelimiter(t,"-")},s.removeSpecialChars=function(e){return this.replaceDiacritics(e).replace(/[^A-Z0-9]+/gi,"").toLowerCase()},s.replaceDiacritics=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},s.getAdUnitSuperhub=function(e){var t=[e.product,e.heroBrand,e.platform,e.platformType],n=e.pageType,i=[e.revShare,e.title],a={genre:e.genres,adTarget:e.group,pageTitle:e.pageTitle,mediaType:e.mediaType,contentType:e.contentType,revShare:e.revShare};return t=this.joinStringByDelimiter(t,"_"),i=this.joinStringByDelimiter(i,"_"),{adUnitLevel1:t,adUnitLevel2:n,adUnitLevel3:i,adUnitCustParams:a}},s.formatRevshare=function(e){var t="na";if(e&&e.length>0){t=e[0].RevShareCode+(e[0].IsExclusive?"Exclusive":"NonExclusive")}return t.toLowerCase()},t.exports=r},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-helper":5,underscore:32}],34:[function(e,t,n){(function(n){(function(){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-helper"),o=e("./exceptions/bm-ajax"),r=e("bluebird"),s="undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null,l=function(){if(!(this instanceof l))return new l;l.super_.call(this)};i.inherits(l,a);var c=l.prototype;c.getJson=function(e,t,n){return new r(function(i,a){s.ajax({url:e,method:"GET",dataType:"json",headers:n&&n.headers?n.headers:void 0,xhrFields:n&&n.xhrFields?n.xhrFields:void 0,data:t}).done(function(e){i(e)}).fail(function(e,t,n){a(new o(o.NETWORK_ERROR,e,t,n))})})},c.getJsonp=function(e,t,n){return new r(function(n,i){s.ajax({url:e,cache:!1,method:"GET",dataType:"jsonp",data:t}).done(function(e){n(e)}).fail(function(e,t,n){i(new o(o.NETWORK_ERROR,e,t,n))})})},c.getText=function(e,t,n){return new r(function(i,a){s.ajax({url:e,method:"GET",dataType:"text",headers:n&&n.headers?n.headers:void 0,xhrFields:n&&n.xhrFields?n.xhrFields:void 0,data:t}).done(function(e){i(e)}).fail(function(e,t,n){a(new o(o.NETWORK_ERROR,e,t,n))})})},c.postJson=function(e,t,n){return new r(function(i,a){s.ajax({url:e,type:"POST",method:"POST",dataType:"json",headers:n&&n.headers?n.headers:void 0,xhrFields:n&&n.xhrFields?n.xhrFields:void 0,data:t}).done(function(e){i(e)}).fail(function(e,t,n){a(new o(o.NETWORK_ERROR,e,t,n))})})},c.post=function(){},t.exports=l}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./exceptions/bm-ajax":35,"@bellmedia/bm-base":11,"@bellmedia/bm-base-helper":5,bluebird:16}],35:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base-error"),a=e("@bellmedia/bm-base"),o=function(e,t,n,i){o.super_.apply(this,arguments),this.jqXHR=t,this.textStatus=n,this.errorThrown=i};a.inherits(o,i);var r=o.prototype;r.jqXHR={},r.textStatus="",r.errorThrown="",o.NETWORK_ERROR="Network Error",t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-error":2}],36:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-helper");const o={EDGE:"edge",SAFARI:"safari",OTHER:"other"};var r=function(){if(!(this instanceof r))return new r;r.super_.call(this)};i.inherits(r,a);var s=r.prototype;s.getBrowser=function(){var e=/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent),t=window.navigator.appVersion.indexOf("Edge")>-1;return e?o.SAFARI:t?o.EDGE:o.OTHER},s.getStreamFormat=function(){var e=this,t={safari:"HLS",web:"DASH"};return e.getBrowser()===o.SAFARI?t.safari:t.web},t.exports=r},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-helper":5}],37:[function(e,t,n){function i(e){if(!(this instanceof i))return new i(e);if(this.mappings=r(),window.s)this._omniture=window.s;else{if(!e||0===e.length)throw new s(s.NO_RSID);if(!window.s_gi)throw new s(s.NO_S_GI);this._omniture=window.s=window.s_gi(a.isArray(e)?e.join():e)}}var a=e("underscore"),o=e("@bellmedia/bm-base"),r=e("./helpers/bm-omniture-mappings"),s=e("./exceptions/bm-analytics-omniture");o.inherits(i,o);var l=i.prototype;l._omniture=null,l._LinkNames={CUSTOM_VIDEO:"CustomLinkForVideoTracking",ERROR:"ErrorMessage",BDU_LOGIN:"BDUlogin",TWITTER:"twitter_btn_click",AUTOPLAY_BLOCKED:"AutoplayBlockedByBrowser",PLAYER_LOAD:"PlayerLoadSuccess",PREROLL_START:"PrerollAdStart",PREROLL_COMPLETE:"PrerollAdComplete",ALL_PREROLL_ADS_COMPLETE:"AllPrerollAdsComplete",SHARE_ITEM_CLICK:"ShareItemClicked",MUTE:"Mute",UNMUTE:"Unmute"},l.setVars=function(e){this.mappings.setVars(this._omniture,e)},l.trackPage=function(){this._omniture.t()},l.trackCustomEvent=function(e){this._omniture.tl(!0,"o",e)},l.trackVideoStart=function(e){this._omniture.events=this._omniture.linkTrackEvents="event5",this.setVars(e),this.trackCustomEvent(this._LinkNames.CUSTOM_VIDEO)},l._getCurrentUTCTimeHHMM=function(){var e=new Date;return("0"+e.getUTCHours()).slice(-2)+":"+("0"+e.getUTCMinutes()).slice(-2)},l.trackVideoViewingTime=function(e,t){e.time=this._getCurrentUTCTimeHHMM(),this._omniture.events=this._omniture.linkTrackEvents="event7",this.updateVideoViewingTime(t),this.setVars(e),this.trackCustomEvent(this._LinkNames.CUSTOM_VIDEO)},l.updateVideoViewingTime=function(e){this._omniture.products=";;;;event7="+e},l.trackEpisodeStart=function(e){e.time=this._getCurrentUTCTimeHHMM(),this._omniture.events=this._omniture.linkTrackEvents="event5,event7,event13",this.setVars(e),this.trackCustomEvent(this._LinkNames.CUSTOM_VIDEO)},l.trackEpisodeComplete=function(e){this._omniture.events=this._omniture.linkTrackEvents="event14",this.setVars(e),this.trackCustomEvent(this._LinkNames.CUSTOM_VIDEO)},l.trackVideoAdBlocker=function(e){this._omniture.events=this._omniture.linkTrackEvents="event50",this.setVars(e),this.trackCustomEvent(this._LinkNames.ERROR)},l.trackAutoplayBlocked=function(e){this._omniture.events=this._omniture.linkTrackEvents="event29",this.setVars(e),this.trackCustomEvent(this._LinkNames.AUTOPLAY_BLOCKED)},l.trackPlayerLoad=function(e){this._omniture.events=this._omniture.linkTrackEvents="event1",this.setVars(e),this.trackCustomEvent(this._LinkNames.PLAYER_LOAD)},l.trackPrerollStart=function(e){this._omniture.events=this._omniture.linkTrackEvents="event11",this.setVars(e),this.trackCustomEvent(this._LinkNames.PREROLL_START)},l.trackMute=function(e){this._omniture.events=this._omniture.linkTrackEvents="event101",this.setVars(e),this.trackCustomEvent(this._LinkNames.MUTE)},l.trackUnmute=function(e){this._omniture.events=this._omniture.linkTrackEvents="event102",this.setVars(e),this.trackCustomEvent(this._LinkNames.UNMUTE)},l.trackPrerollComplete=function(e){this._omniture.events=this._omniture.linkTrackEvents="event12",this.setVars(e),this.trackCustomEvent(this._LinkNames.PREROLL_COMPLETE)},l.trackPrerollPodComplete=function(e){this._omniture.events=this._omniture.linkTrackEvents="event51",this.setVars(e),this.trackCustomEvent(this._LinkNames.ALL_PREROLL_ADS_COMPLETE)},l.trackShareItemClicked=function(e){this._omniture.events=this._omniture.linkTrackEvents="event36",this.setVars(e),this.trackCustomEvent(this._LinkNames.SHARE_ITEM_CLICK)},l.config=function(e){var t=this;t.mappings.mergeToOmniture(t._omniture,e)},t.exports=i},{"./exceptions/bm-analytics-omniture":38,"./helpers/bm-omniture-mappings":39,"@bellmedia/bm-base":11,underscore:32}],38:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base-error"),a=e("@bellmedia/bm-base"),o=function(e){o.super_.apply(this,arguments)};a.inherits(o,i),o.NO_RSID="RSID must be provided to omniture",o.NO_S_GI="s_gi function not found",t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-error":2}],39:[function(e,t,n){function i(){if(!(this instanceof i))return new i}var a=e("@bellmedia/bm-base"),o=e("@bellmedia/bm-base-helper"),r=e("../models/bm-omniture-evars-map"),s=e("../models/bm-omniture-props-map"),l=e("underscore");a.inherits(i,o);var c=i.prototype;c._remapKeys=function(e,t,n){var i={};return l.each(l.keys(n),function(a){t.data[a]&&(i[e+t.data[a]]=n[a])}),i},c.mergeToOmniture=function(e,t){l.each(l.keys(t),function(n){e[n]=t[n]})},c.setVars=function(e,t){var n=this,i=n._remapKeys("eVar",r,t),a=n._remapKeys("prop",s,t);n.mergeToOmniture(e,i),n.mergeToOmniture(e,a),e.linkTrackVars="products,"+l.keys(i).join()+","+l.keys(a).join()},t.exports=i},{"../models/bm-omniture-evars-map":40,"../models/bm-omniture-props-map":41,"@bellmedia/bm-base":11,"@bellmedia/bm-base-helper":5,underscore:32}],40:[function(e,t,n){var i=e("underscore"),a=e("@bellmedia/bm-base-model"),o=e("./bm-omniture-shared-map");t.exports=a().setDefault(i.create(o.data,{pageName:"2",profile:"72",avatar:"73",churning:"74"}))},{"./bm-omniture-shared-map":42,"@bellmedia/bm-base-model":6,underscore:32}],41:[function(e,t,n){var i=e("underscore"),a=e("@bellmedia/bm-base-model"),o=e("./bm-omniture-shared-map");t.exports=a().setDefault(i.create(o.data,{searchResult:"2"}))},{"./bm-omniture-shared-map":42,"@bellmedia/bm-base-model":6,underscore:32}],42:[function(e,t,n){var i=e("@bellmedia/bm-base-model");t.exports=i().setDefault({internalSearchTerms:"1",contentTitle:"3",contentId:"4",contentType:"5",siteSection:"6",subSection:"7",subSection2:"8",subSection3:"9",subSection4:"10",authenticationUserId:"11",authenticationStatus:"12",authenticationLocation:"13",authenticationBDU:"14",videoContentType:"15",videoTitleSegmentTitle:"16",clipId:"17",videoPlayerName:"18",contentEpisodeDuration:"19",ownerName:"20",mediaNameShow:"21",contentSeason:"22",contentEpisode:"23",contentEpisodeName:"24",contentEpisodeId:"25",contentPack:"26",contentStack:"27",genreType:"28",mediaType:"29",channelId:"30",videoBinName:"31",contentSource:"32",authorName:"33",audioStreamName:"34",playerState:"35",mute:"36",percentagePageViewed:"37",clickZone:"38",clickAction:"39",demographics:"40",signOnProvider:"41",url:"42",referrer:"43",browserOrientation:"44",prerollAdName:"45",prerollPlayerName:"46",prerollPosition:"47",relatedVideoClicks:"48",favouriteVideos:"49",infoClick:"50",segmentStackRunTime:"51",previouslyAuthenticated:"52",authenticationMethod:"55",videoHubSearchKW:"57",appVersion:"58",endScreenVideoClicks:"59",subSection5:"60",sportLeagues:"61",team:"62",player:"63",watchedStatus:"64",videoPlaybackMethod:"65",errorMessage:"66",time:"68",productName:"69",studioName:"70",craveTVPlaybackMethod:"71",dovaIsExclusive:"73"})},{"@bellmedia/bm-base-model":6}],43:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=function(e){if(!(this instanceof a))return new a(e);a.super_.call(this,e),this.uniqueId=e};i.inherits(a,i),bmFactory=a.prototype,bmFactory._uniqueId=void 0,bmFactory.getInstance=i.abstractMethod,bmFactory.setDefaultType=i.abstractMethod,bmFactory.getDefaultType=i.abstractMethod,bmFactory.injectDependencies=i.abstractMethod,t.exports=a},{"@bellmedia/bm-base":11}],44:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base-error"),a=e("@bellmedia/bm-base"),o=function(e){o.super_.apply(this,arguments)};a.inherits(o,i),o.DEFAULT_NOT_EXIST="default type does not exist",o.TYPE_NOT_EXIST="type does not exist",o.DEPENDENCY_NOT_INJECTED_YET="All dependencies should be injected first.",t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-error":2}],45:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-base-factory"),o=function(e){if(!(this instanceof o))return new o(e);o.super_.call(this,e)};i.inherits(o,a),bmsf=o.prototype,t.exports=o},{"@bellmedia/bm-base":11,"bm-base-factory":43}],46:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=function(){if(!(this instanceof a))return new a;a.super_.call(this)};i.inherits(a,i),bmWithLogging=a.prototype,bmWithLogging._debugKey=void 0,bmWithLogging.debugLog=function(){if(this._pluginDebugActive()){var e=Array.prototype.reduce.call(arguments,function(e,t){return e.concat(t)},["[VIDI]","["+this.constructor.name+"]"]);console.log.apply(console,e)}},bmWithLogging._pluginDebugActive=function(){return"undefined"!=typeof window&&(!!this._debugKey&&new RegExp("[?&](bm-debug|"+this._debugKey+")=").test(window.location.search))},t.exports=a},{"@bellmedia/bm-base":11}],47:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-helper"),o=e("./exceptions/error-cssinjector"),r=function e(){if(!(this instanceof e))return new e;e.super_.call(this)};i.inherits(r,a);var s=r.prototype;s._makeTag=function(e,t,n){var i=document.createElement(t);if(n)for(var a in n)i.setAttribute(a,n[a]);return e.appendChild(i),i},s._retrieveOrCreateTag=function(e,t,n,i){return t.querySelector(e)||this._makeTag(t,n,i)},s.injectStyles=function(e,t){if(!t)throw new o(o.PLAYER_ID_REQUIRED);var n=this._retrieveOrCreateTag("head",document.querySelector("html"),"head"),i={};i["data-bm-css-injector"]=t;var a='style[data-bm-css-injector="'+t+'"]',r=this._retrieveOrCreateTag(a,n,"style",i),s=e?document.createTextNode(e):document.createTextNode("");r.appendChild(s)},t.exports=r},{"./exceptions/error-cssinjector":48,"@bellmedia/bm-base":11,"@bellmedia/bm-base-helper":5}],48:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base-error"),a=e("@bellmedia/bm-base"),o=function e(t){e.super_.call(this,t)};a.inherits(o,i),o.PLAYER_ID_REQUIRED="injectStyles requires a player id",t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-error":2}],49:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-heartbeat"),o=e("bm-ajax"),r=e("@bellmedia/bm-base-event"),s=e("bm-service-factory-capi"),l=(o(),function(e,t){if(!(this instanceof l))return new l(e,t);this._contentId=t.contentId,this._postalCodeAuth=t.postalCode,l.super_.apply(this,arguments),this._event=r()});i.inherits(l,a);var c=l.prototype;c._contentId=void 0,c._event=void 0,c._serviceCapi=void 0,c._postalCodeAuth=void 0,c.run=function(){var e=this;e._serviceCapi=s().getInstance(),e._serviceCapi.getBlackoutData(e._contentId,e._postalCodeAuth).then(function(t){t.data.allowed||e._event.emit(l.EVENT_BLACKOUT_ERROR,t.data)},function(e){})},c.on=function(){this._event.on.apply(this._event,arguments)},c.once=function(){this._event.once.apply(this._event,arguments)},c.off=function(){this._event.off.apply(this._event,arguments)},l.EVENT_BLACKOUT_ERROR="RESPONSE_BLACKOUT",t.exports=l},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"bm-ajax":34,"bm-heartbeat":54,"bm-service-factory-capi":117}],50:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-heartbeat"),o=e("bm-service-factory-capi"),r=e("bm-service-factory-reco"),s=function(e,t){if(!(this instanceof s))return new s(e,t);t&&(this._options=t,this._contentId=t.contentId,this._contentPackageId=t.contentPackageId,this._dId=t.dId),this._serviceCapi=o(),this._serviceReco=r().getInstance(),s.super_.apply(this,arguments)};i.inherits(s,a);var l=s.prototype;l._options=void 0,l._serviceCapi=void 0,l._serviceReco=void 0,l._contentId=void 0,l._contentPackageId=void 0,l._jwt=void 0,l._dId=void 0,l.run=function(){this._jwt=this._serviceReco.getJwtAccessToken(),this._jwt&&!this._serviceReco.isAccessTokenExpired(this._jwt)&&this._serviceCapi.getInstance().setConcurrency({contentId:this._contentId,contentPackageId:this._contentPackageId,jwt:this._jwt,dId:this._dId})},t.exports=s},{"@bellmedia/bm-base":11,"bm-heartbeat":54,"bm-service-factory-capi":117,"bm-service-factory-reco":119}],51:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-heartbeat"),o=e("bm-ajax"),r=e("@bellmedia/bm-base-event"),s=e("bm-service-factory-capi"),l=(o(),function(e,t){if(!(this instanceof l))return new l(e,t);this._contentId=t.contentId,this._channelCode=t.channelCode,l.super_.apply(this,arguments),this._event=r()});i.inherits(l,a);var c=l.prototype;c._contentId=void 0,c._channelCode=void 0,c._event=void 0,c._serviceCapi=void 0,c.run=function(){var e=this;e._serviceCapi=s(),e._serviceCapi.getInstance().getChannelContents(e._contentId,e._channelCode).then(function(t){t.data&&e._event.emit(l.EVENT_CONTENTS_EPG_SUCCESS,t.data)},function(e){})},c.on=function(){this._event.on.apply(this._event,arguments)},c.once=function(){this._event.once.apply(this._event,arguments)},c.off=function(){this._event.off.apply(this._event,arguments)},l.EVENT_CONTENTS_EPG_SUCCESS="EVENT_CONTENTS_EPG_SUCCESS",t.exports=l},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"bm-ajax":34,"bm-heartbeat":54,"bm-service-factory-capi":117}],52:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-heartbeat"),o=e("@bellmedia/bm-base-event"),r=e("bm-service-factory-reco"),s=function(e,t){if(!(this instanceof s))return new s(e,t);t&&(this._intervalUrl=t.intervalUrl?t.intervalUrl:"",this._contentId=t.contentId?t.contentId:void 0,this._mediaId=t.mediaId?t.mediaId:void 0,this._duration=t.duration?t.duration:void 0,this._modelVersion=t.modelVersion?t.modelVersion:"1",this._title=t.title?t.title:void 0,this._episode=t.episode?t.episode:void 0,this._season=t.season?t.season:void 0,this._contentType=t.contentType?t.contentType:void 0,this._contentPackageId=t.contentPackageId?t.contentPackageId:void 0,this._offset=t.offset?t.offset:0,this._language=t.language?t.language:"en"),this._serviceReco=r().getInstance(),s.super_.apply(this,arguments),this._event=o()};i.inherits(s,a);var l=s.prototype;l._debugKey="bm-reco-bookmarking-debug",l._serviceReco=void 0,l._event=void 0,l._intervalUrl="",l._contentId=void 0,l._duration=0,l._mediaId=void 0,l._offset=0,l._modelVersion=void 0,l._title=void 0,l._episode=void 0,l._season=void 0,l.contentType=void 0,l.contentPackageId=void 0,l.run=function(){var e=this;this.debugLog("[run]","Heartbeat reco executed",this),this._contentId&&this._duration&&this._mediaId&&this._offset&&(e.debugLog("[run]","Setting a bookmark on service reco for contentId",this._contentId,"at position",this._offset),e._serviceReco.setBookmarks({contentId:this._contentId,duration:this._duration,mediaId:this._mediaId,offset:this._offset,modelVersion:this._modelVersion,title:this._title,episode:this._episode,season:this._season,contentType:this._contentType,contentPackageId:this._contentPackageId,language:this._language}).catch(function(t){e.debugLog("[run]","Error from service reco on setBookmarks",t)})),e._intervalUrl&&e._serviceReco.getBookmarkInterval(e._intervalUrl).then(function(t){t.data&&t.data.global_interval&&(e.debugLog("[run]","Interval received",t.data.global_interval),e._event.emit(s.EVENT_GLOBAL_INTERVAL,t.data.global_interval))},function(e){})},l.updateTime=function(e){this._offset=e},l.on=function(){this._event.on.apply(this._event,arguments)},l.once=function(){this._event.once.apply(this._event,arguments)},l.off=function(){this._event.off.apply(this._event,arguments)},s.EVENT_GLOBAL_INTERVAL="RESPONSE_GLOBAL_INTERVAL",t.exports=s},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"bm-heartbeat":54,"bm-service-factory-reco":119}],53:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-heartbeat"),o=e("bm-service-factory-userdal"),r=function(e,t){if(!(this instanceof r))return new r(e,t);t&&(this._profileId=t.profileId?t.profileId:void 0,this._contentId=t.contentId?t.contentId:void 0,this._contentPackageId=t.contentPackageId?t.contentPackageId:void 0),this._serviceUserdal=o(),r.super_.apply(this,arguments)};i.inherits(r,a);var s=r.prototype;s._serviceUserdal=void 0,s._profileId=void 0,s._contentId=void 0,s._contentPackageId=void 0,s._position=void 0,s._duration=void 0,s.run=function(){this._profileId&&this._contentId&&this._contentPackageId&&this._position&&this._duration&&this._serviceUserdal.getInstance().setV3ProfilesLastpos({profileId:this._profileId,contentId:this._contentId,contentPackageId:this._contentPackageId,position:this._position,duration:this._duration})},s.updateTime=function(e,t){this._position=e,this._duration=t},t.exports=r},{"@bellmedia/bm-base":11,"bm-heartbeat":54,"bm-service-factory-userdal":121}],54:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-base-with-logging"),o=e("./exceptions/bm-heartbeat"),r=function(e,t){if(!(this instanceof r))return new r(e,t);r.super_.apply(this,arguments),this._pulse=e,this._runAtStart=!(!t||!t.runAtStart)&&t.runAtStart,this._init()};i.inherits(r,a);var s=r.prototype;s._pulse=1e3,s._interval=null,s._runAtStart=!1,s.run=i.abstractMethod,s._init=function(){this._runAtStart&&this.run(),this._interval=setInterval(this.run.bind(this),this._pulse)},s.pause=function(){if(!this._interval)throw new o(o.PAUSE_ERROR);clearInterval(this._interval)},s.resume=function(){if(!this._interval)throw new o(o.RESUME_ERROR);this._init()},s.destroy=function(){if(!this._interval)throw new o(o.DESTROY_ERROR);clearInterval(this._interval),this._interval=null},t.exports=r},{"./exceptions/bm-heartbeat":55,"@bellmedia/bm-base":11,"bm-base-with-logging":46}],55:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base-error"),a=e("@bellmedia/bm-base"),o=function(e){o.super_.apply(this,arguments)};a.inherits(o,i),o.PAUSE_ERROR="Undefined interval at Pause!",o.RESUME_ERROR="Undefined interval at Resume!",o.DESTROY_ERROR="Undefined interval at Destroy!",t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-error":2}],56:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-helper"),o=e("@bellmedia/bm-base-event"),r=e("bm-videoplayer"),s=e("bm-service-factory-media-provider"),l=e("underscore"),c=[];BMHelperAdobeHeartbeatAnalyticsVideoEvent=function(e){if(!(this instanceof BMHelperAdobeHeartbeatAnalyticsVideoEvent))return new BMHelperAdobeHeartbeatAnalyticsVideoEvent(e);var t=l.find(c,function(t){return t.player===e});if(t)return t.instance;BMHelperAdobeHeartbeatAnalyticsVideoEvent.super_.call(this),this._serviceMediaProvider=s().getInstance(),this._event=new o,this._player=e,this._currentChapterIndex=0,this._previousChapterIndex=-1,this._lastFinishedChapterIndex=-2,this._applyAnalyticsListeners(),c.push({player:e,instance:this})},i.inherits(BMHelperAdobeHeartbeatAnalyticsVideoEvent,a);var d=BMHelperAdobeHeartbeatAnalyticsVideoEvent.prototype;d._event={},d._arrModelSegments=[],d._player={},d._serviceMediaProvider=void 0,d._lastFinishedChapterIndex=-2,d._previousChapterIndex=-1,d._currentChapterIndex=0,d.on=function(){this._event.on.apply(this._event,arguments)},d.once=function(){this._event.once.apply(this._event,arguments)},d.off=function(){this._event.off.apply(this._event,arguments)},d.getChapterIndexByPosition=function(e){var t=this,n=0;if(void 0===typeof e)return t._currentChapterIndex;var e=t._player.getPosition();return t._arrModelSegments.forEach(function(t,i){e>=t.data.position&&(n=i)}),n},d._applyAnalyticsListeners=function(){var e=this,t=e._player;t.on(r.EVENT_PLAYLIST_ITEM,function(t){e._currentChapterIndex=0,e._previousChapterIndex=-1,e._lastFinishedChapterIndex=-2,e._serviceMediaProvider.getMediaSegments(t.item.data.mediaId).then(function(t){e._arrModelSegments=t})}),t.on(r.EVENT_PLAYBACK_TIMEUPDATE,function(t){var n=t.position;e._fireAnalyticsEvents(n)})},d._fireAnalyticsEvents=function(e){this._currentChapterIndex=this.getChapterIndexByPosition(e),this._currentChapterIndex!==this._previousChapterIndex&&(this._currentChapterIndex!==this._previousChapterIndex&&-1!==this._previousChapterIndex&&this._previousChapterIndex!==this._lastFinishedChapterIndex&&this._fireChapterSkip(),Math.floor(e)>Math.floor(this._arrModelSegments[this._currentChapterIndex].data.position)&&this._fireChapterStart()),Math.floor(e)===Math.floor(this._arrModelSegments[this._currentChapterIndex].data.position+this._arrModelSegments[this._currentChapterIndex].data.duration-1)&&this._fireChapterEnd()},d._fireChapterStart=function(){this._event.emit(BMHelperAdobeHeartbeatAnalyticsVideoEvent.EVENT_CHAPTER_START,{chapterIndex:this._currentChapterIndex,chapterPosition:this._arrModelSegments[this._currentChapterIndex].data.position,chapterDuration:this._arrModelSegments[this._currentChapterIndex].data.duration}),this._previousChapterIndex=this._currentChapterIndex},d._fireChapterEnd=function(){this._lastFinishedChapterIndex!==this._currentChapterIndex&&(this._event.emit(BMHelperAdobeHeartbeatAnalyticsVideoEvent.EVENT_CHAPTER_END,{chapterIndex:this._currentChapterIndex,chapterPosition:this._arrModelSegments[this._currentChapterIndex].data.position,chapterDuration:this._arrModelSegments[this._currentChapterIndex].data.duration}),this._lastFinishedChapterIndex=this._currentChapterIndex)},d._fireChapterSkip=function(){this._event.emit(BMHelperAdobeHeartbeatAnalyticsVideoEvent.EVENT_CHAPTER_SKIP,{chapterIndex:this._previousChapterIndex,chapterPosition:this._arrModelSegments[this._previousChapterIndex].data.position,chapterDuration:this._arrModelSegments[this._previousChapterIndex].data.duration}),this._lastFinishedChapterIndex=-2},BMHelperAdobeHeartbeatAnalyticsVideoEvent.EVENT_CHAPTER_START="bm_chapter_start",BMHelperAdobeHeartbeatAnalyticsVideoEvent.EVENT_CHAPTER_END="bm_chapter_end",BMHelperAdobeHeartbeatAnalyticsVideoEvent.EVENT_CHAPTER_SKIP="bm_chapter_skip",t.exports=BMHelperAdobeHeartbeatAnalyticsVideoEvent},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"@bellmedia/bm-base-helper":5,"bm-service-factory-media-provider":118,"bm-videoplayer":203,underscore:32}],57:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-helper"),o=e("@bellmedia/bm-base-event"),r=e("bm-videoplayer"),s=e("bm-service-factory-media-provider"),l=[];BMHelperAnalyticsVideoEvent=function(e){if(!(this instanceof BMHelperAnalyticsVideoEvent))return new BMHelperAnalyticsVideoEvent(e);var t=_.find(l,function(t){return t.player===e});if(t)return t.instance;BMHelperAnalyticsVideoEvent.super_.call(this),this._serviceMediaProvider=s().getInstance(),this._event=new o,this._player=e,this._segmentCurrentIndex=null,this._applyAnalyticsListeners(),l.push({player:e,instance:this})},i.inherits(BMHelperAnalyticsVideoEvent,a);var c=BMHelperAnalyticsVideoEvent.prototype;c._event={},c._arrModelSegments={},c._player={},c._serviceMediaProvider=void 0,c._segmentCurrentIndex=null,c._segmentAt85Fired=!1,c._positionDelayedSegmentChangeEvent=null,c.on=function(){this._event.on.apply(this._event,arguments)},c.once=function(){this._event.once.apply(this._event,arguments)},c.off=function(){this._event.off.apply(this._event,arguments)},c.getSegmentsIndexByPosition=function(e){var t=this,n=0;if(void 0===typeof e)return t._segmentCurrentIndex;var e=t._player.getPosition();return t._arrModelSegments&&t._arrModelSegments.length&&t._arrModelSegments.forEach(function(t,i){e>=t.data.position&&(n=i)}),n},c._applyAnalyticsListeners=function(){var e=this,t=e._player;e._serviceMediaProvider.getMediaSegments(t.getCurrentItem().data.mediaId).then(function(t){e._arrModelSegments=t}),t.on(r.EVENT_PLAYLIST_ITEM,function(t){e._positionDelayedSegmentChangeEvent=null,e._segmentCurrentIndex=null,e._segmentAt85Fired=!1,e._serviceMediaProvider.getMediaSegments(t.item.data.mediaId).then(function(t){e._arrModelSegments=t})}),t.on(r.EVENT_PLAYBACK_TIMEUPDATE,function(t){var n,i=t.position;t.duration;e._arrModelSegments.forEach(function(e,t){i>=e.data.position&&(n=t)}),null!==e._segmentCurrentIndex&&e._segmentCurrentIndex===n||(e._positionDelayedSegmentChangeEvent=i+5,e._segmentCurrentIndex=n,e._segmentAt85Fired=!1),e._segmentAt85(n,i)}),t.on(r.EVENT_PLAYBACK_TIMEUPDATE,function(t){null!==e._positionDelayedSegmentChangeEvent&&t.position>=e._positionDelayedSegmentChangeEvent&&(e._event.emit(BMHelperAnalyticsVideoEvent.SEGMENT_CHANGED,{segmentIndex:e._segmentCurrentIndex,segmentTotal:e._arrModelSegments.length}),e._positionDelayedSegmentChangeEvent=null)})},c._segmentAt85=function(e,t){var n=this,i=n._arrModelSegments[e].data,a=0===e?t:t-i.position,o=a/i.duration;!n._segmentAt85Fired&&parseFloat(o.toFixed(2))>=.85&&(n._event.emit(BMHelperAnalyticsVideoEvent.EVENT_SEGMENT_85,{segmentIndex:e,segmentTotal:n._arrModelSegments.length}),n._segmentAt85Fired=!0),parseFloat(o.toFixed(2))<.85&&(n._segmentAt85Fired=!1)},BMHelperAnalyticsVideoEvent.EVENT_SEGMENT_85="event_segment_85",BMHelperAnalyticsVideoEvent.SEGMENT_CHANGED="segment_changed",t.exports=BMHelperAnalyticsVideoEvent},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"@bellmedia/bm-base-helper":5,"bm-service-factory-media-provider":118,"bm-videoplayer":203}],58:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-event"),o=e("bm-helper-auth-adapter"),r=e("bm-helper-auth-adapter/models/security-tokens"),s=e("bm-helper-auth-adapter/models/auth-info"),l=e("bm-service-factory-capi"),c=e("underscore"),d=e("bluebird"),u=function(){if(!(this instanceof u))return new u;u.super_.call(this);var e=this;if(e._event=a(),e._bmauth2=window.BmAuth||void 0,e._serviceCapi=l(),e._bmauth2)e._onBmAuthReady();else var t=setInterval(function(){e._bmauth2=window.BmAuth||void 0,e._bmauth2&&(clearInterval(t),e._onBmAuthReady())},500)};i.inherits(u,o),bmAA2=u.prototype,bmAA2._event=void 0,bmAA2._serviceCapi=void 0,bmAA2._bmauth2=void 0,bmAA2._onBmAuthReady=function(){var e=this;window.BmAuth.addListener("onAuthenticationStateChange",function(t){e._event.emit(o.EVENT_STATUS_CHANGE,{isAuthenticated:t})})},bmAA2.isAuthenticated=function(){var e=this;return new d(function(t,n){e._bmauth2?e._bmauth2.isAuthenticated().then(function(e){t(e)}):t(!1)})},bmAA2.getAuthInfo=function(){var e=this;return new d(function(t,n){e._bmauth2?e._bmauth2.getIdentity().then(function(n){if(n&&n.identity){var i=n.identity,a=n.platform_id,o=e._bmauth2.getSignInBduName();t(s().setData({aisuid:c.isString(i.aisuid)?i.aisuid:"",email:i.attributes&&c.isString(i.attributes.email)?i.attributes.email:"",postalCode:i.attributes&&c.isString(i.attributes.postal_code)?i.attributes.postal_code:"",province:i.attributes&&c.isString(i.attributes.province)?i.attributes.province:"",platformId:c.isString(a)?a:"",bduName:o||""}))}else t(null)}).catch(function(e){t(null)}):t(null)})},bmAA2.getIdentity=function(){var e=this;return new d(function(t,n){e._bmauth2?e._bmauth2.getIdentity().then(function(e){t(e&&e.identity?e:null)}).catch(function(e){t(null)}):t(null)})},bmAA2.getSecurityTokensByContentId=function(e){var t=this;return t._bmauth2?t._serviceCapi.getInstance().getContentsPackages(e).then(function(e){return e?new d(function(n,i){t._bmauth2.canPlayVideo({Authentication:{Required:e.data.auth.required,Resources:c.map(e.data.auth.arrResourceCode,function(e){return{ResourceCode:e}}),Id:e.data.contentId}}).then(function(e){n(e.authorized?r().setData({authz_token:e.authZ_token,identity_token:e.identity_token}):null)}).catch(function(e){n(null)})}):d.resolve(null)}):d.resolve(null)},bmAA2.callSignInWindow=function(){var e=this;return new d(function(t,n){e._bmauth2?e._bmauth2.handleSignIn().then(function(e){t(e&&e.authenticated?!0:!1)}).catch(function(e){t(!1)}):t(!1)})},bmAA2.on=function(){this._event.on.apply(this._event,arguments)},bmAA2.once=function(){this._event.once.apply(this._event,arguments)},bmAA2.off=function(){this._event.off.apply(this._event,arguments)},t.exports=u},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,bluebird:16,
"bm-helper-auth-adapter":60,"bm-helper-auth-adapter/models/auth-info":61,"bm-helper-auth-adapter/models/security-tokens":62,"bm-service-factory-capi":117,underscore:32}],59:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-event"),o=e("bm-helper-auth-adapter"),r=e("bm-helper-auth-adapter/models/auth-info"),s=e("bm-service-factory-reco");_=e("underscore"),Promise=e("bluebird");var l=function(){if(!(this instanceof l))return new l;l.super_.call(this),this._serviceReco=s().getInstance(),this._event=a()};i.inherits(l,o),bmaaju=l.prototype,bmaaju._serviceReco=void 0,bmAA2._event=void 0,bmaaju.isAuthenticated=function(){var e=this,t=e._serviceReco.getJwtAccessToken(),n=e._serviceReco.isAccessTokenExpired(t);return new Promise(function(e,i){e(t&&!n?!0:!1)})},bmaaju.getAuthInfo=function(){var e=this,t=e._serviceReco.getJwtDecoded()?e._serviceReco.getJwtDecoded():null;return new Promise(function(e,n){e(t?r().setData({aisuid:t.ais_id?t.ais_id:"",email:t.email?t.email:"",postalCode:t.postalCode?t.postalCode:"",province:t.province?t.province:"",platformId:t.platformId?t.platformId:"",bduName:t.bdu_provider?t.bdu_provider:""}):null)}).catch(function(e){resolve(null)})},bmaaju.getIdentity=function(){return Promise.resolve(null)},bmaaju.getSecurityTokensByContentId=function(e){return Promise.resolve(null)},bmaaju.callSignInWindow=function(){return Promise.resolve(null)},bmaaju.on=function(){this._event.on.apply(this._event,arguments)},bmaaju.once=function(){this._event.once.apply(this._event,arguments)},bmaaju.off=function(){this._event.off.apply(this._event,arguments)},t.exports=l},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,bluebird:16,"bm-helper-auth-adapter":60,"bm-helper-auth-adapter/models/auth-info":61,"bm-service-factory-reco":119,underscore:32}],60:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-helper"),o=function(){if(!(this instanceof o))return new o;o.super_.call(this)};i.inherits(o,a),bmAA=o.prototype,bmAA.isAuthenticated=i.abstractMethod,bmAA.getAuthInfo=i.abstractMethod,bmAA.getIdentity=i.abstractMethod,bmAA.getSecurityTokensByContentId=i.abstractMethod,bmAA.callSignInWindow=i.abstractMethod,bmAA.on=i.abstractMethod,bmAA.once=i.abstractMethod,bmAA.off=i.abstractMethod,o.EVENT_STATUS_CHANGE="event_status_change",t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-helper":5}],61:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=function(){if(!(this instanceof o))return new o;o.super_.call(this),this.setDefault({aisuid:"",email:"",postalCode:"",province:"",platformId:"",bduName:""})};i.inherits(o,a),t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6}],62:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=function(){if(!(this instanceof o))return new o;o.super_.call(this),this.setDefault({authz_token:{},identity_token:{}})};i.inherits(o,a),t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6}],63:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-helper"),o=e("bm-ajax/exceptions/bm-ajax"),r=e("./exceptions/bm-helper-capi"),s=e("./models/capi-contents"),l=e("./models/capi-contents-packages"),c=e("./models/capi-contents-next-contents"),d=e("./models/capi-medias-related-collections"),u=e("./models/capi-contents-related-contents"),p=e("./models/capi-contents-episode-list"),m=e("./models/capi-contents-season-list"),h=e("./models/capi-collections-contents"),f=e("./models/capi-blackout"),_=e("./models/capi-channel-affiliates"),b=e("./models/capi-channel-schedules"),v=e("./models/capi-channel-contents"),g=e("./models/capi-bond-concurrency"),y=e("./models/capi-contents-custom-playlist"),E=e("bm-service-factory-reco"),T=e("bluebird"),w=(e("underscore"),function(e){if(!(this instanceof w))return new w(e);w.super_.apply(this,arguments),this._options=e});i.inherits(w,a);var S=w.prototype;S._options=void 0,w.prepareSourceDRM=function(e){var t=null;try{t=E().getInstance().getJwtAccessToken()}catch(e){}if(!t)return e;var n=e.drmServer;switch(e.drmType){case"drm_type_widevine":n={url:w._appendJWTAccessToken(e.drmServer.url,t),serverCertificateUrl:e.drmServer.serverCertificateUrl};break;case"drm_type_playready":n=w._appendJWTAccessToken(e.drmServer,t);break;case"drm_type_fairplay_apple":n={certificateUrl:w._appendJWTAccessToken(e.drmServer.certificateUrl,t),processSpcUrl:w._appendJWTAccessToken(e.drmServer.processSpcUrl,t)}}return{drmType:e.drmType,drmServer:n}},w._appendJWTAccessToken=function(e,t){return e+"?jwt="+t},S.getCollectionsContentsByContendId=function(e){var t=this;return s({options:t._options,contentId:e}).fetch().then(function(e){return e.data?d({options:t._options,mediaId:e.data.mediaId}).fetch():T.resolve(null)}).then(function(e){return e.data.collections[0]?h({options:t._options,collectionId:e.data.collections[0].collectionId}).fetch():T.resolve(null)}).catch(function(e){return T.reject(t.getErrorHelperCapiError(e))})},S.getContentsNextContents=function(e){var t=this;return c({options:t._options,contentId:e}).fetch().catch(function(e){return T.reject(t.getErrorHelperCapiError(e))})},S.getContentsPackages=function(e){var t=this;return s({options:t._options,contentId:e}).fetch().then(function(n){return n.data?l({options:t._options,contentId:e,contentPackageId:n.data.contentPackageId}).fetch():T.resolve(null)}).catch(function(e){return T.reject(t.getErrorHelperCapiError(e))})},S.getContentsPackagesArray=function(e){var t=this,n=[];return e.forEach(function(e){n.push(t.getContentsPackages(e))}),T.all(n).catch(function(e){return T.reject(t.getErrorHelperCapiError(e))})},S.getContentsRelatedContents=function(e){var t=this;return u({options:t._options,contentId:e}).fetch().catch(function(e){return T.reject(t.getErrorHelperCapiError(e))})},S.getContentsEpisodeListByContentId=function(e){var t=this;return s({options:t._options,contentId:e}).fetch().then(function(e){return e.data?p({options:t._options,mediaId:e.data.mediaId,seasonId:e.data.content.seasonId}).fetch():T.resolve(null)}).catch(function(e){return T.reject(t.getErrorHelperCapiError(e))})},S.getContentsEpisodeListByContentIdAndSeasonId=function(e,t){var n=this;return s({options:n._options,contentId:e}).fetch().then(function(e){return e.data?p({options:n._options,mediaId:e.data.mediaId,seasonId:t}).fetch():T.resolve(null)}).catch(function(e){return T.reject(n.getErrorHelperCapiError(e))})},S.getContentsSeasonListByContentId=function(e){var t=this;return s({options:t._options,contentId:e}).fetch().then(function(e){return e.data?m({options:t._options,mediaId:e.data.mediaId}).fetch():T.resolve(null)}).catch(function(e){return T.reject(t.getErrorHelperCapiError(e))})},S.getContents=function(e){var t=this;return s({options:t._options,contentId:e}).fetch().then(function(e){return e.data?e:T.resolve(null)}).catch(function(e){return T.reject(t.getErrorHelperCapiError(e))})},S.getContentsArray=function(e){var t=this,n=[];return e.forEach(function(e){n.push(t.getContents(e))}),T.all(n).catch(function(e){return T.reject(t.getErrorHelperCapiError(e))})},S.getMediasRelatedCollectionsByContentId=function(e){var t=this;return s({options:t._options,contentId:e}).fetch().then(function(e){return e.data?d({options:t._options,mediaId:e.data.mediaId}).fetch():T.resolve(null)}).catch(function(e){return T.reject(t.getErrorHelperCapiError(e))})},S.getBlackoutData=function(e,t){var n=this;return s({options:n._options,contentId:e}).fetch().then(function(i){return i.data?f({options:n._options,contentId:e,contentPackageId:i.data.contentPackageId,postalCode:t}).fetch():T.resolve(null)}).catch(function(e){return T.reject(n.getErrorHelperCapiError(e))})},S.getChannelAffiliates=function(){var e=this;return _({options:e._options}).fetch().catch(function(t){return T.reject(e.getErrorHelperCapiError(t))})},S.getChannelSchedules=function(e){var t=this;return _({options:t._options}).fetch().then(function(n){if(!n.data)return T.resolve(null);var i=n.data.items.filter(function(t){return t.Content.Id===parseInt(e)});return i.length>0?b({options:t._options,code:i[0].Code}).fetch():void 0}).catch(function(e){return T.reject(t.getErrorHelperCapiError(e))})},S.getChannelContents=function(e,t){var n=this;return v({options:n._options,code:t}).fetch().catch(function(e){return T.reject(n.getErrorHelperCapiError(e))})},S.setConcurrency=function(e){var t=this;return g({options:t._options,contentId:e.contentId,contentPackageId:e.contentPackageId,jwt:e.jwt,dId:e.dId}).fetch().catch(function(e){return T.reject(t.getErrorHelperCapiError(e))})},S.getContentsCustomPlaylist=function(e){var t=this;return y({options:t._options,arrContentId:e}).fetch().catch(function(e){return T.reject(t.getErrorHelperCapiError(e))})},S.getErrorHelperCapiError=function(e){if(e instanceof r)return e;if(!(e instanceof o))return new r(401==e.sourceError?r.RESPONSE_401:r.RESPONSE_UNKNOWN);if(!e.jqXHR||!e.jqXHR.responseText)return new r(r.RESPONSE_UNKNOWN);try{var t=JSON.parse(e.jqXHR.responseText);if(t.ErrorCode){var n=r.RESPONSE_UNKNOWN;switch(t.ErrorCode){case"401":n=r.RESPONSE_401;break;case"403":n=r.RESPONSE_403;break;case"403.71":n=r.RESPONSE_403_71;break;case"403.72":n=r.RESPONSE_403_72;break;case"403.73":n=r.RESPONSE_403_73;break;case"403.74":n=r.RESPONSE_403_74;break;case"403.75":n=r.RESPONSE_403_75;break;case"403.76":n=r.RESPONSE_403_76;break;case"404":n=r.RESPONSE_404;break;case"500":n=r.RESPONSE_500;break;case"503":n=r.RESPONSE_503;break;case"504":n=r.RESPONSE_504;break;default:n=r.RESPONSE_UNKNOWN}var i=new r(n);return i.originalCapiMessage=t.Message,i}return new r(r.RESPONSE_UNKNOWN)}catch(e){return new r(r.RESPONSE_UNKNOWN)}},t.exports=w},{"./exceptions/bm-helper-capi":65,"./models/capi-blackout":66,"./models/capi-bond-concurrency":67,"./models/capi-channel-affiliates":68,"./models/capi-channel-contents":69,"./models/capi-channel-schedules":70,"./models/capi-collections-contents":71,"./models/capi-contents":78,"./models/capi-contents-custom-playlist":72,"./models/capi-contents-episode-list":73,"./models/capi-contents-next-contents":74,"./models/capi-contents-packages":75,"./models/capi-contents-related-contents":76,"./models/capi-contents-season-list":77,"./models/capi-medias-related-collections":79,"@bellmedia/bm-base":11,"@bellmedia/bm-base-helper":5,bluebird:16,"bm-ajax/exceptions/bm-ajax":35,"bm-service-factory-reco":119,underscore:32}],64:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-config"),o=function(){if(!(this instanceof o))return new o;o.super_.call(this),this.setDefault({destinationCode:"",platformCode:"",$lang:"en",playbackLanguage:"en",host:"capi.9c9media.com"})};i.inherits(o,a),t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-config":1}],65:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base-error"),a=e("@bellmedia/bm-base"),o=function(e){o.super_.apply(this,arguments)};a.inherits(o,i);var r=o.prototype;r.errorFromInit=!1,r.originalCapiMessage="",o.RESPONSE_401="response 401",o.RESPONSE_403="response 403",o.RESPONSE_403_71="response 403.71",o.RESPONSE_403_72="response 403.72",o.RESPONSE_403_73="response 403.73",o.RESPONSE_403_74="response 403.74",o.RESPONSE_403_75="response 403.75",o.RESPONSE_403_76="response 403.76",o.RESPONSE_404="response 404",o.RESPONSE_500="response 500",o.RESPONSE_503="response 503",o.RESPONSE_504="response 504",o.RESPONSE_UNKNOWN="response unknown",t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-error":2}],66:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=(e("../exceptions/bm-helper-capi"),e("bm-ajax")),r=(e("underscore"),o()),s=function(e){if(!(this instanceof s))return new s(e);s.super_.apply(this,arguments),this._contentId=e.contentId,this._contentPackageId=e.contentPackageId,this._postalCode=e.postalCode,this._options=e.options.data,this.setDefault({allowed:!0,image:{type:"",url:""},timeRanges:[{startTime:"",endTime:""}]})};i.inherits(s,a);var l=s.prototype;l._contentId=void 0,l._contentPackageId=void 0,l._options=void 0,l._postalCode=null,l.sync=function(e){var t=this,n=s.PATH.replace("{destinationCode}",t._options.destinationCode).replace("{platformCode}",t._options.platformCode).replace("{contentId}",t._contentId).replace("{contentPackageId}",t._contentPackageId),i="//"+t._options.host+n;t._postalCode&&(i=i+"?postalCode="+t._postalCode),r.getJson(i,"").then(function(t){var n={allowed:t.Allowed,image:t.Image,timeRanges:t.TimeRanges};e(null,n)},function(t){e(t)})},s.PATH="/destinations/{destinationCode}/platforms/{platformCode}/contents/{contentId}/contentpackages/{contentPackageId}/constraints/blackouts",t.exports=s},{"../exceptions/bm-helper-capi":65,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],67:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=(e("../exceptions/bm-helper-capi"),e("bm-ajax")),r=(e("underscore"),o()),s=function(e){if(!(this instanceof s))return new s(e);s.super_.apply(this,arguments),this._contentId=e.contentId,this._contentPackageId=e.contentPackageId,this._options=e.options.data,this._jwt=e.jwt,this._dId=e.dId,this.setDefault({contentId:"",contentPackageId:"",jwt:"",dId:""})};i.inherits(s,a);var l=s.prototype;l._contentId=void 0,l._contentPackageId=void 0,l._jwt=void 0,l._dId=void 0,l._options=void 0,l.sync=function(e){var t=this,n=s.PATH.replace("{destinationCode}",t._options.destinationCode).replace("{platformCode}",t._options.platformCode).replace("{contentId}",t._contentId).replace("{contentPackageId}",t._contentPackageId),i="https://"+this._options.host+n+"?jwt="+this._jwt+"&dId="+this._dId;r.postJson(i).then(function(t){e(null,null)},function(t){e(t)})},s.PATH="/destinations/{destinationCode}/platforms/{platformCode}/bond/contents/{contentId}/contentpackages/{contentPackageId}/hb",t.exports=s},{"../exceptions/bm-helper-capi":65,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],68:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=(e("../exceptions/bm-helper-capi"),e("bm-ajax")),r=(e("underscore"),o()),s=function(e){if(!(this instanceof s))return new s(e);s.super_.apply(this,arguments),this._options=e.options.data,this.setDefault({Items:[{Id:115,Name:"ESPN Classic",Code:"ESPNC",Channel:"tsn",TimeZoneName:"Eastern",TimeZoneOffset:"-05:00",Content:{Id:1255137}}],ItemsType:"Channel affiliates"})};i.inherits(s,a);var l=s.prototype;l._options=void 0,l.sync=function(e){var t=this,n=s.PATH.replace("{destinationCode}",t._options.destinationCode).replace("{platformCode}",t._options.platformCode).replace("{channel}",t._options.destinationCode.split("_")[0]),i="//"+t._options.host+n;r.getJson(i,"").then(function(t){var n={items:t.Items,itemsType:t.ItemsType};e(null,n)},function(t){e(t)})},s.PATH="/destinations/{destinationCode}/platforms/{platformCode}/channelAffiliates?channel={channel}&$include=[Id, Name, Code, Channel, TimeZoneName, TimeZoneOffSet, Content]",t.exports=s},{"../exceptions/bm-helper-capi":65,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],69:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=(e("../exceptions/bm-helper-capi"),e("bm-ajax")),r=(e("underscore"),o()),s=function(e){if(!(this instanceof s))return new s(e);s.super_.apply(this,arguments),this._code=e.code,this._options=e.options.data,this.setDefault({Items:[{Title:"2018 Scotties Tournament of Hearts: Pool Play - Draw #8",MediaTitle:"",Desc:"2018 Scotties Tournament of Hearts-2018 Scotties Tournament of Hearts: Pool Play - Draw #8",SeasonNumber:1,EpisodeNUmber:1,StartTime:"2018-01-29T22:00:00-05:00",EndTime:"2018-01-30T01:00:00-05:00",GameId:"123"}],itemsType:"TV listings"})};i.inherits(s,a);var l=s.prototype;l._code=void 0,l._options=void 0,l.sync=function(e){var t=this,n=s.PATH.replace("{destinationCode}",t._options.destinationCode).replace("{platformCode}",t._options.platformCode).replace("{channelCode}",t._code),i="//"+t._options.host+n;r.getJson(i,"").then(function(t){var n={items:t.Items,itemsType:t.ItemsType};e(null,n)},function(t){e(t)})},s.PATH="/destinations/{destinationCode}/platforms/{platformCode}/channelAffiliates/{channelCode}/contents",t.exports=s},{"../exceptions/bm-helper-capi":65,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],70:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=(e("../exceptions/bm-helper-capi"),e("bm-ajax")),r=(e("underscore"),o()),s=function(e){if(!(this instanceof s))return new s(e);s.super_.apply(this,arguments),this._code=e.code,this._options=e.options.data,this.setDefault({Items:[{Name:"2018 Scotties Tournament of Hearts: Pool Play - Draw #8",Title:"2018 Scotties Tournament of Hearts: Pool Play - Draw #8",Desc:"2018 Scotties Tournament of Hearts-2018 Scotties Tournament of Hearts: Pool Play - Draw #8",StartTime:"2018-01-29T22:00:00-05:00",EndTime:"2018-01-30T01:00:00-05:00",IsBlackedOut:!1,Images:[{Type:"thumbnail",Url:"http://images2.9c9media.com/image_asset/2014_11_5_cd61b120-4763-0132-7e9d-10604ba4c9b1_jpg_2000x1125.jpg",Width:2e3,Height:1125}]}],itemsType:"TV listings"})};i.inherits(s,a);var l=s.prototype;l._code=void 0,l._options=void 0,l.sync=function(e){var t=this,n=s.PATH.replace("{destinationCode}",t._options.destinationCode).replace("{platformCode}",t._options.platformCode).replace("{channelCode}",t._code),i="//"+t._options.host+n;r.getJson(i,"").then(function(t){var n={items:t.Items,itemsType:t.ItemsType};e(null,n)},function(t){e(t)})},s.PATH="/destinations/{destinationCode}/platforms/{platformCode}/channelAffiliates/{channelCode}/schedules",t.exports=s},{"../exceptions/bm-helper-capi":65,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],71:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=e("bm-ajax"),r=e("underscore"),s=o(),l={},c=function(e){if(!(this instanceof c))return new c(e);c.super_.apply(this,arguments),this._collectionId=e.collectionId,this._options=e.options.data,this.setDefault([])};i.inherits(c,a);var d=c.prototype;d._collectionId=[],d._options=void 0,d.sync=function(e){var t=this,n=c.PATH.replace("{destinationCode}",t._options.destinationCode).replace("{platformCode}",t._options.platformCode).replace("{collectionId}",t._collectionId),i="https://"+t._options.host+n,a=r.extend({},c.PARAMS,{$lang:t._options.$lang});if(l[t._collectionId])return void e(null,l[t._collectionId]);s.getJson(i,a).then(function(n){if(r.isEmpty(n.Items))e(null,[]);else{var i=[];r.each(n.Items,function(e,t){i.push(e.Id)}),l[t._collectionId]=i,e(null,i)}},function(t){e(t)})},c.PATH="/destinations/{destinationCode}/platforms/{platformCode}/collections/{collectionId}/contents",c.PARAMS={$page:1,$top:6},t.exports=c},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],72:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=e("../exceptions/bm-helper-capi"),r=e("bm-ajax"),s=e("underscore"),l=r(),c=function(e){if(!(this instanceof c))return new c(e);c.super_.apply(this,arguments),this._arrContentId=e.arrContentId,this._options=e.options.data,this.setDefault({Items:[{Id:"",Name:"",Images:[{Type:"",Url:"",Width:"",Height:""}],ContentPackages:[{Id:"",Duration:""}]}],ItemsType:""})};i.inherits(c,a);var d=c.prototype;d._arrContentId=void 0,d._options=void 0,d.sync=function(e){var t=this,n=c.PATH.replace("{destinationCode}",t._options.destinationCode).replace("{platformCode}",t._options.platformCode).replace("{arrId}",t._arrContentId).replace("{lang}",t._options.$lang),i="https://"+t._options.host+n;l.getJson(i).then(function(t){s.isEmpty(t)?e(new o(o.RESPONSE_UNKNOWN)):e(null,t)},function(t){e(t)})},c.PATH="/destinations/{destinationCode}/platforms/{platformCode}/contents?id=[{arrId}]&$include=[description,images,contentpackages.duration,contentpackages.id, authentication]&Images.type=thumbnail&$lang={lang}",t.exports=c},{"../exceptions/bm-helper-capi":65,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],73:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=e("bm-ajax"),r=e("underscore"),s=o(),l={},c=function(e){if(!(this instanceof c))return new c(e);c.super_.apply(this,arguments),this._mediaId=e.mediaId,this._seasonId=e.seasonId,this._options=e.options.data,this.setDefault([])};i.inherits(c,a);var d=c.prototype;d._mediaId="",d._seasonId="",d._options=void 0,d.sync=function(e){var t=this,n=c.PATH.replace("{destinationCode}",t._options.destinationCode).replace("{platformCode}",t._options.platformCode).replace("{mediaId}",t._mediaId).replace("{seasonId}",t._seasonId),i="https://"+t._options.host+n,a=r.extend({},c.PARAMS,{$lang:t._options.$lang});if(l[t._mediaId+"-"+t._seasonId])return void e(null,l[t._mediaId+"-"+t._seasonId]);s.getJson(i,a).then(function(n){if(r.isEmpty(n.Items))e(null,[]);else{var i=[];r.each(n.Items,function(e,t){e.Episode>0&&i.push({id:e.Id,title:e.Name,season:e.Season.Name,seasonId:e.Season.Id,episode:e.Episode,authentication:e.Authentication,images:e.Images,description:e.ShortDesc,duration:e.ContentPackages[0].Duration})}),l[t._mediaId+"-"+t._seasonId]=i,e(null,i)}},function(t){e(t)})},c.PATH="/destinations/{destinationCode}/platforms/{platformCode}/medias/{mediaId}/seasons/{seasonId}/contents",c.PARAMS={$include:"[Season,Episode,Authentication,Images,ShortDesc,ContentPackages]",type:"episode"},t.exports=c},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],74:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=e("../exceptions/bm-helper-capi"),r=e("bm-ajax"),s=e("underscore"),l=r(),c={},d=function(e){if(!(this instanceof d))return new d(e);d.super_.apply(this,arguments),this._contentId=e.contentId,this._options=e.options.data,this.setDefault({contentId:"",contentPackageId:"",mediaId:"",content:{type:"",title:"",description:"",shortDescription:"",season:"",episode:"",image:""},media:{type:"",title:"",infoUrl:"",image:""}})};i.inherits(d,a);var u=d.prototype;u._contentId=void 0,u._options=void 0,u.sync=function(e){var t=this,n=d.PATH.replace("{destinationCode}",t._options.destinationCode).replace("{platformCode}",t._options.platformCode).replace("{contentId}",t._contentId),i="https://"+t._options.host+n,a=s.extend({},d.PARAMS,{$lang:t._options.$lang});if(c[t._contentId])return void e(null,c[t._contentId]);l.getJson(i,a).then(function(n){if(s.isEmpty(n))e(new o(o.RESPONSE_UNKNOWN));else{var i={contentId:n.Id,contentPackageId:s.isEmpty(n.ContentPackages)?"":n.ContentPackages[0].Id,mediaId:s.isEmpty(n.Media)?"":n.Media.Id,content:{type:n.Type,title:n.Name,description:n.Desc,shortDescription:n.ShortDesc,season:s.isUndefined(n.Season)||!s.isNumber(n.Season.Number)?"":n.Season.Number,episode:s.isNumber(n.Episode)?n.Episode:"",image:s.isEmpty(n.Images)?"":n.Images[0].Url},media:{type:s.isUndefined(n.Media)||!s.isString(n.Media.Type)?"":n.Media.Type,title:s.isUndefined(n.Media)||!s.isString(n.Media.Name)?"":n.Media.Name,infoUrl:s.isUndefined(n.Media)||!s.isString(n.Media.InfoUrl)?"":n.Media.InfoUrl,image:s.isUndefined(n.Media)||s.isEmpty(n.Media.Images)?"":n.Media.Images[0].Url}};c[t._contentId]=i,e(null,i)}},function(t){e(t)})},d.PATH="/destinations/{destinationCode}/platforms/{platformCode}/contents/{contentId}/nextContent",d.PARAMS={$include:"[Id,Name,Desc,ShortDesc,Type,Owner,Media,Season,Episode,Genres,Images,ContentPackages,Authentication,People]"},t.exports=d},{"../exceptions/bm-helper-capi":65,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],75:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=e("../exceptions/bm-helper-capi"),r=e("bm-ajax"),s=e("underscore"),l=r(),c={},d=function(e){if(!(this instanceof d))return new d(e);d.super_.apply(this,arguments),this._contentId=e.contentId,this._contentPackageId=e.contentPackageId,this._options=e.options.data,this.setDefault({contentId:this._contentId,contentPackageId:this._contentPackageId,isSharable:!1,isAllowedByGeo:!0,hasClosedCaptions:!1,requireDrm:!1,promptLength:null,promptTime:null,endCreditOffset:null,CDN:"",auth:{required:!1,arrResourceCode:[]},adRulesTimeLine:[{type:"",duration:0}]})};i.inherits(d,a);var u=d.prototype;u._contentId=void 0,u._contentPackageId=void 0,u._options=void 0,u.sync=function(e){var t=this,n=d.PATH.replace("{destinationCode}",this._options.destinationCode).replace("{platformCode}",this._options.platformCode).replace("{contentId}",this._contentId).replace("{contentPackageId}",this._contentPackageId),i="https://"+this._options.host+n,a=s.extend({},d.PARAMS),r=JSON.stringify([i,JSON.stringify(a)]);if(c[r])return void e(null,c[r]);l.getJson(i,a).then(function(n){if(s.isEmpty(n))e(new o(o.RESPONSE_UNKNOWN));else if(s.isUndefined(n.Constraints))e(null,t.data);else{var i=[];s.isUndefined(n.Constraints.Authentication)||s.isEmpty(n.Constraints.Authentication.Resources)||s.each(n.Constraints.Authentication.Resources,function(e,t){s.isString(e.ResourceCode)&&i.push(e.ResourceCode)});var a={contentId:t._contentId,contentPackageId:t._contentPackageId,isSharable:!(s.isUndefined(n.Constraints.Share)||!s.isBoolean(n.Constraints.Share.Allowed))&&n.Constraints.Share.Allowed,isAllowedByGeo:!(!s.isUndefined(n.Constraints.Geo)&&s.isBoolean(n.Constraints.Geo.Allowed))||n.Constraints.Geo.Allowed,hasClosedCaptions:!(s.isUndefined(n.HasClosedCaptions)||!s.isBoolean(n.HasClosedCaptions))&&n.HasClosedCaptions,requireDrm:!s.isUndefined(n.Constraints.Security)&&!s.isNull(n.Constraints.Security.Type),auth:{required:!(s.isUndefined(n.Constraints.Authentication)||!s.isBoolean(n.Constraints.Authentication.Required))&&n.Constraints.Authentication.Required,arrResourceCode:i},promptLength:s.isUndefined(n.PromptLength)?null:n.PromptLength,promptTime:s.isUndefined(n.PromptTime)?null:n.PromptTime,endCreditOffset:s.isUndefined(n.EndCreditOffset)?null:n.EndCreditOffset,CDN:s.isString(n.ManifestHost)?n.ManifestHost:"",adRulesTimeLine:n.AdRules&&!s.isUndefined(n.AdRules.TimeLine)&&s.isArray(n.AdRules.TimeLine)&&s.reduce(n.AdRules.TimeLine,function(e,t){return e&&s.has(t,"Duration")&&s.has(t,"Type")},!0)?n.AdRules.TimeLine.map(function(e){return{duration:e.Duration,type:e.Type}}):[],skipBreaks:s.isArray(n.Breaks)?n.Breaks:[]};c[r]=a,e(null,a)}},function(t){e(t)})},d.PATH="/destinations/{destinationCode}/platforms/{platformCode}/contents/{contentId}/contentpackages/{contentPackageId}",d.PARAMS={$include:"[HasClosedCaptions,breaks,Stacks.ManifestHost.mpd]"},t.exports=d},{"../exceptions/bm-helper-capi":65,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],76:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=e("bm-ajax"),r=e("underscore"),s=o(),l={},c=function(e){if(!(this instanceof c))return new c(e);c.super_.apply(this,arguments),this._contentId=e.contentId,this._options=e.options.data,this.setDefault([])};i.inherits(c,a);var d=c.prototype;d._contentId=[],d._options=void 0,d.sync=function(e){var t=this,n=c.PATH.replace("{destinationCode}",t._options.destinationCode).replace("{platformCode}",t._options.platformCode).replace("{contentId}",t._contentId),i="https://"+t._options.host+n,a=r.extend({},c.PARAMS,{$lang:t._options.$lang});if(l[t._contentId])return void e(null,l[t._contentId]);s.getJson(i,a).then(function(n){if(r.isEmpty(n.Items))e(null,[]);else{var i=[];r.each(n.Items,function(e,t){i.push(e.Id)}),l[t._contentId]=i,e(null,i)}},function(t){e(t)})},c.PATH="/destinations/{destinationCode}/platforms/{platformCode}/contents/{contentId}/relatedContents",c.PARAMS={$page:1,$top:6},t.exports=c},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],77:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=e("bm-ajax"),r=e("underscore"),s=o(),l={},c=function(e){if(!(this instanceof c))return new c(e);c.super_.apply(this,arguments),this._mediaId=e.mediaId,this._options=e.options.data,this.setDefault([])};i.inherits(c,a);var d=c.prototype;d._mediaId="",d._options=void 0,d.sync=function(e){var t=this,n=c.PATH.replace("{destinationCode}",t._options.destinationCode).replace("{platformCode}",t._options.platformCode).replace("{mediaId}",t._mediaId),i="https://"+t._options.host+n,a=r.extend({},c.PARAMS,{$lang:t._options.$lang});if(l[t._mediaId])return void e(null,l[t._mediaId]);s.getJson(i,a).then(function(n){if(r.isEmpty(n.Items))e(null,[]);else{var i=[];r.each(n.Items,function(e,t){e.Id>0&&i.push({id:e.Id,name:e.Name,number:e.Number})}),l[t._mediaId]=i,e(null,i)}},function(t){e(t)})},c.PATH="/destinations/{destinationCode}/platforms/{platformCode}/medias/{mediaId}/seasons",c.PARAMS={$include:"[]"},t.exports=c},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],78:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=e("bm-ajax"),r=(e("bluebird"),e("underscore")),s=o(),l={},c=function(e){if(!(this instanceof c))return new c(e);c.super_.apply(this,arguments),this._contentId=e.contentId,this._options=e.options.data,this.setDefault({contentId:"",contentPackageId:"",mediaId:"",content:{type:"",title:"",description:"",shortDescription:"",season:"",seasonId:"",episode:"",image:"",duration:0,genres:[],owner:"",agvotRating:"",qfrRating:"",ratingWarnings:[],airdate:"",digitaldate:""},media:{type:"",title:"",infoUrl:"",image:""},album:"",labels:[],funding:[],people:[],duration:0,RevShare:[],Authentication:{Required:!1,Resources:[{ResourceCode:""}]},AdTarget:""})};i.inherits(c,a);var d=c.prototype;d._contentId=void 0,d._options=void 0,d.sync=function(e){var t=this,n=t._contentId,i=c.PATH.replace("{destinationCode}",this._options.destinationCode).replace("{platformCode}",this._options.platformCode).replace("{contentId}",n),a="https://"+this._options.host+i,o=r.extend({},c.PARAMS,{$lang:this._options.$lang}),d=n+this._options.playbackLanguage+this._options.$lang;if(l[d])return e(null,l[d]),promiseReturn;s.getJson(a,o).then(function(n){var i=r.isArray(n.Images)?n.Images.filter(function(e){return"thumbnail"===e.Type}):"",o={contentId:n.Id,contentPackageId:r.isEmpty(n.ContentPackages)?"":n.ContentPackages[0].Id,mediaId:r.isEmpty(n.Media)?"":n.Media.Id,content:{type:n.Type,title:n.Name,description:n.Desc,shortDescription:n.ShortDesc,season:r.isUndefined(n.Season)||!r.isNumber(n.Season.Number)?"":n.Season.Number,seasonId:r.isUndefined(n.Season)||!r.isNumber(n.Season.Id)?"":n.Season.Id,episode:r.isNumber(n.Episode)?n.Episode:"",image:r.isEmpty(i)?"":i[0].Url,duration:r.isEmpty(n.ContentPackages)?0:n.ContentPackages[0].Duration,genres:r.isArray(n.Genres)?n.Genres:[],owner:r.isEmpty(n.Owner)?"":r.isEmpty(n.Owner.Name)?"":n.Owner.Name,agvotRating:r.isEmpty(n.AgvotCode)?"":n.AgvotCode,qfrRating:r.isEmpty(n.QfrCode)?"":n.QfrCode,ratingWarnings:r.isArray(n.RatingWarnings)?n.RatingWarnings:[],airdate:r.isEmpty(n.ContentPackages)?null:n.ContentPackages[0].ScheduleStartDateTime,digitaldate:r.isEmpty(n.BroadcastDateTime)?"":n.BroadcastDateTime,omnitureName:r.isEmpty(n.Omniture)?"":n.Omniture},comscoreId:r.isUndefined(n.ChannelAffiliate)||r.isNull(n.ChannelAffiliate)||!r.isNumber(n.ChannelAffiliate.ComScoreId)?"*null":n.ChannelAffiliate.ComScoreId,media:{type:r.isUndefined(n.Media)||!r.isString(n.Media.Type)?"":n.Media.Type,title:r.isUndefined(n.Media)||!r.isString(n.Media.Name)?"":n.Media.Name,infoUrl:r.isUndefined(n.Media)||!r.isString(n.Media.InfoUrl)?"":n.Media.InfoUrl,image:r.isUndefined(n.Media)||r.isEmpty(n.Media.Images)?"":n.Media.Images[0].Url},album:r.isUndefined(n.Album)||!r.isString(n.Album)?"":n.Album,labels:r.isArray(n.MusicLabels)?n.MusicLabels:[],funding:r.isArray(n.Funding)?n.Funding:[],people:r.isArray(n.People)?n.People:[],duration:r.isEmpty(n.ContentPackages)?0:n.ContentPackages[0].Duration,revShare:r.isArray(n.RevShare)?n.RevShare:[],authentication:r.isEmpty(n.Authentication)||r.isUndefined(n.Authentication)?"":n.Authentication,
adTarget:r.isEmpty(n.AdTarget)||r.isUndefined(n.AdTarget)?"":n.AdTarget};l[d]=o;var c={lang:t._options.playbackLanguage,include:"[duration]"};s.getJson(a+"/contentpackages?$lang="+c.lang+"&$include="+c.include,{}).then(function(t){var n=!r.isEmpty(t.Items)&&t.Items[0].Name&&r.isString(t.Items[0].Name)&&/french|sego/.test(t.Items[0].Name.toLowerCase());l[d].contentPackageId=r.isEmpty(t.Items)?"":t.Items[0].Id,l[d].duration=r.isEmpty(t.Items)?0:t.Items[0].Duration,l[d].contentPackageLang=n?"french":"english",e(null,l[d])})},function(t){e(null,null),l[d]=null})},c.PATH="/destinations/{destinationCode}/platforms/{platformCode}/contents/{contentId}",c.PARAMS={$include:"[Id,Name,Desc,ShortDesc,Type,Owner,Media,Season,Episode,Genres,Images,ContentPackages,Authentication,People,Omniture,revShare,adtarget,channelaffiliate]"},t.exports=c},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,bluebird:16,"bm-ajax":34,underscore:32}],79:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=e("../exceptions/bm-helper-capi"),r=e("bm-ajax"),s=e("underscore"),l=r(),c={},d=function(e){if(!(this instanceof d))return new d(e);d.super_.apply(this,arguments),this._mediaId=e.mediaId,this._options=e.options.data,this.setDefault({mediaId:"",collections:[{collectionId:"",title:""}]})};i.inherits(d,a);var u=d.prototype;u._mediaId=void 0,u._options=void 0,u.sync=function(e){var t=this,n=d.PATH.replace("{destinationCode}",t._options.destinationCode).replace("{platformCode}",t._options.platformCode).replace("{mediaId}",t._mediaId),i="https://"+t._options.host+n,a=s.extend({},d.PARAMS);if(c[t._mediaId])return void e(null,c[t._mediaId]);l.getJson(i,a).then(function(n){if(s.isEmpty(n))e(new o(o.RESPONSE_UNKNOWN));else{var i={mediaId:t._mediaId,collections:[]};s.each(n.Items,function(e,t){i.collections.push({collectionId:e.Id,title:s.isString(e.Name)?e.Name:""})}),c[t._mediaId]=i,e(null,i)}},function(t){e(t)})},d.PATH="/destinations/{destinationCode}/platforms/{platformCode}/medias/{mediaId}/relatedCollections",d.PARAMS={},t.exports=d},{"../exceptions/bm-helper-capi":65,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],80:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-helper"),o=(e("underscore"),function(){if(!(this instanceof o))return new o;o.super_.apply(this,arguments)});i.inherits(o,a);var r=o.prototype;r.getCookieByName=function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var a=n[i];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return null},r.setCookie=function(e,t,n){var i="";if(n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3),i="; expires="+a.toUTCString()}document.cookie=e+"="+(t||"")+i+"; SameSite=None; Secure; Path=/"},t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-helper":5,underscore:32}],81:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-helper"),o=e("./constants/capi-constants"),r=e("bm-service-factory-capi"),s=e("./models/bm-model-metadata"),l=e("underscore"),c=(e("bluebird"),e("bm-service-factory-translation")),d=function(e,t,n){if(!(this instanceof d))return new d(e,t,n);d.super_.apply(this,arguments),this._arrContentId=e,this._brandType=t,this._capiConfig=n,this._serviceCapi=r()};i.inherits(d,a);var u=d.prototype;u._serviceCapi=void 0,u._arrContentId=null,u._brandType="",u._capiConfig=null,u.getMetadata=function(e){var t=this;return t._serviceCapi.getInstance().getContentsArray(e).then(function(e){return e.map(function(e){return s().setData({contentId:e.data.contentId,metadataTitle:t.formatMetadata(e.data,t._brandType),metadataExtended:t.formatMetadataExtended(e.data,t._brandType)})})})},u.getMetadataById=function(e){return this.getMetadata([e]).then(function(t){return l.find(t,function(t){return t.data.contentId===e})})},u.formatMetadata=function(e,t){var n=e.media.title,i=e.content.episode,a=e.content.season,r=e.content.title||"",s=e.content.type,c=e.people,d="",u=this;switch(l.isUndefined(a)||(d="S"+a),l.isUndefined(i)||(""!=d&&(d+=":"),d+="E"+i),t){case o.BRAND_TYPE_SPORTS:case o.BRAND_TYPE_NEWS:return r;case o.BRAND_TYPE_MUSIC:var p=l.isArray(c)?c.filter(function(e){return"artist"===e.RoleName}).map(u._getPersonName):[];return"song"===s?p.length>0?r+" - "+p.join(", "):r:"episode"===s?""!==d?[n,d,r].join(" "):[n,r].join(" "):"events"===s?p.length>0?n+" "+r+" "+p:n+" "+r:"story"===s?r+" "+n:r;case o.BRAND_TYPE_HUB_LIVE:return r;case o.BRAND_TYPE_DEFAULT:return"episode"===s&&""!==d?[n,d,r].join(" "):"feature"===s?n:[n,r].join(" ")}},u.formatMetadataExtended=function(e,t){var n=this,i=e.content.digitaldate&&!l.isEmpty(e.content.digitaldate)?n._formatDate(e.content.digitaldate):"",a=e.content.agvotRating,r=e.content.qfrRating,s=n._formatTime(e.duration),c=e.content.description,d=e.content.shortDescription,u=e.content.type,p=e.people,m=e.content.genres||[],h=e.labels||[],f=e.album||"",_=e.funding||[],b=e.content.ratingWarnings.filter(function(e){return l.isString(e.Code)&&!l.isEmpty(e.Code)}).map(function(e){return e.Code}).join(", "),v={agvotRating:a,qfrRating:r,ratingWarnings:b};switch(t){case o.BRAND_TYPE_SPORTS:return l.extend(v,{description:d,duration:s});case o.BRAND_TYPE_NEWS:return"stream"===u?{description:""}:{description:c};case o.BRAND_TYPE_MUSIC:var g=m.map(function(e){return e.Name}).join(", ");if("song"===u){var y=p.filter(function(e){return"director"===e.RoleName}).map(n._getPersonName).join(", "),E=_.map(function(e){return e.Name}),T=h.map(function(e){return e.Name}).concat(E).join(" / ");return l.extend(v,{director:y,album:f,labels:T,genres:g})}return"episode"===u||"events"===u?l.extend(v,{description:c,genres:g,releaseDate:i}):"story"===u?l.extend(v,{description:c,releaseDate:i}):l.extend(v,{description:c});case o.BRAND_TYPE_HUB_LIVE:case o.BRAND_TYPE_DEFAULT:return l.extend(v,{description:c,releaseDate:i})}},u.getMediaTitleNoSpecialChar=function(e){return e.media.title.replace(/[^a-z0-9 ]/gi,"")},u._formatDate=function(e){var t=c().getInstance();e=new Date(e);var n=[t.t("January"),t.t("February"),t.t("March"),t.t("April"),t.t("May"),t.t("June"),t.t("July"),t.t("August"),t.t("September"),t.t("October"),t.t("November"),t.t("December")],i=n[e.getMonth()],a=e.getDate(),o=e.getFullYear();return"fr"===t._languageCode?a+" "+i+" "+o:i+" "+a+". "+o},u._formatTime=function(e){var t=parseInt(e,10),n=Math.floor(t/3600),i=Math.floor((t-3600*n)/60);return t=t-3600*n-60*i,n>0?n+" hrs "+i+" mins "+t+" secs":i>0?i+" mins "+t+" secs":t+" secs"},u._getPersonName=function(e){var t="";return e.Alias?t=e.Alias:(e.FirstName&&e.LastName&&(t=e.FirstName+" "+e.LastName),!e.LastName&&e.FirstName&&(t=e.FirstName),e.LastName&&!e.FirstName&&(t=e.LastName)),t},t.exports=d},{"./constants/capi-constants":82,"./models/bm-model-metadata":83,"@bellmedia/bm-base":11,"@bellmedia/bm-base-helper":5,bluebird:16,"bm-service-factory-capi":117,"bm-service-factory-translation":120,underscore:32}],82:[function(e,t,n){t.exports={BRAND_TYPE_DEFAULT:"default",BRAND_TYPE_MUSIC:"music",BRAND_TYPE_NEWS:"news",BRAND_TYPE_SPORTS:"sports",BRAND_TYPE_HUB_LIVE:"hub_live",CONTENT_TYPE_EPISODE:"episode",CONTENT_TYPE_EXTRA:"extra",CONTENT_TYPE_HIGHLIGHT:"highlight",CONTENT_TYPE_PROMO:"promo",CONTENT_TYPE_SEGMENT:"segment",CONTENT_TYPE_SONG:"song",CONTENT_TYPE_SPECIAL:"special",CONTENT_TYPE_STORY:"story",CONTENT_TYPE_STREAM:"stream",CONTENT_TYPE_EVENTS:"events"}},{}],83:[function(e,t,n){var i=e("@bellmedia/bm-base-model"),a=i;t.exports=function(){return a().setDefault({contentId:0,metadataTitle:"",metadataExtended:""})}},{"@bellmedia/bm-base-model":6}],84:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-helper"),o=e("bm-helper-cookie"),r=o();ErrorAjax=e("bm-ajax/exceptions/bm-ajax"),ErrorHelperReco=e("./exceptions/bm-helper-reco"),modelJwtAccessToken=e("./models/jwt-access-token"),modelUserBookmarksSet=e("./models/user-bookmarks-set"),modelBookmarkIntervalGet=e("./models/bookmark-interval-get"),modelUserProfileBookmarksGet=e("./models/user-profile-bookmarks-get"),modelUserAccountBookmarksGet=e("./models/user-account-bookmarks-get"),modelMediaidsBookmarksGet=e("./models/mediaids-bookmarks-get"),modelContentidsBookmarksGet=e("./models/contentids-bookmarks-get"),modelUserProfileContinueWatchingBookmarksGet=e("./models/user-profile-continue-watching-get"),modelMediaidContinueWatchingBookmarksGet=e("./models/mediaid-continue-watching-get"),_=e("underscore"),Promise=e("bluebird"),jwtDecode=e("jwt-decode");var s=function(e){if(!(this instanceof s))return new s(e);s.super_.apply(this,arguments),this._options=e.data};i.inherits(s,a);var l=s.prototype;l._options=void 0,l.getJwtDecoded=function(){var e=this,t=e.getJwtAccessToken();return _.isEmpty(t)?null:jwtDecode(t)},l.getJwtRefreshToken=function(e){var t=this,n=e||t._options.refreshTokenCookieName;return r.getCookieByName(n)},l.getJwtAccessToken=function(e){var t=this,n=e||t._options.accessTokenCookieName;return r.getCookieByName(n)},l.getDeviceId=function(){var e=this,t=localStorage.getItem(e._options.selectedProfile),n=t?JSON.parse(t).accountId:"",i=e._options.deviceIdCookieName+n;return r.getCookieByName(i)||null},l.isAccessTokenExpired=function(e){if(e){var t=jwtDecode(e);return new Date(1e3*t.exp)<new Date}return!0},l.getBookmarkInterval=function(e){var t=this;return modelBookmarkIntervalGet(e).fetch().catch(function(e){return Promise.reject(t.getErrorHelperRecoError(e))})},l.setBookmarks=function(e){var t=this,n=t.getJwtAccessToken(t._options.accessTokenCookieName),i=t.isAccessTokenExpired(n);if(t._shouldThrottle())return Promise.resolve(null);if(n&&!i){var a={host:t._options.hostBookmark,contentId:e.contentId,duration:e.duration,mediaId:e.mediaId,offset:e.offset,modelVersion:e.modelVersion,title:e.title,episode:e.episode,season:e.season,contentType:e.contentType,contentPackageId:e.contentPackageId,jwtAccessToken:n,jwtTokenType:t._options.accessTokenType,destination:t._options.destination,language:t._options.playbackLanguage};return t._lastBookmarkRequestTime=(new Date).getTime(),modelUserBookmarksSet({options:a}).fetch().catch(function(e){return Promise.reject(t.getErrorHelperRecoError(e))})}return Promise.resolve(null)},l.getProfileBookmarks=function(){var e=this,t=e.getJwtAccessToken(e._options.accessTokenCookieName),n=e.isAccessTokenExpired(t);if(t&&!n){var i={host:e._options.hostBookmark,contentType:"application/json",jwtAccessToken:t,jwtTokenType:e._options.accessTokenType};return modelUserProfileBookmarksGet({options:i}).fetch().catch(function(t){return Promise.reject(e.getErrorHelperRecoError(t))})}return Promise.resolve(null)},l._lastBookmarkRequestTime=0,l._shouldThrottle=function(){var e=this;return!((new Date).getTime()+1e3>e._lastBookmarkRequestTime)},l.getAccountBookmarks=function(){var e=this,t=e.getJwtAccessToken(e._options.accessTokenCookieName),n=e.isAccessTokenExpired(t);if(t&&!n){var i={host:e._options.hostBookmark,contentType:"application/json",jwtAccessToken:t,jwtTokenType:e._options.accessTokenType};return modelUserAccountBookmarksGet({options:i}).fetch().catch(function(t){return Promise.reject(e.getErrorHelperRecoError(t))})}return Promise.resolve(null)},l.getMediaidsBookmarks=function(e){var t=this,n=t.getJwtAccessToken(t._options.accessTokenCookieName),i=t.isAccessTokenExpired(n);if(n&&!i){var a={host:t._options.hostBookmark,contentType:"application/json",mediaIds:e.mediaIds,jwtAccessToken:n,jwtTokenType:t._options.accessTokenType};return modelMediaidsBookmarksGet({options:a}).fetch().catch(function(e){return Promise.reject(t.getErrorHelperRecoError(e))})}return Promise.resolve(null)},l.getContentidsBookmarks=function(e){var t=this,n=t.getJwtAccessToken(t._options.accessTokenCookieName),i=t.isAccessTokenExpired(n);if(n&&!i){var a={host:t._options.hostBookmark,contentType:"application/json",contentIds:e.contentIds,jwtAccessToken:n,jwtTokenType:t._options.accessTokenType};return modelContentidsBookmarksGet({options:a}).fetch().catch(function(e){return Promise.reject(t.getErrorHelperRecoError(e))})}return Promise.resolve(null)},l.getProfileContinueWatchingBookmarks=function(e){var t=this,n=t.getJwtAccessToken(t._options.accessTokenCookieName),i=t.isAccessTokenExpired(n);if(n&&!i){var a={host:t._options.hostBookmark,contentType:"application/json",pageNumber:e.pageNumber,pageSize:e.pageSize,jwtAccessToken:n,jwtTokenType:t._options.accessTokenType};return modelUserProfileContinueWatchingBookmarksGet({options:a}).fetch().catch(function(e){return Promise.reject(t.getErrorHelperRecoError(e))})}return Promise.resolve(null)},l.getMediaidContinueWatchingBookmarks=function(e){var t=this,n=t.getJwtAccessToken(t._options.accessTokenCookieName);if(n&&!isAccesstokenExpired){var i={host:t._options.hostBookmark,contentType:"application/json",mediaId:e.mediaId,jwtAccessToken:n,jwtTokenType:t._options.accessTokenType};return modelMediaidContinueWatchingBookmarksGet({options:i}).fetch().catch(function(e){return Promise.reject(t.getErrorHelperRecoError(e))})}return Promise.resolve(null)},l.getErrorHelperRecoError=function(e){if(e instanceof ErrorHelperReco)return e;if(!(e instanceof ErrorAjax))return new ErrorHelperReco(ErrorHelperReco.RESPONSE_UNKNOWN);if(!e.jqXHR||!e.jqXHR.status)return new ErrorHelperReco(ErrorHelperReco.RESPONSE_UNKNOWN);try{var t=e.jqXHR.status,n=ErrorHelperReco.RESPONSE_UNKNOWN;switch(t){case 400:n=ErrorHelperReco.RESPONSE_400;break;case 401:n=ErrorHelperReco.RESPONSE_401;break;case 500:n=ErrorHelperReco.RESPONSE_500;break;default:n=ErrorHelperReco.RESPONSE_UNKNOWN}return new ErrorHelperReco(n)}catch(e){return new ErrorHelperReco(ErrorHelperReco.RESPONSE_UNKNOWN)}},t.exports=s},{"./exceptions/bm-helper-reco":86,"./models/bookmark-interval-get":87,"./models/contentids-bookmarks-get":88,"./models/jwt-access-token":89,"./models/mediaid-continue-watching-get":90,"./models/mediaids-bookmarks-get":91,"./models/user-account-bookmarks-get":92,"./models/user-bookmarks-set":93,"./models/user-profile-bookmarks-get":94,"./models/user-profile-continue-watching-get":95,"@bellmedia/bm-base":11,"@bellmedia/bm-base-helper":5,bluebird:16,"bm-ajax/exceptions/bm-ajax":35,"bm-helper-cookie":80,"jwt-decode":21,underscore:32}],85:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-config"),o=function(){if(!(this instanceof o))return new o;o.super_.call(this),this.setDefault({hostBookmark:"",accessTokenCookieName:"",accessTokenType:"",refreshTokenCookieName:"",accessTokenCookieName:"",deviceIdCookieName:"",selectedProfile:"",destination:"",uiLanguage:"",playbackLanguage:""})};i.inherits(o,a),t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-config":1}],86:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base-error"),a=e("@bellmedia/bm-base"),o=function(e){o.super_.apply(this,arguments)};a.inherits(o,i),o.RESPONSE_400="response 400",o.RESPONSE_401="response 401",o.RESPONSE_500="response 500",o.RESPONSE_UNKNOWN="response unknown",t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-error":2}],87:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=e("../exceptions/bm-helper-reco"),r=e("bm-ajax"),s=e("underscore"),l=r(),c=function(e){if(!(this instanceof c))return new c(e);c.super_.call(this,e),this._intervalUrl=e};i.inherits(c,a);var d=c.prototype;d._intervalUrl="",d.sync=function(e){var t=this,n=t._intervalUrl;l.getJson(n).then(function(t){s.isEmpty(t)?e(new o(o.RESPONSE_UNKNOWN)):e(null,t)},function(t){e(t)})},t.exports=c},{"../exceptions/bm-helper-reco":86,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],88:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=e("../exceptions/bm-helper-reco"),r=e("bm-ajax"),s=e("underscore"),l=r(),c=function(e){if(!(this instanceof c))return new c(e);c.super_.call(this,e),this._options=e.options};i.inherits(c,a);var d=c.prototype;d._options=void 0,d.sync=function(e){var t=this,n=c.PATH.replace("{contentIds}",t._options.contentIds),i="https://"+t._options.host+n,a={headers:{Authorization:t._options.jwtTokenType+" "+t._options.jwtAccessToken,"Content-Type":t._options.contentType}};l.getJson(i,{},a).then(function(t){s.isEmpty(t)?e(new o(o.RESPONSE_UNKNOWN)):e(null,t)},function(t){e(t)})},c.PATH="/api/bookmark/v1/contentids/{contentIds}",t.exports=c},{"../exceptions/bm-helper-reco":86,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],89:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=e("../exceptions/bm-helper-reco"),r=e("bm-ajax"),s=e("underscore"),l=r(),c=function(e){if(!(this instanceof c))return new c(e);c.super_.call(this,e),this._options=e.options};i.inherits(c,a);var d=c.prototype;d._options=void 0,d.sync=function(e){var t=this,n=c.PATH,i="https://"+t._options.host+n,a={grant_type:t._options.grantType,refresh_token:t._options.refreshToken,profile_id:t._options.profileId,profile_pin:t._options.profilePin},r={headers:{Authorization:t._options.authorization,"Content-Type":t._options.contentType}};l.postJson(i,a,r).then(function(t){if(s.isEmpty(t))e(new o(o.RESPONSE_UNKNOWN));else{var n={accessToken:s.isUndefined(t.access_token)?"":t.access_token,accountId:s.isUndefined(t.account_id)?"":t.account_id,creationDate:s.isUndefined(t.creation_date)?"":t.creation_date,expiresIn:s.isUndefined(t.expires_in)?0:t.expires_in,jti:s.isUndefined(t.jti)?"":t.jti,profileId:s.isUndefined(t.profile_id)?"":t.profile_id,refreshToken:s.isUndefined(t.refresh_token)?"":t.refresh_token,scope:s.isUndefined(t.scope)?"":t.scope,tokenType:s.isUndefined(t.token_type)?"":t.token_type};e(null,n)}},function(t){e(t)})},c.PATH="/api/login/v1.1",t.exports=c},{"../exceptions/bm-helper-reco":86,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],90:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=e("../exceptions/bm-helper-reco"),r=e("bm-ajax"),s=e("underscore"),l=r(),c=function(e){if(!(this instanceof c))return new c(e);c.super_.call(this,e),this._options=e.options};i.inherits(c,a);var d=c.prototype;d._options=void 0,d.sync=function(e){var t=this,n=c.PATH.replace("{mediaId}",t._options.mediaId),i="https://"+t._options.host+n,a={headers:{Authorization:t._options.jwtTokenType+" "+t._options.jwtAccessToken,"Content-Type":t._options.contentType}};l.getJson(i,{},a).then(function(t){s.isEmpty(t)?e(new o(o.RESPONSE_UNKNOWN)):e(null,t)},function(t){e(t)})},c.PATH="/api/bookmark/v1/continue-watching/mediaid/{mediaId}",t.exports=c},{"../exceptions/bm-helper-reco":86,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],91:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=e("../exceptions/bm-helper-reco"),r=e("bm-ajax"),s=e("underscore"),l=r(),c=function(e){if(!(this instanceof c))return new c(e);c.super_.call(this,e),this._options=e.options};i.inherits(c,a);var d=c.prototype;d._options=void 0,d.sync=function(e){var t=this,n=c.PATH.replace("{mediaIds}",t._options.mediaIds),i="https://"+t._options.host+n,a={headers:{Authorization:t._options.jwtTokenType+" "+t._options.jwtAccessToken,"Content-Type":t._options.contentType}};l.getJson(i,{},a).then(function(t){s.isEmpty(t)?e(new o(o.RESPONSE_UNKNOWN)):e(null,t)},function(t){e(t)})},c.PATH="/api/bookmark/v1/mediaids/{mediaIds}",t.exports=c},{"../exceptions/bm-helper-reco":86,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],92:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=e("../exceptions/bm-helper-reco"),r=e("bm-ajax"),s=e("underscore"),l=r(),c=function(e){if(!(this instanceof c))return new c(e);c.super_.call(this,e),this._options=e.options};i.inherits(c,a);var d=c.prototype;d._options=void 0,d.sync=function(e){var t=this,n=c.PATH,i="https://"+t._options.host+n,a={headers:{Authorization:t._options.jwtTokenType+" "+t._options.jwtAccessToken,"Content-Type":t._options.contentType}};l.getJson(i,{},a).then(function(t){s.isEmpty(t)?e(new o(o.RESPONSE_UNKNOWN)):e(null,t)},function(t){e(t)})},c.PATH="/api/bookmark/v1/account",t.exports=c},{"../exceptions/bm-helper-reco":86,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],93:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=e("../exceptions/bm-helper-reco"),r=e("bm-ajax"),s=(e("underscore"),r()),l=function(e){if(!(this instanceof l))return new l(e);l.super_.call(this,e),this._options=e.options};i.inherits(l,a);var c=l.prototype;c._options=void 0,c.sync=function(e){var t=this,n=l.PATH,i="https://"+t._options.host+n,a=JSON.stringify({contentId:t._options.contentId,duration:t._options.duration,mediaId:t._options.mediaId,offset:t._options.offset,modelVersion:t._options.modelVersion,title:t._options.title,episode:t._options.episode,season:t._options.season,contentType:t._options.contentType,contentPackageId:t._options.contentPackageId,completed:t._options.completed,destination:t._options.destination,language:t._options.language}),r={headers:{Authorization:t._options.jwtTokenType+" "+t._options.jwtAccessToken,accept:"application/json","content-type":"application/json"}};s.postJson(i,a,r).then(function(t){e(null,null)},function(t){e(new o(t))})},l.PATH="/api/bookmark/v1/add",t.exports=l},{"../exceptions/bm-helper-reco":86,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],94:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=e("../exceptions/bm-helper-reco"),r=e("bm-ajax"),s=e("underscore"),l=r(),c=function(e){if(!(this instanceof c))return new c(e);c.super_.call(this,e),this._options=e.options};i.inherits(c,a);var d=c.prototype;d._options=void 0,d.sync=function(e){var t=this,n=c.PATH,i="https://"+t._options.host+n,a={headers:{Authorization:t._options.jwtTokenType+" "+t._options.jwtAccessToken,"Content-Type":t._options.contentType}};l.getJson(i,{},a).then(function(t){s.isEmpty(t)?e(new o(o.RESPONSE_UNKNOWN)):e(null,t)},function(t){e(t)})},c.PATH="/api/bookmark/v1/profile",t.exports=c},{"../exceptions/bm-helper-reco":86,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],95:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=e("../exceptions/bm-helper-reco"),r=e("bm-ajax"),s=e("underscore"),l=r(),c=function(e){if(!(this instanceof c))return new c(e);c.super_.call(this,e),this._options=e.options};i.inherits(c,a);var d=c.prototype;d._options=void 0,d.sync=function(e){var t=this,n=c.PATH,i="https://"+t._options.host+n,a={pageNumber:t._options.pageNumber,pageSize:t._options.pageSize},r={headers:{Authorization:t._options.jwtTokenType+" "+t._options.jwtAccessToken,"Content-Type":t._options.contentType}};l.getJson(i,a,r).then(function(t){s.isEmpty(t)?e(new o(o.RESPONSE_UNKNOWN)):e(null,t)},function(t){e(t)})},c.PATH="/api/bookmark/v1/continue-watching/profile",t.exports=c},{"../exceptions/bm-helper-reco":86,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],96:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-helper"),o=e("bm-ajax/exceptions/bm-ajax"),r=e("./exceptions/bm-helper-userdal"),s=e("./models/access-token"),l=e("./models/user-accounts-login"),c=e("./models/user-v3-profiles"),d=e("./models/user-v3-profiles-lastpos-get"),u=e("./models/user-v3-profiles-lastpos-set"),p=e("./models/user-v3-devices-current"),m=e("./models/user-v3-devices-register"),h=e("bm-service-factory-auth"),f=e("bm-helper-auth-adapter"),_=e("underscore");Promise=e("bluebird");var b=function(e){if(!(this instanceof b))return new b(e);b.super_.apply(this,arguments);var t=this;t._accessToken=s(),t._options=e,t._serviceAuth=h().getInstance(),t.getAccessToken().then(function(e){t._accessToken=e}),t._updateAccessTokenOnStatusChange()};i.inherits(b,a);var v=b.prototype;v._options=void 0,v._serviceAuth=void 0,v._accessToken=void 0,v._updateAccessTokenOnStatusChange=function(){var e=this;e._serviceAuth.on(f.EVENT_STATUS_CHANGE,function(t){e._updateAccessToken()})},v._updateAccessToken=function(){var e=this;return e._serviceAuth.isAuthenticated().then(function(t){return t?e._serviceAuth.getIdentity():Promise.resolve(null)}).then(function(t){return null!==t?l({identityTokenObject:t,options:e._options}).fetch():Promise.resolve(null)}).then(function(t){if(null===t||null===t.data)_.isUndefined(window.sessionStorage)||(window.sessionStorage.removeItem("bm-helper-userdal/_accessToken"),e._accessToken=s());else{var n=new Date;t.data.expiresIn>14400?n.setSeconds(n.getSeconds()+14400):n.setSeconds(n.getSeconds()+t.data.expiresIn),e._accessToken.setData({token:t.data.accessToken,type:t.data.tokenType,expiry:n}),_.isUndefined(window.sessionStorage)||window.sessionStorage.setItem("bm-helper-userdal/_accessToken",JSON.stringify(e._accessToken.data))}return Promise.resolve(e._accessToken)})},v.getAccessToken=function(){var e=this;if(!_.isUndefined(window.sessionStorage)&&window.sessionStorage.getItem("bm-helper-userdal/_accessToken")){var t=JSON.parse(window.sessionStorage.getItem("bm-helper-userdal/_accessToken"));return t.expiry=new Date(t.expiry),e._accessToken.setData(t),_.isEmpty(e._accessToken.data.token)||e._accessToken.data.expiry.getTime()<(new Date).getTime()?e._updateAccessToken():Promise.resolve(e._accessToken)}return e._updateAccessToken()},v.setV3DevicesRegister=function(){var e=this;return e.getAccessToken().then(function(t){return _.isEmpty(t.data.token)?Promise.resolve(null):m({accessToken:t,options:e._options}).fetch()})},v.getV3DevicesCurrent=function(){var e=this;return e.getAccessToken().then(function(t){return _.isEmpty(t.data.token)?Promise.resolve(null):p({accessToken:t,options:e._options}).fetch()})},v.getV3Profiles=function(){var e=this;return e.getAccessToken().then(function(t){return _.isEmpty(t.data.token)?Promise.resolve(null):c({accessToken:t,options:e._options}).fetch()})},v.getV3ProfilesLastpos=function(e){var t=this;return t.getAccessToken().then(function(n){return _.isEmpty(n.data.token)?Promise.resolve(null):d({accessToken:n,profileId:e.profileId,contentPackageId:e.contentPackageId,options:t._options}).fetch()})},v.setV3ProfilesLastpos=function(e){var t=this;return t.getAccessToken().then(function(n){return _.isEmpty(n.data.token)?Promise.resolve(null):u({accessToken:n,profileId:e.profileId,contentId:e.contentId,contentPackageId:e.contentPackageId,position:e.position,duration:_.isFinite(e.duration)?e.duration:0,options:t._options}).fetch()})},v.getErrorHelperUserdalError=function(e){if(e instanceof r)return e;if(!(e instanceof o))return new r(r.RESPONSE_UNKNOWN);if(!e.jqXHR||!e.jqXHR.responseText)return new r(r.RESPONSE_UNKNOWN);try{var t=JSON.parse(e.jqXHR.responseText);if(t.ErrorCode){var n=r.RESPONSE_UNKNOWN;switch(t.ErrorCode){case"400":n=r.RESPONSE_400;break;case"401":n=r.RESPONSE_401;break;case"404":n=r.RESPONSE_404;break;case"500":n=r.RESPONSE_500;break;case"503":n=r.RESPONSE_503;break;case"504":n=r.RESPONSE_504;break;default:n=r.RESPONSE_UNKNOWN}return new r(n)}return new r(r.RESPONSE_UNKNOWN)}catch(e){return new r(r.RESPONSE_UNKNOWN)}},t.exports=b},{"./exceptions/bm-helper-userdal":98,"./models/access-token":99,"./models/user-accounts-login":100,"./models/user-v3-devices-current":101,"./models/user-v3-devices-register":102,"./models/user-v3-profiles":105,"./models/user-v3-profiles-lastpos-get":103,"./models/user-v3-profiles-lastpos-set":104,"@bellmedia/bm-base":11,"@bellmedia/bm-base-helper":5,bluebird:16,"bm-ajax/exceptions/bm-ajax":35,"bm-helper-auth-adapter":60,"bm-service-factory-auth":116,underscore:32}],97:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-config"),o=function(){if(!(this instanceof o))return new o;o.super_.call(this),this.setDefault({resourceCode:"",destinationCode:"",platformCode:"",grantType:"akamaiToken",host:"users.9c9media.com"})};i.inherits(o,a),t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-config":1}],98:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base-error"),a=e("@bellmedia/bm-base"),o=function(e){o.super_.apply(this,arguments)};a.inherits(o,i),o.RESPONSE_400="response 400",o.RESPONSE_401="response 401",o.RESPONSE_404="response 404",o.RESPONSE_500="response 500",o.RESPONSE_503="response 503",o.RESPONSE_504="response 504",o.RESPONSE_UNKNOWN="response unknown",t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-error":2}],99:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=function(){if(!(this instanceof o))return new o;o.super_.call(this);var e=new Date;e.setSeconds(e.getSeconds()-30),this.setDefault({token:"",type:"",expiry:e})};i.inherits(o,a),t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6}],100:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=e("../exceptions/bm-helper-userdal"),r=e("bm-ajax"),s=e("underscore"),l=r(),c=function(e){if(!(this instanceof c))return new c(e);c.super_.call(this,e),this.setDefault({accessToken:"",tokenType:"",expiresIn:0}),this._identityTokenObject=e.identityTokenObject,this._options=e.options.data};i.inherits(c,a);var d=c.prototype;d._identityTokenObject=void 0,d._options=void 0,d.sync=function(e){var t=this,n=c.PATH,i="https://"+this._options.host+n,a={ait:JSON.stringify(t._identityTokenObject),channel:t._options.resourceCode,dest:t._options.destinationCode,platform:t._options.platformCode,grant_type:t._options.grantType};l.postJson(i,a).then(function(t){if(s.isEmpty(t))e(new o(o.RESPONSE_UNKNOWN));else{var n={accessToken:s.isUndefined(t.access_token)?"":t.access_token,tokenType:s.isUndefined(t.token_type)?"":t.token_type,expiresIn:s.isUndefined(t.expires_in)?0:t.expires_in};e(null,n)}},function(t){e(t)})},c.PATH="/Accounts/Login",t.exports=c},{"../exceptions/bm-helper-userdal":98,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],101:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=e("../exceptions/bm-helper-userdal"),r=e("bm-ajax"),s=e("underscore"),l=r(),c=function(e){if(!(this instanceof c))return new c(e);c.super_.call(this,e),this.setDefault(!0),this._accessToken=e.accessToken,this._options=e.options.data};i.inherits(c,a);var d=c.prototype;d._accessToken=void 0,d._options=void 0,d.sync=function(e){var t=this,n=c.PATH,i="https://"+this._options.host+n,a={Authorization:t._accessToken.data.type+" "+t._accessToken.data.token};l.getJson(i,{},{headers:a,xhrFields:{withCredentials:!0}}).then(function(t){null===t?e(null,null):s.isObject(t)?e(null,{id:t.DeviceId?t.DeviceId:"",description:t.DeviceDesc?t.DeviceDesc:"",lastTimeUsed:t.LastTimeUsed?t.LastTimeUsed:""}):e(new o(o.RESPONSE_UNKNOWN))},function(t){e(t)})},c.PATH="/v3/Devices/Current",t.exports=c},{"../exceptions/bm-helper-userdal":98,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],102:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=e("../exceptions/bm-helper-userdal"),r=e("bm-ajax"),s=e("underscore"),l=r(),c=function(e){if(!(this instanceof c))return new c(e);c.super_.call(this,e),this.setDefault(!0),this._accessToken=e.accessToken,this._options=e.options.data};i.inherits(c,a);var d=c.prototype;d._accessToken=void 0,d._options=void 0,d.sync=function(e){var t=this,n=c.PATH,i="https://"+this._options.host+n,a={Authorization:t._accessToken.data.type+" "+t._accessToken.data.token},r={};l.postJson(i,r,{headers:a,xhrFields:{withCredentials:!0}}).then(function(t){if(s.isEmpty(t))e(new o(o.RESPONSE_UNKNOWN));else{var n={isSuccess:!!t.isAllowed,isLimitReached:!(!t.FailReason||!t.FailReason.IsLimitReached),failDescription:t.FailReason&&t.FailReason.Descr?t.FailReason.Descr:""};e(null,n)}},function(t){e(t)})},c.PATH="/v3/Devices/Register",t.exports=c},{"../exceptions/bm-helper-userdal":98,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],103:[function(e,t,n){
var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=e("../exceptions/bm-helper-userdal"),r=e("bm-ajax"),s=e("underscore"),l=r(),c=function(e){if(!(this instanceof c))return new c(e);c.super_.call(this,e),this.setDefault(!0),this._accessToken=e.accessToken,this._params={profileId:e.profileId,contentPackageId:e.contentPackageId},this._options=e.options.data};i.inherits(c,a);var d=c.prototype;d._accessToken=void 0,d._params={},d._options=void 0,d.sync=function(e){var t=this,n=c.PATH.replace("{profileId}",t._params.profileId).replace("{contentPackageId}",t._params.contentPackageId),i="https://"+this._options.host+n,a={Authorization:t._accessToken.data.type+" "+t._accessToken.data.token};l.getJson(i,{},{headers:a}).then(function(t){s.isNumber(t)?e(null,t):e(new o(o.RESPONSE_UNKNOWN))},function(t){e(t)})},c.PATH="/v3/Profiles/{profileId}/LastPos/{contentPackageId}",t.exports=c},{"../exceptions/bm-helper-userdal":98,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],104:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=(e("../exceptions/bm-helper-userdal"),e("bm-ajax")),r=(e("underscore"),o()),s=function(e){if(!(this instanceof s))return new s(e);s.super_.call(this,e),this.setDefault(!0),this._accessToken=e.accessToken,this._params={profileId:e.profileId,contentId:e.contentId,contentPackageId:e.contentPackageId,position:e.position,duration:e.duration},this._options=e.options.data};i.inherits(s,a);var l=s.prototype;l._accessToken=void 0,l._params={},l._options=void 0,l.sync=function(e){var t=this,n=s.PATH.replace("{profileId}",t._params.profileId).replace("{contentPackageId}",t._params.contentPackageId),i={access_token:t._accessToken.data.token,ContentId:t._params.contentId,Pos:parseInt(t._params.position),Length:parseInt(t._params.duration)},a="https://"+this._options.host+n;r.getJson(a,i,{xhrFields:{withCredentials:!0}}).then(function(t){e(null,!0)},function(t){e(null,!0)})},s.PATH="/v3/Profiles/{profileId}/LastPos/{contentPackageId}/set",t.exports=s},{"../exceptions/bm-helper-userdal":98,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],105:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=e("../exceptions/bm-helper-userdal"),r=e("bm-ajax"),s=e("underscore"),l=r(),c=function(e){if(!(this instanceof c))return new c(e);c.super_.call(this,e),this.setDefault([{id:"",name:""}]),this._accessToken=e.accessToken,this._options=e.options.data};i.inherits(c,a);var d=c.prototype;d._accessToken=void 0,d._options=void 0,d.sync=function(e){var t=this,n=c.PATH,i="https://"+this._options.host+n,a={Authorization:t._accessToken.data.type+" "+t._accessToken.data.token};l.getJson(i,{},{headers:a}).then(function(t){if(s.isArray(t)){var n=[];s.each(t,function(e){n.push({id:s.isUndefined(e.Id)?"":e.Id,name:s.isUndefined(e.Name)?"":e.Name})}),e(null,n)}else e(new o(o.RESPONSE_UNKNOWN))},function(t){e(t)})},c.PATH="/v3/Profiles",t.exports=c},{"../exceptions/bm-helper-userdal":98,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,"bm-ajax":34,underscore:32}],106:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-media-provider"),o=(e("@bellmedia/bm-base-model"),e("bm-media-provider/models/media-info")),r=o,s=e("bm-media-provider/models/media-info-related"),l=e("./exceptions/bm-media-provider-capi-bond"),c=e("bm-model-video-segments"),d=(e("./configs/options"),e("bm-helper-metadata-capi-video")),u=e("bm-helper-capi/exceptions/bm-helper-capi");BmHelperCapi=e("bm-helper-capi"),serviceCapi=e("bm-service-factory-capi"),bmHelperMetadataCapiVideo=d,Promise=e("bluebird"),_=e("underscore");var p=p=function(e){if(!(this instanceof p))return new p(e);p.super_.apply(this,arguments),this._options=e,this._serviceCapi=serviceCapi()};i.inherits(p,a);var m=p.prototype;m._serviceCapi=void 0,m._options=void 0,m._cacheId2Cdn={},m.getErrorMediaProviderCapiError=function(e){if(e instanceof l)return e;if(!(e instanceof u))return new l(l.RESPONSE_UNKNOWN);try{l.RESPONSE_UNKNOWN;switch(e.message){case u.RESPONSE_401:l.RESPONSE_401;break;case u.RESPONSE_403_71:l.RESPONSE_403_71;break;case u.RESPONSE_403_72:l.RESPONSE_403_72;break;case u.RESPONSE_403_73:l.RESPONSE_403_73;break;case u.RESPONSE_403_75:l.RESPONSE_403_75;break;case u.RESPONSE_403_76:l.RESPONSE_403_76;break;case u.RESPONSE_404:l.RESPONSE_404;break;case u.RESPONSE_500:l.RESPONSE_500;break;case u.RESPONSE_503:l.RESPONSE_503;break;case u.RESPONSE_504:l.RESPONSE_504;break;default:l.RESPONSE_UNKNOWN}}catch(e){return new l(l.RESPONSE_UNKNOWN)}},m.getMediaInfoArray=function(e){var t=this,n=[];return e.forEach(function(e){n.push(t.getMediaInfo(e))}),Promise.all(n)},m.getMediaInfo=function(e){var t=this,n=bmHelperMetadataCapiVideo();return t._serviceCapi.getInstance().getContents(e).then(function(e){return{modelContent:e,metadata:n.formatMetadata(e.data,t._options.data.brandType)}}).then(function(n){return Promise.all([Promise.resolve(n.metadata),Promise.resolve(n.modelContent),t._serviceCapi.getInstance().getContentsPackages(e)])}).then(function(e){var n=e[0],i=e[1].data,a=e[2].data;t._cacheId2Cdn[a.contentId]=a.CDN;var s=[],l=p.MANIFEST_PATH.replace("{destinationCode}",t._options.data.destinationCode).replace("{platformCode}",t._options.data.platformCode).replace("{contentId}",a.contentId).replace("{contentPackageId}",a.contentPackageId),c=l.replace("{extension}","vtt");return _.each(t._options.data.extensions,function(e,n){if(!a.requireDrm||e.drmType){var i=l.replace("{extension}",n),r="https://"+t._options.data.host+i;s.push({file:r,drmType:a.requireDrm?e.drmType:o.DRM_TYPE_NONE,drm:a.requireDrm?BmHelperCapi.prepareSourceDRM(e).drmServer:{},captions:{en:a.hasClosedCaptions?"https://"+t._options.data.host+c:""}})}}),r().setData({mediaId:a.contentId,title:n||i.content.title,description:i.content.description,image:i.content.image+"?width=640&maintain_aspect=1",isLive:!(!_.isString(i.content.type)||"stream"!==i.content.type),minDvrWindow:o.MIN_DVR_WINDOW,authz:{required:a.auth.required,resourceCode:_.isEmpty(a.auth.arrResourceCode)?"":a.auth.arrResourceCode[0]},sources:s})}).catch(function(e){return Promise.resolve(null)})},m.getMediaInfoRelated=function(e){var t=this;return t._serviceCapi.getInstance().getMediasRelatedCollectionsByContentId(e).then(function(n){var i=n?n.data:[];return _.isEmpty(i.collections)?t._serviceCapi.getInstance().getContentsRelatedContents(e).then(function(e){var n=e.data;return t.getMediaInfoArray(n).then(function(e){return e=_.filter(e,function(e){return null!==e}),s().setData({title:"",description:"",items:e})})}):t._serviceCapi.getInstance().getCollectionsContentsByContendId(e).then(function(e){var n=e.data;return t.getMediaInfoArray(n).then(function(e){return e=_.filter(e,function(e){return null!==e}),s().setData({title:i.collections[0].title,description:"",items:e})})})}).catch(function(e){return Promise.reject(t.getErrorMediaProviderCapiError(e))})},m.getMediaInfoUpnext=function(e){var t=this;return t._serviceCapi.getInstance().getContentsNextContents(e).then(function(e){return t._serviceCapi.getInstance().getContentsPackages(e.data.contentId)}).then(function(e){var n=e.data,i=[],a=p.MANIFEST_PATH.replace("{destinationCode}",t._options.data.destinationCode).replace("{platformCode}",t._options.data.platformCode).replace("{contentId}",n.contentId).replace("{contentPackageId}",n.contentPackageId),s=a.replace("{extension}","vtt");return _.each(t._options.data.extensions,function(e,r){var l=a.replace("{extension}",r),c="//"+t._options.data.host+l;i.push({file:c,drmType:n.requireDrm?e.drmType:o.DRM_TYPE_NONE,drm:n.requireDrm?BmHelperCapi.prepareSourceDRM(e).drmServer:{},captions:{en:n.hasClosedCaptions?"https://"+t._options.data.host+s:""}})}),r().setData({mediaId:n.contentId,title:capiContent.content.title,description:capiContent.content.description,image:capiContent.content.image,isLive:!(!_.isString(capiContent.content.type)||"stream"!==capiContent.content.type),authz:{required:n.auth.required,resourceCode:_.isEmpty(n.auth.arrResourceCode)?"":n.auth.arrResourceCode[0]},sources:i})}).catch(function(e){return Promise.reject(t.getErrorMediaProviderCapiError(e))})},m.getMediaSegments=function(e){var t=this;return Promise.all([t._serviceCapi.getInstance().getContents(e),t._serviceCapi.getInstance().getContentsPackages(e)]).then(function(e){var t=e[0].data,n=e[1].data,i=n.adRulesTimeLine,a=0===i.length?[{type:"content",duration:t.duration}]:i,o=0;return _.filter(a,function(e){return"content"===e.type}).map(function(e){var t={duration:e.duration,position:o};return o+=e.duration,c().setData(t)})}).catch(function(e){return Promise.reject(t.getErrorMediaProviderCapiError(e))})},p.MANIFEST_PATH="/destinations/{destinationCode}/platforms/{platformCode}/bond/contents/{contentId}/contentpackages/{contentPackageId}/manifest.{extension}",t.exports=p},{"./configs/options":107,"./exceptions/bm-media-provider-capi-bond":108,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,bluebird:16,"bm-helper-capi":63,"bm-helper-capi/exceptions/bm-helper-capi":65,"bm-helper-metadata-capi-video":81,"bm-media-provider":112,"bm-media-provider/models/media-info":114,"bm-media-provider/models/media-info-related":113,"bm-model-video-segments":115,"bm-service-factory-capi":117,underscore:32}],107:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-config"),o=e("bm-media-provider/models/media-info"),r=function(){if(!(this instanceof r))return new r;r.super_.call(this),this.setDefault({brandType:"",destinationCode:"",platformCode:"",$lang:"en",host:"capi.9c9media.com",extensions:{mpd:{drmType:o.DRM_TYPE_WIDEVINE,drmServer:{url:"https://license.9c9media.ca/widevine",serverCertificateUrl:""}},pmpd:{drmType:o.DRM_TYPE_PLAYREADY,drmServer:"https://license.9c9media.ca/playready"},m3u8:{},am3u8:{drmType:o.DRM_TYPE_FAIRPLAY_APPLE,drmServer:{certificateUrl:"https://license.9c9media.ca/fairplay/cert",processSpcUrl:"https://license.9c9media.ca/fairplay/ckc"}}},type:"capi/papi",enableBond:!1})};i.inherits(r,a),t.exports=r},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-config":1,"bm-media-provider/models/media-info":114}],108:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base-error"),a=e("@bellmedia/bm-base"),o=function(e){o.super_.apply(this,arguments)};a.inherits(o,i),o.RESPONSE_401="response 401",o.RESPONSE_403="response 403",o.RESPONSE_403_71="response 403.71",o.RESPONSE_403_72="response 403.72",o.RESPONSE_403_73="response 403.73",o.RESPONSE_403_75="response 403.75",o.RESPONSE_403_76="response 403.76",o.RESPONSE_404="response 404",o.RESPONSE_500="response 500",o.RESPONSE_503="response 503",o.RESPONSE_504="response 504",o.RESPONSE_UNKNOWN="response unknown",t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-error":2}],109:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-media-provider"),o=(e("@bellmedia/bm-base-model"),e("bm-media-provider/models/media-info")),r=o,s=e("bm-media-provider/models/media-info-related"),l=e("./exceptions/bm-media-provider-capi"),c=e("bm-model-video-segments"),d=(e("./configs/options"),e("bm-helper-metadata-capi-video")),u=e("bm-helper-capi/exceptions/bm-helper-capi"),p=e("bm-helper-capi"),m=e("bm-service-factory-capi"),h=d,f=e("bluebird"),_=e("underscore"),b=bmMediaProviderCapi=function(e){if(!(this instanceof b))return new b(e);b.super_.apply(this,arguments),this._options=e,this._serviceCapi=m()};i.inherits(b,a);var v=b.prototype;v._serviceCapi=void 0,v._options=void 0,v._cacheId2Cdn={},v.getErrorMediaProviderCapiError=function(e){if(e instanceof l)return e;if(!(e instanceof u))return new l(l.RESPONSE_UNKNOWN);try{l.RESPONSE_UNKNOWN;switch(e.message){case u.RESPONSE_401:l.RESPONSE_401;break;case u.RESPONSE_403_71:l.RESPONSE_403_71;break;case u.RESPONSE_403_72:l.RESPONSE_403_72;break;case u.RESPONSE_403_73:l.RESPONSE_403_73;break;case u.RESPONSE_403_75:l.RESPONSE_403_75;break;case u.RESPONSE_403_76:l.RESPONSE_403_76;break;case u.RESPONSE_404:l.RESPONSE_404;break;case u.RESPONSE_500:l.RESPONSE_500;break;case u.RESPONSE_503:l.RESPONSE_503;break;case u.RESPONSE_504:l.RESPONSE_504;break;default:l.RESPONSE_UNKNOWN}}catch(e){return new l(l.RESPONSE_UNKNOWN)}},v.getCdn=function(e){return this._cacheId2Cdn[e]?this._cacheId2Cdn[e]:""},v.getMediaInfoArray=function(e){var t=this,n=[];return e.forEach(function(e){n.push(t.getMediaInfo(e))}),f.all(n)},v.getMediaInfo=function(e){var t=this,n=h();return t._serviceCapi.getInstance().getContents(e).then(function(e){return{modelContent:e,metadata:n.formatMetadata(e.data,t._options.data.brandType)}}).then(function(n){return f.all([f.resolve(n.metadata),f.resolve(n.modelContent),t._serviceCapi.getInstance().getContentsPackages(e)])}).then(function(e){var n=e[0],i=e[1].data,a=e[2].data;t._cacheId2Cdn[a.contentId]=a.CDN;var s=[],l=b.MANIFEST_PATH.replace("{destinationCode}",t._options.data.destinationCode).replace("{platformCode}",t._options.data.platformCode).replace("{contentId}",a.contentId).replace("{contentPackageId}",a.contentPackageId),c=l.replace("{extension}","vtt");return _.each(t._options.data.extensions,function(e,n){if(!a.requireDrm||e.drmType){var i=l.replace("{extension}",n),r="https://"+t._options.data.host+i;s.push({file:r,drmType:a.requireDrm?e.drmType:o.DRM_TYPE_NONE,drm:a.requireDrm?p.prepareSourceDRM(e).drmServer:{},captions:{en:a.hasClosedCaptions?"https://"+t._options.data.host+c:""}})}}),r().setData({mediaId:a.contentId,title:n||i.content.title,description:i.content.description,image:i.content.image+"?width=640&maintain_aspect=1",isLive:!(!_.isString(i.content.type)||"stream"!==i.content.type),minDvrWindow:o.MIN_DVR_WINDOW,authz:{required:a.auth.required,resourceCode:_.isEmpty(a.auth.arrResourceCode)?"":a.auth.arrResourceCode[0]},sources:s})}).catch(function(e){return f.resolve(null)})},v.getMediaInfoRelated=function(e){var t=this;return t._serviceCapi.getInstance().getMediasRelatedCollectionsByContentId(e).then(function(n){var i=n?n.data:[];return _.isEmpty(i.collections)?t._serviceCapi.getInstance().getContentsRelatedContents(e).then(function(e){var n=e.data;return t.getMediaInfoArray(n).then(function(e){return e=_.filter(e,function(e){return null!==e}),s().setData({title:"",description:"",items:e})})}):t._serviceCapi.getInstance().getCollectionsContentsByContendId(e).then(function(e){var n=e.data;return t.getMediaInfoArray(n).then(function(e){return e=_.filter(e,function(e){return null!==e}),s().setData({title:i.collections[0].title,description:"",items:e})})})}).catch(function(e){return f.reject(t.getErrorMediaProviderCapiError(e))})},v.getMediaInfoUpnext=function(e){var t=this;return t._serviceCapi.getInstance().getContentsNextContents(e).then(function(e){return t._serviceCapi.getInstance().getContentsPackages(e.data.contentId)}).then(function(e){var n=e.data,i=[],a=b.MANIFEST_PATH.replace("{destinationCode}",t._options.data.destinationCode).replace("{platformCode}",t._options.data.platformCode).replace("{contentId}",n.contentId).replace("{contentPackageId}",n.contentPackageId),s=a.replace("{extension}","vtt");return _.each(t._options.data.extensions,function(e,r){var l=a.replace("{extension}",r),c="//"+t._options.data.host+l;i.push({file:c,drmType:n.requireDrm?e.drmType:o.DRM_TYPE_NONE,drm:n.requireDrm?p.prepareSourceDRM(e).drmServer:{},captions:{en:n.hasClosedCaptions?"https://"+t._options.data.host+s:""}})}),r().setData({mediaId:n.contentId,title:capiContent.content.title,description:capiContent.content.description,image:capiContent.content.image,isLive:!(!_.isString(capiContent.content.type)||"stream"!==capiContent.content.type),authz:{required:n.auth.required,resourceCode:_.isEmpty(n.auth.arrResourceCode)?"":n.auth.arrResourceCode[0]},sources:i})}).catch(function(e){return f.reject(t.getErrorMediaProviderCapiError(e))})},v.getMediaSegments=function(e){var t=this;return f.all([t._serviceCapi.getInstance().getContents(e),t._serviceCapi.getInstance().getContentsPackages(e)]).then(function(e){var t=e[0].data,n=e[1].data,i=n.adRulesTimeLine,a=0===i.length?[{type:"content",duration:t.duration}]:i,o=0;return _.filter(a,function(e){return"content"===e.type}).map(function(e){var t={duration:e.duration,position:o};return o+=e.duration,c().setData(t)})}).catch(function(e){return f.reject(t.getErrorMediaProviderCapiError(e))})},b.MANIFEST_PATH="/destinations/{destinationCode}/platforms/{platformCode}/contents/{contentId}/contentpackages/{contentPackageId}/manifest.{extension}",t.exports=b},{"./configs/options":110,"./exceptions/bm-media-provider-capi":111,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6,bluebird:16,"bm-helper-capi":63,"bm-helper-capi/exceptions/bm-helper-capi":65,"bm-helper-metadata-capi-video":81,"bm-media-provider":112,"bm-media-provider/models/media-info":114,"bm-media-provider/models/media-info-related":113,"bm-model-video-segments":115,"bm-service-factory-capi":117,underscore:32}],110:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-config"),o=e("bm-media-provider/models/media-info"),r=function(){if(!(this instanceof r))return new r;r.super_.call(this),this.setDefault({brandType:"",destinationCode:"",platformCode:"",$lang:"en",host:"capi.9c9media.com",extensions:{mpd:{drmType:o.DRM_TYPE_WIDEVINE,drmServer:{url:"https://license.9c9media.ca/widevine",serverCertificateUrl:""}},pmpd:{drmType:o.DRM_TYPE_PLAYREADY,drmServer:"https://license.9c9media.ca/playready"},m3u8:{},am3u8:{drmType:o.DRM_TYPE_FAIRPLAY_APPLE,drmServer:{certificateUrl:"https://license.9c9media.ca/fairplay/cert",processSpcUrl:"https://license.9c9media.ca/fairplay/ckc"}}}})};i.inherits(r,a),t.exports=r},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-config":1,"bm-media-provider/models/media-info":114}],111:[function(e,t,n){arguments[4][108][0].apply(n,arguments)},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-error":2,dup:108}],112:[function(e,t,n){var i=e("@bellmedia/bm-base");BMBaseModel=e("@bellmedia/bm-base-model");var a=function(e){if(!(this instanceof a))return new a(e);a.super_.apply(this,arguments),this._arrMediaId=e};i.inherits(a,i);var o=a.prototype;o._arrMediaId=[],o.getMediaIdArray=function(){return this._arrMediaId},o.getMediaInfoArray=i.abstractMethod,o.getMediaInfo=i.abstractMethod,o.getMediaInfoRelated=i.abstractMethod,o.getMediaInfoUpnext=i.abstractMethod,o.getMediaSegments=i.abstractMethod,t.exports=a},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6}],113:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=function(){if(!(this instanceof o))return new o;o.super_.call(this),this.setDefault({title:"",description:"",items:[]})};i.inherits(o,a),t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6}],114:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=function(){if(!(this instanceof o))return new o;o.super_.call(this),this.setDefault({mediaId:"",title:"",description:"",image:"",isLive:!1,authz:{required:!1,resourceCode:""},sources:[{file:"",drmType:o.DRM_TYPE_NONE,drm:{},captions:{en:""}}]})};i.inherits(o,a),o.DRM_TYPE_NONE="drm_type_none",o.DRM_TYPE_WIDEVINE="drm_type_widevine",o.DRM_TYPE_PLAYREADY="drm_type_playready",o.DRM_TYPE_FAIRPLAY_APPLE="drm_type_fairplay_apple",o.MIN_DVR_WINDOW=7200,t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6}],115:[function(e,t,n){var i=e("@bellmedia/bm-base-model");t.exports=function(){return i().setDefault([{duration:0,position:0}])}},{"@bellmedia/bm-base-model":6}],116:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-base-service-factory"),o=e("bm-helper-auth-adapter-bmauth2"),r=e("bm-helper-auth-adapter-jwtauth"),s=e("bm-base-factory/exceptions/bm-base-factory"),l=null,c={},d=void 0,u=function(){if(!(this instanceof u))return new u;u.super_.call(this)};i.inherits(u,a),bmsft=u.prototype,bmsft.injectDependencies=function(e){d=e},bmsft.getInstance=function(e){if(!e){if(!l)throw new s(s.DEFAULT_NOT_EXIST);e=l}var t=c&&c[e];if(t)return t;switch(e){case u.TYPE_BMAUTH2:c[e]=this._createAuthBmauth2();break;case u.TYPE_JWTAUTH:c[e]=this._createAuthJwt();break;default:throw new s(s.TYPE_NOT_EXIST)}return c[e]},bmsft.setDefaultType=function(e){l=e},bmsft.getDefaultType=function(e){return l},bmsft._createAuthBmauth2=function(){if(!d)throw new s(s.DEPENDENCY_NOT_INJECTED_YET);return o()},bmsft._createAuthJwt=function(){if(!d)throw new s(s.DEPENDENCY_NOT_INJECTED_YET);return r()},u.TYPE_BMAUTH2="type_bmauth2",u.TYPE_JWTAUTH="type_jwtauth",t.exports=u},{"@bellmedia/bm-base":11,"bm-base-factory/exceptions/bm-base-factory":44,"bm-base-service-factory":45,"bm-helper-auth-adapter-bmauth2":58,"bm-helper-auth-adapter-jwtauth":59}],117:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-base-service-factory"),o=e("bm-helper-capi"),r=e("bm-base-factory/exceptions/bm-base-factory"),s=e("underscore"),l=null,c={},d=void 0,u=function(){if(!(this instanceof u))return new u;u.super_.call(this)};i.inherits(u,a),bmsft=u.prototype,bmsft.injectDependencies=function(e){d=e},bmsft.getInstance=function(e){if(!e){if(!l)throw new r(r.DEFAULT_NOT_EXIST);e=l}var t=c&&c[e];if(t&&s.isEqual(d.capiConfig.data,c[e]._options.data))return t;switch(e){case u.TYPE_CAPI:c[e]=this._createHelperCapi();break;default:throw new r(r.TYPE_NOT_EXIST)}return c[e]},bmsft.setDefaultType=function(e){l=e},bmsft.getDefaultType=function(e){return l},bmsft._createHelperCapi=function(){var e=d;if(!e)throw new r(r.DEPENDENCY_NOT_INJECTED_YET);return o(e.capiConfig)},u.TYPE_CAPI="type_capi",t.exports=u},{"@bellmedia/bm-base":11,"bm-base-factory/exceptions/bm-base-factory":44,"bm-base-service-factory":45,"bm-helper-capi":63,underscore:32}],118:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-base-service-factory"),o=e("bm-media-provider-capi"),r=e("bm-media-provider-capi-bond"),s=e("bm-base-factory/exceptions/bm-base-factory"),l=e("underscore"),c=null,d={},u=void 0,p=function(){if(!(this instanceof p))return new p;p.super_.call(this)};i.inherits(p,a),bmsft=p.prototype,bmsft.injectDependencies=function(e){u=e},bmsft.getInstance=function(e){if(!e){if(!c)throw new s(s.DEFAULT_NOT_EXIST);e=c}var t=d&&d[e];if(t&&l.isEqual(u.mediaProviderCapiConfig.data,d[e]._options.data))return t;switch(e){case p.TYPE_CAPI:d[e]=this._createMediaProviderCapi();break;case p.TYPE_CAPI_BOND:d[e]=this._createMediaProviderCapiBond();break;default:throw new s(s.TYPE_NOT_EXIST)}return d[e]},bmsft.setDefaultType=function(e){c=e},bmsft.getDefaultType=function(e){return c},bmsft._createMediaProviderCapi=function(){var e=u;if(!e)throw new s(s.DEPENDENCY_NOT_INJECTED_YET);return o(e.mediaProviderCapiConfig)},bmsft._createMediaProviderCapiBond=function(){var e=u;if(!e)throw new s(s.DEPENDENCY_NOT_INJECTED_YET);return r(e.mediaProviderCapiConfig)},p.TYPE_CAPI="type_capi",p.TYPE_CAPI_BOND="type_capi_bond",t.exports=p},{"@bellmedia/bm-base":11,"bm-base-factory/exceptions/bm-base-factory":44,"bm-base-service-factory":45,"bm-media-provider-capi":109,"bm-media-provider-capi-bond":106,underscore:32}],119:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-base-service-factory"),o=e("bm-helper-reco"),r=e("bm-base-factory/exceptions/bm-base-factory"),s=e("underscore"),l=null,c={},d=void 0,u=function(){if(!(this instanceof u))return new u;u.super_.call(this)};i.inherits(u,a),bmsft=u.prototype,bmsft.injectDependencies=function(e){d=e},bmsft.getInstance=function(e){if(!e){if(!l)throw new r(r.DEFAULT_NOT_EXIST);e=l}var t=c&&c[e];if(t&&s.isEqual(d.recoConfig.data,c[e]._options.data))return t;switch(e){case u.TYPE_RECO:c[e]=this._createHelperReco();break;default:throw new r(r.TYPE_NOT_EXIST)}return c[e]},bmsft.setDefaultType=function(e){l=e},bmsft.getDefaultType=function(e){return l},bmsft._createHelperReco=function(){var e=d;if(!e)throw new r(r.DEPENDENCY_NOT_INJECTED_YET);return o(e.recoConfig)},u.TYPE_RECO="type_reco",t.exports=u},{"@bellmedia/bm-base":11,"bm-base-factory/exceptions/bm-base-factory":44,"bm-base-service-factory":45,"bm-helper-reco":84,underscore:32}],120:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-base-service-factory"),o=e("bm-translation-map"),r=e("bm-base-factory/exceptions/bm-base-factory"),s=null,l={},c=void 0,d=function(){if(!(this instanceof d))return new d;d.super_.call(this)};i.inherits(d,a),bmsft=d.prototype,bmsft.injectDependencies=function(e){c=e},bmsft.getInstance=function(e){if(!e){if(!s)throw new r(r.DEFAULT_NOT_EXIST);e=s}var t=l&&l[e];if(t)return t;switch(l||(l={}),e){case d.TYPE_MAP:l[e]=this._createTranslationMap();break;default:throw new r(r.TYPE_NOT_EXIST)}return l[e]},bmsft.setDefaultType=function(e){s=e},bmsft.getDefaultType=function(e){return s},bmsft._createTranslationMap=function(){var e=c;if(!e)throw new r(r.DEPENDENCY_NOT_INJECTED_YET);return o(e.uiLanguageCode,e.translations,e.mapOptions)},d.TYPE_MAP="type_map",t.exports=d},{"@bellmedia/bm-base":11,"bm-base-factory/exceptions/bm-base-factory":44,"bm-base-service-factory":45,"bm-translation-map":122}],121:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-base-service-factory"),o=e("bm-helper-userdal"),r=e("bm-base-factory/exceptions/bm-base-factory"),s=e("underscore"),l=null,c={},d=void 0,u=function(){if(!(this instanceof u))return new u;u.super_.call(this)};i.inherits(u,a),bmsft=u.prototype,bmsft.injectDependencies=function(e){d=e},bmsft.getInstance=function(e){if(!e){if(!l)throw new r(r.DEFAULT_NOT_EXIST);e=l}var t=c&&c[e];if(t&&s.isEqual(d.userdalConfig.data,c[e]._options.data))return t;switch(e){case u.TYPE_USERDAL:c[e]=this._createHelperUserdal();break;default:throw new r(r.TYPE_NOT_EXIST)}return c[e]},bmsft.setDefaultType=function(e){l=e},bmsft.getDefaultType=function(e){return l},bmsft._createHelperUserdal=function(){var e=d;if(!e)throw new r(r.DEPENDENCY_NOT_INJECTED_YET);return o(e.userdalConfig)},u.TYPE_USERDAL="type_userdal",t.exports=u},{"@bellmedia/bm-base":11,"bm-base-factory/exceptions/bm-base-factory":44,"bm-base-service-factory":45,"bm-helper-userdal":96,underscore:32}],122:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-service"),o=e("./models/model-translation-keys-map"),r=e("./exceptions/bm-translation-map"),s=e("underscore"),l=function(e,t,n){if(!(this instanceof l))return new l(e,t,n);l.super_.apply(this,arguments),this._languageCode=e,this._translations=t,this._mapOptions=o().setData(n).data};i.inherits(l,a);var c=l.prototype;c._languageCode="en",c._translations={},c._mapOptions={},c.translate=function(e,t){var n=this._languageCode&&t||this._languageCode,i=this._translations,a=this._mapOptions.map,o=this._mapOptions.delimiter||".",s=[],l=e;return i?a?(l=a[l])?(s=l.split(o),(l=this._getTranslationFromPath(i,s,n))||e):e:new r(r.MAP_OPTIONS):new r(r.TRANSLATIONS)},c.t=c.translate,c._getTranslationFromPath=function(e,t,n){var i=e;return s.each(t,function(e){if(!i[e])return!1;i=i[e]}),i[n]},c.changeLanguage=function(e){this._languageCode=e},t.exports=l},{"./exceptions/bm-translation-map":123,"./models/model-translation-keys-map":124,"@bellmedia/bm-base":11,"@bellmedia/bm-base-service":9,underscore:32}],123:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base-error"),a=e("@bellmedia/bm-base"),o=function(e){o.super_.apply(this,arguments)};a.inherits(o,i),o.TRANSLATIONS="Translations are not defined!",o.MAP_OPTIONS="Map options are not defined!",t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-error":2}],124:[function(e,t,n){var i=e("@bellmedia/bm-base-model"),a=i;t.exports=function(){return a().setDefault({})}},{"@bellmedia/bm-base-model":6}],125:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin"),o=e("./exceptions/bm-videoplayer-jw-plugin-ad"),r=e("bm-advertisement-helper"),s=e("bm-service-factory-capi"),l=e("underscore"),c=e("bluebird"),d=e("bm-service-factory-translation"),u=function(e,t){if(!(this instanceof u))return new u(e,t);u.super_.call(this,arguments),this._optionsAd=e.data,this._adUnitSuperHub=t};i.inherits(u,a);var p=u.prototype;p._debugKey="bm-ad-debug",p._serviceCapi=void 0,p._optionsAd={},p._originalConvertModelPlaylistToJWPlaylist=void 0,p._adUnitSuperHub={},p._updatedadUnitSuperHub={},p.loadPlugin=function(){this._serviceCapi=s().getInstance(),this.debugLog("[loadPlugin]","Plugin loaded",this),this._originalConvertModelPlaylistToJWPlaylist=this._player._convertModelPlaylistToJWPlaylist,this._player._convertModelPlaylistToJWPlaylist=this._convertModelPlaylistToJWPlaylist.bind(this),this._player._getAdvertistingSetup=this._getAdvertistingSetup.bind(this)},p._getAdvertistingSetup=function(){var e,t=this._optionsAd,n=d().getInstance();if(!0===t.superhubAds.isEnabled)e="indexHeader"===t.desktop.adMode?this._getTagFromIndexHeader():this._getSuperhubAdtag();else if("masterTag"===t.desktop.adMode)e=this._getTagFromMasterTag();else{if("indexHeader"!==t.desktop.adMode)throw new o(o.ERROR_UNKNOWN_ADMODE);e=this._getTagFromIndexHeader()}return{client:"googima",vpaidmode:t.desktop.vpaidmode,tag:e,autoplayAdsMuted:t.mobile.autoplayAdsMuted,vpaidcontrols:t.desktop.enableVpaidControls,admessage:n.t("The ad will end in xx seconds"),cuetext:n.t("Advertisement"),podMessage:n.t("Ad xx of yy"),skipmessage:n.t("Skip ad in xx"),skiptext:n.t("Skip"),loadingAd:n.t("Loading ad"),requestTimeout:1e4}},p._getSuperhubAdtag=function(){var e=this,t=e._optionsAd.desktop.masterTag,n=e._optionsAd.desktop.indexHeader,i=e._optionsAd.desktop,a=r().getAdUnitSuperhub(e._updatedadUnitSuperHub),o=a.adUnitCustParams;if(r().isPermutiveEnabled()){var s=r().getPermutiveCurrentSegments();s&&(o.permutive=s)}var l="/"+r().joinStringByDelimiter([t.iu,a.adUnitLevel1,a.adUnitLevel2,a.adUnitLevel3],"/");this._setMoatData(this._player,{zMoatAdUnitPath:l,zMoatSZ:t.sz});var c=r().createKeyValuePairCustParams(o);return r().getVideoTagAdUrl(t.urlMasterVideoTag,{description_url:n.multiTag.description_url,ad_rule:i.ad_rule,ciu_szs:t.ciu_szs,cmsid:t.cmsid,env:t.env,gdfp_req:t.gdfp_req,iu:l,url:n.multiTag.url,output:n.multiTag.output,sz:t.sz,unviewed_position_start:t.unviewed_position_start,vid:"__item-contentPackageId__",cust_params:c})},p._updateAdUnitSuperhub=function(e){var t=this;t._serviceCapi.getContents(e).then(function(e){var n=e.data,i=n.revShare&&l.isArray(n.revShare)?r().formatRevshare(n.revShare):"na";t._updatedadUnitSuperHub={platform:t._adUnitSuperHub.platform,platformType:t._adUnitSuperHub.platformType,genres:n.content.genres.map(function(e){return r().removeSpecialChars(e.Name)}).join(),product:t._adUnitSuperHub.axisContent.adUnit.product,heroBrand:t._adUnitSuperHub.axisContent.adUnit.heroBrand,pageType:t._adUnitSuperHub.axisContent.adUnit.pageType,revShare:i,title:r().formatTitle(n.media.title),pageTitle:r().formatTitle(n.content.title),mediaType:n.media.type,contentType:n.content.type,group:n.adTarget}})},p._getTagFromMasterTag=function(){var e=this._optionsAd.desktop.masterTag,t=this._optionsAd.desktop,n="/"+e.iu+"/__item-vidiAdSite__/__item-vidiAdZone__",i={};if(r().isPermutiveEnabled()){var a=r().getPermutiveCurrentSegments();a&&(i.permutive=a)}this._setMoatData(this._player,{zMoatAdUnitPath:n,zMoatSZ:e.sz});var o=r().createKeyValuePairCustParams(i);return r().getVideoTagAdUrl(e.urlMasterVideoTag,{ad_rule:t.ad_rule,ciu_szs:e.ciu_szs,cmsid:e.cmsid,env:e.env,gdfp_req:e.gdfp_req,iu:n,output:e.output,sz:e.sz,unviewed_position_start:e.unviewed_position_start,vid:"__item-contentPackageId__",cust_params:o})},p._getTagFromIndexHeader=function(){var e=this._optionsAd.desktop.masterTag,t=this._optionsAd.desktop.indexHeader,n=this._optionsAd.desktop,i={},a="/"+e.iu+"/__item-vidiAdSite__/__item-vidiAdZone__",o="",s={};this._setMoatData(this._player,{zMoatAdUnitPath:a,zMoatSZ:e.sz});var c=t.multiTag.ix_ca;if(n.enableIndexOptimizedPod&&(c=l.extend({},c,t.multiTag.ix_ca_optimized)),!0===this._optionsAd.superhubAds.isEnabled){var d=r().getAdUnitSuperhub(this._updatedadUnitSuperHub);s=d.adUnitCustParams,a="/"+r().joinStringByDelimiter([e.iu,d.adUnitLevel1,d.adUnitLevel2,d.adUnitLevel3],"/"),this._setMoatData(this._player,{zMoatAdUnitPath:a})}if(r().isPermutiveEnabled()){var u=r().getPermutiveCurrentSegments()
;u&&(s.permutive=u)}return o=r().createKeyValuePairCustParams(s),i="1"===n.ad_rule?{ix_s:t.ix_s,ix_vt:e.urlMasterVideoTag,ix_ca:JSON.stringify(c),ix_u:t.ix_u,output:t.multiTag.output,cmsid:e.cmsid,env:e.env,gdfp_req:e.gdfp_req,iu:a,sz:e.sz,unviewed_position_start:e.unviewed_position_start,vid:"__item-contentPackageId__",impl:t.multiTag.impl,url:t.multiTag.url,description_url:t.multiTag.description_url,ad_rule:n.ad_rule,cust_params:o}:{ix_id:t.singleTag.ix_id,ix_v:t.singleTag.ix_v,ix_s:t.ix_s,ix_vt:e.urlMasterVideoTag,ix_sz:t.singleTag.ix_sz,ix_maxd:t.singleTag.ix_maxd,ix_vpos:t.singleTag.ix_vpos,ix_pod:t.singleTag.ix_pod,ix_ppos:t.singleTag.ix_ppos,ix_u:t.ix_u,ix_vami:t.singleTag.ix_vami,ix_api:t.singleTag.ix_api,ix_vastp:t.singleTag.ix_vastp,ix_vastd:t.singleTag.ix_vastd,ciu_szs:e.ciu_szs,cmsid:e.cmsid,env:e.env,gdfp_req:e.gdfp_req,iu:a,output:e.output,sz:e.sz,unviewed_position_start:e.unviewed_position_start,vid:"__item-contentPackageId__",cust_params:o},r().getVideoTagAdUrl(t.urlIndexMasterVideoTag,i)},p._convertModelPlaylistToJWPlaylist=function(e){var t=this,n=this._optionsAd.desktop.masterTag,i=e.getMediaIds();return!0===t._optionsAd.superhubAds.isEnabled&&t._updateAdUnitSuperhub(parseInt(i[0])),new c(function(a,o){t._originalConvertModelPlaylistToJWPlaylist(e).then(function(e){t._getContendPackageIds(i).then(function(t){l.each(e,function(e,i){e.contentPackageId=t[e.mediaid]?t[e.mediaid].toString():"",e.vidiAdSite=l.isEmpty(e.vidiAdSite)?n.adsite:e.vidiAdSite,e.vidiAdZone=l.isEmpty(e.vidiAdZone)?n.adzone:e.vidiAdZone}),a(e)},function(){})},function(e){o(e)})})},p._getContendPackageIds=function(e){return this._serviceCapi.getContentsArray(e).then(function(e){var t=[];return l.each(e,function(e){null!==e&&(t[e.data.contentId]=e.data.contentPackageId)}),c.resolve(t)})},p._setMoatData=function(e,t){var n=l.extend(r().getMoatDataForPlayerInstance(e.getInstanceId()),t);r().setMoatDataForPlayerInstance(e.getInstanceId(),n)},t.exports=u},{"./exceptions/bm-videoplayer-jw-plugin-ad":127,"@bellmedia/bm-base":11,bluebird:16,"bm-advertisement-helper":33,"bm-service-factory-capi":117,"bm-service-factory-translation":120,"bm-videoplayer-plugin":202,underscore:32}],126:[function(e,t,n){var i=e("@bellmedia/bm-base-config");t.exports=function(){return i().setDefault({desktop:{displayAds:!0,ad_rule:"1",adMode:"masterTag",vpaidmode:"insecure",enableVpaidControls:!0,enableIndexOptimizedPod:!1,adPlayControlsRule:!0,masterTag:{urlMasterVideoTag:"pubads.g.doubleclick.net/gampad/ads",cmsid:"2119",adsite:"ctv.ctv.ca",adzone:"video_test_poc",iu:"5479",sz:"1x1",ciu_szs:"300x250",gdfp_req:"1",env:"vp",output:"xml_vast3",unviewed_position_start:"1"},indexHeader:{urlIndexMasterVideoTag:"as-sec.casalemedia.com/playlist",ix_s:"197558",ix_u:"__page-url__",singleTag:{ix_id:"[index_epr]",ix_v:"8",ix_sz:"640x480",ix_maxd:"60",ix_vpos:"preroll",ix_pod:"1",ix_ppos:"1",ix_vami:"video/mp4~application/javascript~video/webm",ix_api:"2",ix_vastp:"2~5~3~6",ix_vastd:"0"},multiTag:{ix_ca:{protocols:[2,3,5,6],mimes:["video/mp4","video/webm","application/javascript"],apiList:[2],size:"640x480",maxAdDuration:30,timeout:1e3,brandExclusion:1},ix_ca_optimized:{durations:[15,30]},output:"vast",impl:"s",url:"[referrer_url]",description_url:"[description_url]"}}},mobile:{autoplayAdsMuted:!1}})}},{"@bellmedia/bm-base-config":1}],127:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base-error"),a=e("@bellmedia/bm-base"),o=function(e){o.super_.apply(this,arguments)};a.inherits(o,i),o.ERROR_UNKNOWN_ADMODE="error_unknown_admode",t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-error":2}],128:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin"),r=e("bm-service-factory-translation"),s=function(e){if(!(this instanceof s))return new s(e);s.super_.call(this,arguments),this._enableOneClickCaptions=e.enableOneClickCaptions,this._playbackLanguage=e.playbackLanguage};i.inherits(s,o);var l=s.prototype;l._enableOneClickCaptions=!1,l._playbackLanguage="en",l._t={t:function(){}},l._ccIconPath="",l._ccTooltipPath="",l._jwplayerInstance=void 0,l._playerEl=void 0,l._captionsList=[],l._stIconControlbarSvg="",l._currentCaptionIndex=0,l._prevCaptionIndex=0,l.loadPlugin=function(){var e=this;e._t=r().getInstance(),e._ccIconPath=" .jw-controls .jw-controlbar .jw-button-container .jw-icon-cc",e._ccTooltipPath=" .jw-controls .jw-controlbar .jw-button-container .jw-icon-cc .jw-tooltip-captions .jw-text",e._ccIconSubmenuPath=" .jw-controls .jw-settings-menu .jw-settings-topbar .jw-submenu-captions",e._stIconControlbarSvg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 160" class="jw-svg-icon" focusable="false"><defs><style>.cls-1{isolation:isolate;}.cls-2{fill:#000;}</style></defs><g id="Layer_2" class="jw-svg-icon-cc-on" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path d="M195,0H5A5,5,0,0,0,0,5V155a5,5,0,0,0,5,5H195a5,5,0,0,0,5-5V5A5,5,0,0,0,195,0Z"/><g class="cls-1"><path class="cls-2" d="M61.72,93.85A19.06,19.06,0,0,0,76,100.34c6.18,0,9.32-3.7,9.32-7.94,0-5.41-5-7.75-10.76-10.37-7.44-3.24-16-6.94-16-18.22C58.5,54.43,65.76,47,77.05,47c7,0,12.91,2.34,17.21,6.49l-4.84,7.58A17.44,17.44,0,0,0,76.78,56c-4.84,0-8.15,2.88-8.15,7.3,0,4.6,4.75,6.77,10.31,9.29,7.62,3.43,16.49,7.4,16.49,19,0,9.83-6.63,17.68-19.45,17.68-8.52,0-14.88-3-19.28-7.67Z"/></g><g class="cls-1"><path class="cls-2" d="M116.49,57.89H102.16V49.05h39v8.84H126.8v51.94H116.49Z"/></g></g></g><g id="Layer_2" class="jw-svg-icon-cc-off" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><g class="cls-1"><path d="M61.75,93.7a19,19,0,0,0,14.3,6.5c6.2,0,9.3-3.7,9.3-7.9,0-5.4-5-7.8-10.8-10.4-7.4-3.2-16-6.9-16-18.2,0-9.4,7.3-16.8,18.6-16.8,7,0,12.9,2.3,17.2,6.5L89.55,61A17.52,17.52,0,0,0,77,55.9c-4.8,0-8.2,2.9-8.2,7.3,0,4.6,4.8,6.8,10.3,9.3,7.6,3.4,16.5,7.4,16.5,19,0,9.8-6.6,17.7-19.5,17.7-8.5,0-14.9-3-19.3-7.7Z"/></g><g class="cls-1"><path d="M116.55,57.7h-14.3V48.9h39v8.8H127v51.9h-10.3V57.7Z"/></g><path d="M180,20V140H20V20H180M195,0H5A5,5,0,0,0,0,5V155a5,5,0,0,0,5,5H195a5,5,0,0,0,5-5V5A5,5,0,0,0,195,0Z"/></g></g></svg>';var t=function(t){e._captionsList=e._jwplayerInstance.getCaptionsList(),e._enableOneClickCaptions&&!1!==t&&e._captionsList&&2===e._captionsList.length&&e._createCustomClosedCaptions(t)};e._updateClosedCaptionIndex(),e._player.on(a.EVENT_CAPTION_CAPTIONLIST,t),e._player.on(a.EVENT_CONTROLS_STATE,t),e._player.on(a.EVENT_PLAYLIST_ITEM,function(){e._jwplayerInstance=e._player.getJwplayerInstance(),e._playerEl=e._jwplayerInstance.getContainer(),e._captionsList&&2===e._captionsList.length&&($("#"+e._playerEl.id+e._ccIconPath).hide(),$("#"+e._playerEl.id+e._ccIconSubmenuPath).hide())}),e._player.once(a.EVENT_PLAYBACK_PLAYING,function(){"fr"==e._t._languageCode&&(e._enableOneClickCaptions||($("#"+e._playerEl.id+e._ccIconPath+" svg").remove(),$("#"+e._playerEl.id+e._ccIconPath).append(e._stIconControlbarSvg)),$("#"+e._playerEl.id+e._ccIconSubmenuPath+" svg.jw-svg-icon-cc-off").remove(),$("#"+e._playerEl.id+e._ccIconSubmenuPath).append('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 160" class="jw-svg-icon" focusable="false"><defs><style>.cls-1{isolation:isolate;}.cls-2{fill:#000;}</style></defs><g id="Layer_2" class="jw-svg-icon-cc-off" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><g class="cls-1"><path d="M61.75,93.7a19,19,0,0,0,14.3,6.5c6.2,0,9.3-3.7,9.3-7.9,0-5.4-5-7.8-10.8-10.4-7.4-3.2-16-6.9-16-18.2,0-9.4,7.3-16.8,18.6-16.8,7,0,12.9,2.3,17.2,6.5L89.55,61A17.52,17.52,0,0,0,77,55.9c-4.8,0-8.2,2.9-8.2,7.3,0,4.6,4.8,6.8,10.3,9.3,7.6,3.4,16.5,7.4,16.5,19,0,9.8-6.6,17.7-19.5,17.7-8.5,0-14.9-3-19.3-7.7Z"/></g><g class="cls-1"><path d="M116.55,57.7h-14.3V48.9h39v8.8H127v51.9h-10.3V57.7Z"/></g><path d="M180,20V140H20V20H180M195,0H5A5,5,0,0,0,0,5V155a5,5,0,0,0,5,5H195a5,5,0,0,0,5-5V5A5,5,0,0,0,195,0Z"/></g></g></svg>')),$("#"+e._playerEl.id+" button.jw-settings-content-item").filter(function(){return"und"===$(this).text()||"en"===$(this).text()||"fr"===$(this).text()}).html(e._t.t("fr"===e._playbackLanguage?"French":"English"))}),e._player.on(a.EVENT_CAPTION_CAPTIONCHANGED,function(t){e._ccTooltip=$("#"+e._playerEl.id+e._ccTooltipPath).html(),$("#"+e._playerEl.id+e._ccIconPath)[0===t?"addClass":"removeClass"]("jw-off"),$("#"+e._playerEl.id+e._ccTooltipPath).html(e._t.t(0!==t||"und"===e._ccTooltip||"en"===e._ccTooltip||"fr"===e._ccTooltip?"fr"===e._playbackLanguage?"French":"English":"Closed captions"))})},l._updateClosedCaptionIndex=function(){var e=this;e._player.on(a.EVENT_PLAYBACK_TIMEUPDATE,function(t){1===Math.floor(t.position)&&1===e._prevCaptionIndex&&e._captionsList&&2===e._captionsList.length&&e._jwplayerInstance.setCurrentCaptions(1)}),e._player.on(a.EVENT_STATUS_LOADEDDATA,function(){e._prevCaptionIndex=e._currentCaptionIndex}),e._player.on(a.EVENT_PLAYBACK_BEFORE_COMPLETE,function(){1===e._currentCaptionIndex&&e._captionsList&&2===e._captionsList.length&&e._jwplayerInstance.setCurrentCaptions(0)}),e._player.once(a.EVENT_PLAYBACK_PLAYING,function(){e._currentCaptionIndex=e._jwplayerInstance.getCurrentCaptions()})},l._createCustomClosedCaptions=function(e){var t=this,n="#"+t._playerEl.id+t._ccIconPath,i=$(n).hasClass("jw-off"),a=$(n).hasClass("jw-settings-submenu-button"),o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" class="jw-svg-icon" focusable="false"><path class="jw-svg-icon-cc-on" d="M215,40H25c-2.7,0-5,2.2-5,5v150c0,2.7,2.2,5,5,5h190c2.7,0,5-2.2,5-5V45C220,42.2,217.8,40,215,40z M108.1,137.7c0.7-0.7,1.5-1.5,2.4-2.3l6.6,7.8c-2.2,2.4-5,4.4-8,5.8c-8,3.5-17.3,2.4-24.3-2.9c-3.9-3.6-5.9-8.7-5.5-14v-25.6c0-2.7,0.5-5.3,1.5-7.8c0.9-2.2,2.4-4.3,4.2-5.9c5.7-4.5,13.2-6.2,20.3-4.6c3.3,0.5,6.3,2,8.7,4.3c1.3,1.3,2.5,2.6,3.5,4.2l-7.1,6.9c-2.4-3.7-6.5-5.9-10.9-5.9c-2.4-0.2-4.8,0.7-6.6,2.3c-1.7,1.7-2.5,4.1-2.4,6.5v25.6C90.4,141.7,102,143.5,108.1,137.7z M152.9,137.7c0.7-0.7,1.5-1.5,2.4-2.3l6.6,7.8c-2.2,2.4-5,4.4-8,5.8c-8,3.5-17.3,2.4-24.3-2.9c-3.9-3.6-5.9-8.7-5.5-14v-25.6c0-2.7,0.5-5.3,1.5-7.8c0.9-2.2,2.4-4.3,4.2-5.9c5.7-4.5,13.2-6.2,20.3-4.6c3.3,0.5,6.3,2,8.7,4.3c1.3,1.3,2.5,2.6,3.5,4.2l-7.1,6.9c-2.4-3.7-6.5-5.9-10.9-5.9c-2.4-0.2-4.8,0.7-6.6,2.3c-1.7,1.7-2.5,4.1-2.4,6.5v25.6C135.2,141.7,146.8,143.5,152.9,137.7z"></path><path class="jw-svg-icon-cc-off" d="M99.4,97.8c-2.4-0.2-4.8,0.7-6.6,2.3c-1.7,1.7-2.5,4.1-2.4,6.5v25.6c0,9.6,11.6,11.4,17.7,5.5c0.7-0.7,1.5-1.5,2.4-2.3l6.6,7.8c-2.2,2.4-5,4.4-8,5.8c-8,3.5-17.3,2.4-24.3-2.9c-3.9-3.6-5.9-8.7-5.5-14v-25.6c0-2.7,0.5-5.3,1.5-7.8c0.9-2.2,2.4-4.3,4.2-5.9c5.7-4.5,13.2-6.2,20.3-4.6c3.3,0.5,6.3,2,8.7,4.3c1.3,1.3,2.5,2.6,3.5,4.2l-7.1,6.9C107.9,100,103.8,97.8,99.4,97.8z M144.1,97.8c-2.4-0.2-4.8,0.7-6.6,2.3c-1.7,1.7-2.5,4.1-2.4,6.5v25.6c0,9.6,11.6,11.4,17.7,5.5c0.7-0.7,1.5-1.5,2.4-2.3l6.6,7.8c-2.2,2.4-5,4.4-8,5.8c-8,3.5-17.3,2.4-24.3-2.9c-3.9-3.6-5.9-8.7-5.5-14v-25.6c0-2.7,0.5-5.3,1.5-7.8c0.9-2.2,2.4-4.3,4.2-5.9c5.7-4.5,13.2-6.2,20.3-4.6c3.3,0.5,6.3,2,8.7,4.3c1.3,1.3,2.5,2.6,3.5,4.2l-7.1,6.9C152.6,100,148.5,97.8,144.1,97.8L144.1,97.8z M200,60v120H40V60H200 M215,40H25c-2.7,0-5,2.2-5,5v150c0,2.7,2.2,5,5,5h190c2.7,0,5-2.2,5-5V45C220,42.2,217.8,40,215,40z"></path></svg>';$("#"+t._playerEl.id+t._ccIconSubmenuPath).show(),$(n).empty(),$(n).remove(),t._jwplayerInstance.removeButton("captions"),"fr"==t._t._languageCode&&(o=t._stIconControlbarSvg),t._jwplayerInstance.addButton(o,t._t.t("Closed captions"),t._toggleCustomClosedCaptions.bind(t),"captions","jw-icon-cc"),$(n).addClass("jw-off"),$(n).insertAfter("#"+t._playerEl.id+" div.bm-icon-info-overlay"),!1===i&&_.isArray(e)&&$(n)[!0===a&&0===t._jwplayerInstance.getCurrentCaptions()?"addClass":"removeClass"]("jw-off"),!0===e&&$(n)[!0===i?"addClass":"removeClass"]("jw-off")},l._toggleCustomClosedCaptions=function(){var e=this,t=(e._jwplayerInstance.getCurrentCaptions()+1)%e._captionsList.length;e._currentCaptionIndex=t,e._jwplayerInstance.setCurrentCaptions(t)},t.exports=s},{"@bellmedia/bm-base":11,"bm-service-factory-translation":120,"bm-videoplayer":203,"bm-videoplayer-plugin":202}],129:[function(e,t,n){"use strict";var i,a=e("@bellmedia/bm-base"),o=e("@bellmedia/bm-base-event"),r=e("bm-videoplayer"),l=e("bm-videoplayer-plugin"),c=e("bm-css-injector"),d=e("./templates/css/chromecast.css.tpl"),u=e("@bellmedia/bm-loader-script"),p=e("bm-view-chromecast-oneplayer"),m=p,h=e("bm-service-factory-capi"),f=h,_=e("bm-service-factory-userdal"),b=_,v=(e("bm-helper-auth-adapter"),e("bm-service-factory-auth")),g=e("bm-service-factory-media-provider"),y=e("bm-ajax"),E=e("underscore"),T=e("jquery"),w=e("bluebird"),S=e("mobile-detect"),C=new S(window.navigator.userAgent),I=(y(),null),P="urn:x-cast:BellMedia.FortyTwo",A=new w(function(e,t){i=e}),k="function"==typeof window.__onGCastApiAvailable?window.__onGCastApiAvailable:void 0;window.__onGCastApiAvailable=function(e,t){E.isFunction(k)&&k(e),i()};var x=o(),N=(u("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"),null),M=!1,B=function(e){N=e,x.emit(R.EVENT_CAST_SESSION_STATUS_UPDATE,!0),N.sendMessage(P,{Command:"STATUS"},function(){},function(){}),setInterval(function(){N&&N.sendMessage(P,{Command:"STATUS"},function(){},function(){})},3e3),N.addUpdateListener(x.emit.bind(x,R.EVENT_CAST_SESSION_STATUS_UPDATE)),N.addMessageListener(P,x.emit.bind(x,R.EVENT_CAST_MESSAGE))},L=function(e){"undefined"!=typeof chrome&&e===chrome.cast.ReceiverAvailability.AVAILABLE?(M=!0,void 0,x.emit(R.EVENT_CAST_RECEIVER_STATUS_UPDATE,!0)):(M=!1,void 0,x.emit(R.EVENT_CAST_RECEIVER_STATUS_UPDATE,!1))},D=function(){void 0},V=function(){void 0},R=function(e){if(!(this instanceof R))return new R(e);R.super_.call(this,e),this._options=e.data};a.inherits(R,l);var O=R.prototype;O._options=void 0,O._hasCastButton=!1,O._viewChromecast=void 0,O._currentContentIdOnCast=null,O._currentDurationOnCast=null,O._isPlaying=!1,O._timerPosition=0,O._serviceCapi=void 0,O._serviceUserdal=void 0,O._serviceAuth=void 0,O._serviceMediaProvider=void 0,O.loadPlugin=function(){if(!C.is("iOS")){var e=this;e._serviceCapi=f(),e._serviceUserdal=b(),e._serviceAuth=v().getInstance(),e._serviceMediaProvider=g().getInstance(),T(e._options.container).addClass("bm-videoplayer-jw-plugin-chromecast-oneplayer"),this._player.once(r.EVENT_PLAYLIST_ITEM,function(){if(e._listenOnCastEvents(),null===I)I=e._options.applicationId,A.then(function(){e._initializeCastSender()}),c().injectStyles(E.template(d)({urlCastButtonImageConnected:e._options.urlCastButtonImageConnected}),"bm-videoplayer-jw-plugin-chromecast-oneplayer");else if(null!==I&&I!==e._options.applicationId)throw new Error("Only a single Chromecast applicaionId can be used in a page");null!==N&&N.sendMessage(P,{Command:"STATUS"},function(){},function(){})}),this._attachCastButtonDisplayEvents(),this._createSenderControl()}},O._attachCastButtonDisplayEvents=function(){var e=this;e._player.on(r.EVENT_PLAYLIST_ITEM,function(){e._serviceMediaProvider.getMediaInfo(e._player.getCurrentItem().data.mediaId).then(function(t){t&&t.data.authz.required?e._serviceAuth.isAuthenticated().then(function(t){t&&M?e._createCastButton():e._destroyCastButton()}):M&&e._createCastButton()})})},O._createCastButton=function(){var e=this;e._hasCastButton||(e._player.getJwplayerInstance().addButton(e._options.urlCastButtonImageDefault,"Chromecast",e._onCastClick.bind(e),"bm-videoplayer-jw-plugin-chromecast-oneplayer-cast-button-default"),e._hasCastButton=!0)},O._destroyCastButton=function(){var e=this;e._hasCastButton&&(e._player.getJwplayerInstance().removeButton("bm-videoplayer-jw-plugin-chromecast-oneplayer-cast-button-default"),e._hasCastButton=!1)},O._onCastClick=function(){var e=this;e._player.isViewShown()||(e._timerPosition=0,e._viewChromecast.update({state:"connecting",mediaName:"",contentName:"",chromecastName:"",position:0,duration:0}),e._viewChromecast.render(),e._showSenderControl(),e._player.pause()),null!==N?e._loadMedia():"undefined"!=typeof chrome&&chrome.cast.requestSession(function(t){t&&B(t),e._loadMedia(),e._player.pause()},function(t){e._hideSenderControl(),e._player.play(),void 0})},O._listenOnCastEvents=function(){var e=this;x.on(R.EVENT_CAST_RECEIVER_STATUS_UPDATE,e._castOnReceiverStatusUpdate.bind(e)),x.on(R.EVENT_CAST_SESSION_STATUS_UPDATE,e._castOnSessionStatusUpdate.bind(e)),x.on(R.EVENT_CAST_MESSAGE,e._castOnMessage.bind(e)),e._player.on(r.EVENT_PLAYER_DESTROY,function(){x.off(R.EVENT_CAST_RECEIVER_STATUS_UPDATE,e._castOnReceiverStatusUpdate.bind(e)),x.off(R.EVENT_CAST_SESSION_STATUS_UPDATE,e._castOnSessionStatusUpdate.bind(e)),x.off(R.EVENT_CAST_MESSAGE,e._castOnMessage.bind(e))})},O._initializeCastSender=function(){if("undefined"!=typeof chrome){var e=new chrome.cast.SessionRequest(this._options.applicationId),t=new chrome.cast.ApiConfig(e,B,L,chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED);chrome.cast.initialize(t,D,V)}},O._castOnReceiverStatusUpdate=function(e){e&&this._createCastButton()},O._castOnSessionStatusUpdate=function(e){null===N||N&&N.status!==chrome.cast.SessionStatus.CONNECTED?(N=null,void 0,this._currentContentIdOnCast=null,this._currentDurationOnCast=null,this._isPlaying=!1,this._timerPosition=0,this._hideSenderControl()):void 0},O._castOnMediaError=function(){void 0},O._castOnMessage=function(e,t){var n=this;if(n._player._options)if(t=JSON.parse(t),"STATUS"===t.Command)switch(t.PlayerState){case"IDLE":case"ENDED":case"FINISHED_PLAYING":if("IDLE"===t.PlayerState&&t.ContentId){n._isPlaying=!1;break}n._currentContentIdOnCast===n._player.getCurrentItem().data.mediaId.toString()&&n._hideSenderControl(),n._currentContentIdOnCast=null,n._currentDurationOnCast=null,n._isPlaying=!1;break;case"PAUSED":case"PLAYING_AD":case"PLAYING_CONTENT":case"BUFFERING":n._isPlaying=!1,t.ContentId&&(n._currentContentIdOnCast=t.ContentId.toString(),n._player.getCurrentItem().data.mediaId.toString()===n._currentContentIdOnCast&&("playing"===n._player.getState()&&n._player.pause(),"PLAYING_CONTENT"===t.PlayerState?n._isPlaying=!0:n._isPlaying=!1,n._serviceCapi.getInstance().getContents(n._currentContentIdOnCast).then(function(e){n._currentDurationOnCast=e.data.duration}),n._timerPosition=t.PlayingTime,setTimeout(function(){n._viewChromecast.update({state:"connected",mediaName:t.MediaName,contentName:t.ContentName,chromecastName:N.receiver.friendlyName,duration:n._currentDurationOnCast||0,isPlaying:"PAUSED"!==t.PlayerState}),n._viewChromecast.render()},0),n._player.isViewShown()||n._showSenderControl()))}else"ERROR"===t.Command&&n._hideSenderControl()},O._createSenderControl=function(){var e=this,t=0;e._viewChromecast=m({urlCastButtonImageDefault:e._options.urlCastButtonImageDefault,urlCastButtonImageConnected:e._options.urlCastButtonImageConnected,urlPlayButtonImage:e._options.urlPlayButtonImage,urlPauseButtonImage:e._options.urlPauseButtonImage,urlVolumeHighButtonImage:e._options.urlVolumeHighButtonImage,urlVolumeMuteButtonImage:e._options.urlVolumeMuteButtonImage}),e._viewChromecast.render();var n=setInterval(function(){e._player._options&&(t=!0===e._isPlaying?null===e._timerPosition?0:++e._timerPosition:null===e._timerPosition?0:e._timerPosition,e._viewChromecast.update({position:t}),e._viewChromecast.render())},1e3);e._player.once(r.EVENT_PLAYER_DESTROY,function(){clearInterval(n)}),e._viewChromecast.on(p.EVENT_PLAY_CLICK,function(){N&&N.sendMessage(P,{Command:"PLAY"},function(){},function(){})}),e._viewChromecast.on(p.EVENT_PAUSE_CLICK,function(){N&&N.sendMessage(P,{Command:"PAUSE"},function(){},function(){})}),e._viewChromecast.on(p.EVENT_SEEK_CLICK,function(t){if(null!==e._currentDurationOnCast){var n=parseInt(e._currentDurationOnCast*(t/100));e._isPlaying=!1,e._timerPosition=n,N&&N.sendMessage(P,{Command:"SEEK",PlayingTime:n},function(){},function(){})}}),e._viewChromecast.on(p.EVENT_MUTE_CLICK,function(){N&&N.setReceiverMuted(!0,function(){e._viewChromecast.update({isMuted:!0}),e._viewChromecast.render()},function(){})}),e._viewChromecast.on(p.EVENT_UNMUTE_CLICK,function(){N&&N.setReceiverMuted(!1,function(){e._viewChromecast.update({isMuted:!1}),e._viewChromecast.render()},function(){})}),e._viewChromecast.on(p.EVENT_DISCONNECT,function(){null!==N&&(N.stop(),e._player.getJwplayerInstance().play())})},O._showSenderControl=function(){this._player.setView(this._viewChromecast),this._player.showView(this._viewChromecast)},O._hideSenderControl=function(){this._player.hideView()},O._loadMedia=function(){var e=this,t=null,n="",i="";if(null===N)return void void 0;e._viewChromecast.update({state:"connecting",mediaName:"",contentName:"",chromecastName:N.receiver.friendlyName,position:0,duration:0}),e._viewChromecast.render(),e._serviceAuth.isAuthenticated().then(function(t){return t?e._serviceAuth.getAuthInfo():w.resolve(null)}).then(function(n){return null!==n?(t=n.data.aisuid,e._serviceAuth.getSecurityTokensByContentId(e._player.getCurrentItem().data.mediaId)):w.resolve(null)}).then(function(t){return e._serviceUserdal.getInstance(_.TYPE_USERDAL).getV3DevicesCurrent().then(function(e){return{modelToken:t,device:e?e.data:null}})}).then(function(t){return e._serviceUserdal.getInstance(_.TYPE_USERDAL).getAccessToken().then(function(e){var n=null;return E.isEmpty(e.data.token)||(n=e.data.token),E.extend({},t,{accessToken:n})})}).then(function(a){var o=a.modelToken,r=a.device;null!==o&&(n=o.data.authz_token?JSON.stringify(o.data.authz_token):"",i=o.data.identity_token?JSON.stringify(o.data.identity_token):"");var l={Command:"LOAD",ContentId:e._player.getCurrentItem().data.mediaId,Dest:e._serviceCapi.getInstance()._options.data.destinationCode,Ai:i,Az:n,Gl:null,StartTime:e._player.getPosition(),aisId:t,deviceId:r&&r.id?r.id:null,profileIdCraveTV:E.isEmpty(e._options.profileId)?null:e._options.profileId,tokenCraveTV:a.accessToken?a.accessToken:null,IsAd:!0};E.isUndefined(s)||(l.omniture={eVar6:s.eVar6,eVar7:s.eVar7,eVar8:s.eVar8,eVar9:s.eVar9,eVar10:s.eVar10,eVar11:s.eVar11,eVar12:s.eVar12,eVar13:s.eVar13,eVar14:s.eVar14}),N.sendMessage(P,l,function(){},function(){})})},R.EVENT_CAST_RECEIVER_STATUS_UPDATE="event_cast_receiver_status_update",R.EVENT_CAST_SESSION_STATUS_UPDATE="event_cast_session_status_update",R.EVENT_CAST_MESSAGE="event_cast_message",t.exports=R},{"./templates/css/chromecast.css.tpl":131,"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"@bellmedia/bm-loader-script":14,bluebird:16,"bm-ajax":34,"bm-css-injector":47,"bm-helper-auth-adapter":60,"bm-service-factory-auth":116,"bm-service-factory-capi":117,"bm-service-factory-media-provider":118,"bm-service-factory-userdal":121,"bm-videoplayer":203,"bm-videoplayer-plugin":202,"bm-view-chromecast-oneplayer":218,jquery:18,"mobile-detect":22,underscore:32}],130:[function(e,t,n){var i=e("@bellmedia/bm-base-config");t.exports=function(){return i().setDefault({destinationCode:"",applicationId:"",urlCastButtonImageDefault:"",urlCastButtonImageConnected:"",urlPlayButtonImage:"",urlPauseButtonImage:"",urlVolumeHighButtonImage:"",urlVolumeMuteButtonImage:"",profileId:""})}},{"@bellmedia/bm-base-config":1}],131:[function(e,t,n){t.exports='.jw-dock-button[button="bm-videoplayer-jw-plugin-chromecast-oneplayer-cast-button-default"] div.connected {\n    background-image: url(<%- urlCastButtonImageConnected %>) !important;\n}\n'},{}],132:[function(e,t,n){"use strict";var i,a=e("@bellmedia/bm-base"),o=e("bm-videoplayer"),r=e("bm-videoplayer-plugin"),s=e("bm-css-injector"),l=e("./templates/css/chromecast.css.tpl"),c=e("@bellmedia/bm-loader-script"),d=e("bm-view-chromecast-vidi"),u=d,p=e("bm-helper-auth-adapter"),m=e("bm-service-factory-userdal"),h=m,f=e("bm-service-factory-auth"),_=e("bm-service-factory-media-provider"),b=e("bm-service-factory-reco"),v=b,g=e("bm-service-factory-capi"),y=g,E=e("bm-videoplayer/models/playlist"),T=e("bm-videoplayer/models/playlist/item"),w=e("underscore"),S=e("jquery"),C=e("bluebird"),I=e("mobile-detect"),P=new I(window.navigator.userAgent),A=null,k=new C(function(e,t){i=e}),x="function"==typeof window.__onGCastApiAvailable?window.__onGCastApiAvailable:void 0;window.__onGCastApiAvailable=function(e){w.isFunction(x)&&x(e),e&&i()};var N=(c("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"),!1),M=null,B=function(e){if(!(this instanceof B))return new B(e);B.super_.call(this,e),this._options=e.data,this._serviceReco=v().getInstance("type_reco")};a.inherits(B,r);var L=B.prototype;L._options=void 0,L._viewChromecast=void 0,L._serviceUserdal=void 0,L._serviceAuth=void 0,L._serviceMediaProvider=void 0,L._enableClosedCaptions=!1,L._isFullscreen=!1,L._timerPosition=0,L._currentContentId=0,L._currentContentType=void 0,L._currentCaptionsTrackIndex=0,L._serviceReco=void 0,L._continueUpnext=!1,L._playerSender=void 0,L._playerSenderVidiController=void 0,L._playerSenderCastSession=void 0,L._upnextOffset=void 0,L._duration=0,L._isAdPlaying=!1,L._playlistVisible=!1,L._isSenderPlayerMuted=!1,L._currentAuthState=!1,L._vidiVersion="1.0.0",L._seasonId=0,L.loadPlugin=function(){if(!P.is("iOS")){var e=this;e._serviceUserdal=h(),e._serviceAuth=f().getInstance(),e._serviceMediaProvider=_().getInstance(),e._vidiVersion=e._options.vidiVersion,S(e._options.container).addClass("bm-videoplayer-jw-plugin-chromecast-vidi"),this._player.once(o.EVENT_PLAYLIST_ITEM,function(){if(null===A)A=e._options.applicationId,k.then(function(){e._initializeCastSender()}),s().injectStyles(w.template(l)({urlCastButtonImageConnected:e._options.urlCastButtonImageConnected}),"bm-videoplayer-jw-plugin-chromecast-vidi");else if(null!==A&&A!==e._options.applicationId)throw new Error("Only a single Chromecast applicationId can be used in a page")}),e._serviceAuth.on(p.EVENT_STATUS_CHANGE,function(t){e._currentAuthState=t.isAuthenticated,e._playlistVisible&&(e._playlistVisible=!e._playlistVisible,e._togglePlaylist())}),this._attachCastButtonDisplayEvents()}},L._handleKeyboardEvents=function(){var e=this;S("#"+e._player._instanceId).on("keydown",function(t){switch(e._isSenderPlayerMuted||e._player.setMute(!0),t.keyCode){case 13:case 32:case 37:case 38:case 39:case 40:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:e._player.pause()}})},L._initializeCastSender=function(){var e=this;"undefined"!=typeof chrome&&(cast.framework.CastContext.getInstance().addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,this._onCastStateChanged.bind(this)),cast.framework.CastContext.getInstance().addEventListener(cast.framework.CastContextEventType.SESSION_STATE_CHANGED,this._onSessionStateChanged.bind(this)),cast.framework.CastContext.getInstance().setOptions({receiverApplicationId:A||e._options.applicationId,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}))},L._onCastStateChanged=function(e){e.castState===cast.framework.CastState.NO_DEVICES_AVAILABLE?(N=!1,this._destroyCastButton(),void 0):(N=!0,this._createCastButton())},L._onSessionStateChanged=function(e){e.sessionState==cast.framework.SessionState.SESSION_STARTED||e.sessionState==cast.framework.SessionState.SESSION_RESUMED||e.sessionState==cast.framework.SessionState.SESSION_STARTING?(this._changeButtonState("connected"),void 0):(this._changeButtonState("default"),this._player._event.emit(B.EVENT_CHROMECAST_DEFAULT_STATE))},L._attachCastButtonDisplayEvents=function(){var e=this;e._player.on(o.EVENT_PLAYLIST_ITEM,function(t){e._continueUpnext&&e._player&&e._player.pause(),e._currentContentId=parseInt(t.item.data.mediaId),y().getInstance().getContents(t.item.data.mediaId).then(function(t){e._currentContentType=t.data.content.type,e._duration=t.data.duration,M&&e._viewChromecast&&e._continueUpnext&&(e._upnextOffset=t.data.duration,e._viewChromecast.update({contentName:t.data.content.description,state:"connected",duration:e._duration,isPlaying:!0,enableControls:!0,isUpnext:!1,isAdPlaying:e._isAdPlaying,isLive:e._player.isLive()||!1,isSkipBreaks:!1}),e._viewChromecast.render(),e._showSenderControl(),e._handleKeyboardEvents(),e._continueUpnext=!1)}),e._serviceMediaProvider.getMediaInfo(t.item.data.mediaId).then(function(t){t&&t.data.authz.required?e._serviceAuth.isAuthenticated().then(function(t){t&&N?e._createCastButton():e._destroyCastButton()}):N&&e._createCastButton()})})},L._createSenderControl=function(){var e,t,n=this;n._player._jwplayerInstance.getPlaylistItem();"fr"===n._options.uiLanguage?(e=n._options.urlClosedCaptionButtonOffFR,t=n._options.urlClosedCaptionButtonOnFR):(e=n._options.urlClosedCaptionButtonOff,t=n._options.urlClosedCaptionButtonOn),n._viewChromecast=u({urlCastButtonImageDefault:n._options.urlCastButtonImageDefault,urlCastButtonImageConnected:n._options.urlCastButtonImageConnected,urlPlayButtonImage:n._options.urlPlayButtonImage,urlStopButtonImage:n._options.urlStopButtonImage,urlPauseButtonImage:n._options.urlPauseButtonImage,urlSkipBackButtonImage:n._options.urlSkipBackButtonImage,urlSkipForwardButtonImage:n._options.urlSkipForwardButtonImage,urlVolumeHighButtonImage:n._options.urlVolumeHighButtonImage,urlVolumeMuteButtonImage:n._options.urlVolumeMuteButtonImage,urlClosedCaptionButtonImageOff:e,urlClosedCaptionButtonImageOn:t,urlFullscreenButtonImageOff:n._options.urlFullscreenButtonImageOff,urlFullscreenButtonImageOn:n._options.urlFullscreenButtonImageOn,urlPlaylistButtonImage:n._options.urlIconPlaylist,urlIconPlaylistPlay:n._options.urlIconPlaylistPlay,urlIconPlaylistLock:n._options.urlIconPlaylistLock,brandColor:n._options.brandColor,bgColorUpnext:n._options.bgColorUpnext,enableSkipBack:n._options.enableSkipBack,enableSkipForward:n._options.enableSkipForward,enableEpisodeList:n._options.enableEpisodeList,enableEpisodeListDetailed:n._options.enableEpisodeListDetailed,enableSeasonList:n._options.enableSeasonList,episodeListData:n._options.episodeListData}),n._isFullscreen=n._player._jwplayerInstance.getFullscreen(),n._viewChromecast.update({isFullscreen:n._isFullscreen}),n._viewChromecast.render(),n._viewChromecast.on(d.EVENT_PLAY_CLICK,function(){n._playerSenderVidiController.playOrPause()}),n._viewChromecast.on(d.EVENT_PAUSE_CLICK,function(){n._playerSenderVidiController.playOrPause()}),n._viewChromecast.on(d.EVENT_SKIP_BACK_CLICK,function(){var e=n._player.isDvr()?n._duration:0,t=n._playerSender.currentTime-10;n._playerSender.currentTime=parseInt(w.max([t,e])),n._playerSenderVidiController.seek()}),n._viewChromecast.on(d.EVENT_SKIP_FORWARD_CLICK,function(){var e=n._player.isDvr()?0:n._duration-3,t=n._playerSender.currentTime+10;n._playerSender.currentTime=parseInt(w.min([t,e])),n._playerSenderVidiController.seek()}),n._viewChromecast.on(d.EVENT_SEEK_CLICK,function(e){if(n._duration>n._playerSender.currentTime){n._playerSender.currentTime=parseInt(w.min([n._duration*(e/100),n._duration-3])),n._playerSenderVidiController.seek()}}),n._viewChromecast.on(d.EVENT_MUTE_CLICK,function(){n._playerSenderVidiController.muteOrUnmute()}),n._viewChromecast.on(d.EVENT_UNMUTE_CLICK,function(){n._playerSenderVidiController.muteOrUnmute()}),n._viewChromecast.on(d.EVENT_VOLUME_CHANGE,function(e){n._playerSender.volumeLevel=e/100,n._playerSenderVidiController.setVolumeLevel(e/100)}),n._viewChromecast.on(d.EVENT_CLOSED_CAPTIONS_CLICK,function(){!0===n._enableClosedCaptions?(n._viewChromecast.update({enableClosedCaptions:!1}),n._viewChromecast.render(),n._requestCaptionsInfo(!1),n._enableClosedCaptions=!1):(n._viewChromecast.update({enableClosedCaptions:!0}),n._viewChromecast.render(),n._requestCaptionsInfo(!0),n._enableClosedCaptions=!0)}),n._viewChromecast.on(d.EVENT_FULLSCREEN_CLICK,function(){n._player._jwplayerInstance.setFullscreen(!n._isFullscreen)}),n._player.on(o.EVENT_PLAYER_FULLSCREEN,function(e){n._isFullscreen=e.fullscreen,n._viewChromecast.update({isFullscreen:n._isFullscreen}),n._viewChromecast.render()}),
n._viewChromecast.on(d.EVENT_UPNEXT_PLAY_BUTTON_CLICK,function(){n._continueUpnext=!0,n._upnextOffset=n._playerSender.duration,n._playerSenderCastSession&&n._playerSenderCastSession.sendMessage(n._options.namespaceUpnext,{upnext_button:"play"}),n._viewChromecast.update({mediaName:"",contentName:"",chromecastName:"",state:"loading next",isUpnext:!1,enableControls:!1}),n._viewChromecast.render()}),n._viewChromecast.on(d.EVENT_UPNEXT_STOP_BUTTON_CLICK,function(){n._continueUpnext=!1,n._upnextOffset=n._playerSender.duration,n._playerSenderCastSession&&n._playerSenderCastSession.sendMessage(n._options.namespaceUpnext,{upnext_button:"stop"}),n._viewChromecast.update({isUpnext:!1}),n._viewChromecast.render()}),n._viewChromecast.on(d.EVENT_SKIP_BREAK_BUTTON_CLICK,function(e){n._playerSender.currentTime=parseInt(e.endTime),n._playerSenderVidiController.seek(),n._viewChromecast.update({isSkipBreaks:!1,position:n._playerSender.currentTime}),n._viewChromecast.render(),n._playerSenderCastSession&&n._playerSenderCastSession.sendMessage(n._options.namespaceSkip,{skip_button:e.skipMessage})}),n._viewChromecast.on(d.EVENT_PLAYLIST_CLICK,function(){n._togglePlaylist()}),n._viewChromecast.on(d.EVENT_PLAYLIST_ITEM_CLICK,function(e){n._togglePlaylist(),n._currentContentId!==parseInt(e.contentId)&&M&&(n._continueUpnext=!1,n._upnextOffset=n._playerSender.duration,n._playerSenderCastSession&&n._playerSenderCastSession.sendMessage(n._options.namespaceUpnext,{upnext_button:"stop"}),n._viewChromecast.update({isUpnext:!1}),n._viewChromecast.render(),setTimeout(function(){n._loadNewContent(e.contentId)},1e3))}),n._viewChromecast.on(d.EVENT_PLAYLIST_SEASON_ITEM_CLICK,function(e){n._seasonId=e.contentId,n._getEpisodeInfo(),setTimeout(function(){n._togglePlaylist(),n._togglePlaylist()},300)}),n._viewChromecast.on(d.EVENT_DISCONNECT,function(){M&&M.endSession(!0)})},L._showSenderControl=function(){this._player.setView(this._viewChromecast),this._player.showView(this._viewChromecast)},L._hideSenderControl=function(){var e=this;e._player.getView()===e._viewChromecast&&e._player.hideView()},L._createCastButton=function(){var e=this;e._player.getJwplayerInstance()&&e._player.getJwplayerInstance().addButton(e._options.urlCastButtonImageDefault,"Chromecast",e._onCastClick.bind(e),"bm-videoplayer-jw-plugin-chromecast-vidi-cast-button-default")},L._destroyCastButton=function(){var e=this;e._player.getJwplayerInstance()&&e._player.getJwplayerInstance().removeButton("bm-videoplayer-jw-plugin-chromecast-vidi-cast-button-default")},L._changeButtonState=function(e){var t=this,n=S("#"+t._player._instanceId+' .jw-dock-button[button="bm-videoplayer-jw-plugin-chromecast-vidi-cast-button-default"]');switch(e){case"connected":n.find('.jw-icon[role="button"]').addClass("connected");break;default:n.find('.jw-icon[role="button"]').removeClass("connected")}},L._onCastClick=function(){var e=this;e._createSenderControl(),M=cast.framework.CastContext.getInstance().getCurrentSession(),e._player._event.emit(B.EVENT_CHROMECAST_BUTTON_CLICK),null!==M?e._loadMedia():"undefined"!=typeof chrome&&cast.framework.CastContext.getInstance().requestSession().then(function(){M=cast.framework.CastContext.getInstance().getCurrentSession(),e._loadMedia()},function(t){e._hideSenderControl(),void 0})},L._loadMedia=function(){var e=this;e._playlistVisible=!1;var t="",n="";if(null===M)return void void 0;e._handleKeyboardEvents(),e._isSenderPlayerMuted=e._player&&e._player.isMute(),e._player.pause(),e._viewChromecast.update({state:"connecting",playlistShow:e._playlistVisible,mediaName:"",contentName:"",chromecastName:e._options.brandName.toUpperCase()+" Chromecast",position:e._timerPosition,duration:0,isAdPlaying:e._isAdPlaying,isLive:e._player.isLive()||!1}),e._viewChromecast.render(),setTimeout(function(){e._showSenderControl()},500),e._serviceAuth.isAuthenticated().then(function(t){return t?e._serviceAuth.getAuthInfo():C.resolve(null)}).then(function(t){return null!==t?e._serviceAuth.getSecurityTokensByContentId(e._player.getCurrentItem().data.mediaId):C.resolve(null)}).then(function(t){return e._serviceUserdal.getInstance(m.TYPE_USERDAL).getV3DevicesCurrent().then(function(e){return{modelToken:t,device:e?e.data:null}})}).then(function(t){return e._serviceUserdal.getInstance(m.TYPE_USERDAL).getAccessToken().then(function(e){var n=null;return w.isEmpty(e.data.token)||(n=e.data.token),w.extend({},t,{accessToken:n})})}).then(function(i){var a=i.modelToken,r=e._serviceReco.getJwtAccessToken(),s=e._serviceReco.getJwtRefreshToken(),l=e._serviceReco.getDeviceId(),c=e._serviceReco.isAccessTokenExpired(r);null!==a&&(t=a.data.authz_token?JSON.stringify(a.data.authz_token):"",n=a.data.identity_token?JSON.stringify(a.data.identity_token):"");var d=new chrome.cast.media.MediaInfo(e._currentContentId.toString(),"video/mp4"),u=e._player._jwplayerInstance.getPlaylistItem();d.customData={config:e._options.configPath,ad:{adSite:u.vidiAdSite||"",asZone:u.vidiAdZone||"",adUnitSuperhub:e._options.adUnitSuperhub||{}},ais:{aisIdentity:n,aisAuthz:t},userDal:{profileId:e._options.profileId?"":e._options.profileId},userManagement:{jwt:r&&!c?r:"",refreshToken:s&&!c?s:"",deviceID:l||null},destinationCode:_().getInstance()._options.data.destinationCode,adobeMID:window.s&&window.s.visitor&&window.s.visitor.getMarketingCloudVisitorID?window.s.visitor.getMarketingCloudVisitorID():"",language:{ui:e._options.uiLanguage,playback:e._options.playbackLanguage},features:{enableUpnext:e._options.enableUpnext,enableSurroundSound:!0===e._options.enableSurroundSound,quality:e._options.quality,skipBreaks:{enable:e._options.enableSkipBreaks}},vidiVersion:e._vidiVersion};var p=new chrome.cast.media.LoadRequest(d);p.currentTime=e._player.getPosition(),M&&M.loadMedia(p).then(function(){e._playerSender=new cast.framework.RemotePlayer,e._playerSenderVidiController=new cast.framework.RemotePlayerController(e._playerSender),e._playerSenderVidiController.addEventListener(cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED,e._onPlayerStateChanged.bind(e)),e._playerSenderVidiController.addEventListener(cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED,e._onPlayerStateChanged.bind(e)),e._playerSenderVidiController.addEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,e._onPlayerStateChanged.bind(e)),e._playerSenderVidiController.addEventListener(cast.framework.RemotePlayerEventType.MEDIA_INFO_CHANGED,e._onPlayerStateChanged.bind(e)),e._playerSenderVidiController.addEventListener(cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED,e._onPlayerStateChanged.bind(e)),e._playerSenderCastSession=new cast.framework.CastSession(M.getSessionObj(),M.getSessionState()),e._playerSenderCastSession.addMessageListener("urn:x-cast:ca.bellmedia.vidi.cast.upnext",e._onUpnextMessage.bind(e)),e._playerSenderCastSession.addMessageListener("urn:x-cast:com.google.ads.ima.cast",e._onAdsImaMessage.bind(e)),e._playerSenderCastSession.addMessageListener(e._options.namespaceSkip,e._onskipBreaksMessage.bind(e)),e._viewChromecast.update({mediaName:e._playerSender.title,contentName:u.description,chromecastName:e._options.brandName.toUpperCase()+" Chromecast",state:"connected",duration:e._playerSender.duration,isPlaying:!e._playerSender.isPaused,isMuted:e._playerSender.isMuted,isAdPlaying:e._isAdPlaying,isLive:e._player.isLive()||!1,enableControls:!0}),e._currentCaptionsTrackIndex=e._player._jwplayerInstance.getCurrentCaptions(),0===e._currentCaptionsTrackIndex||!0!==e._enableClosedCaptions?(e._enableClosedCaptions=!1,e._viewChromecast.update({enableClosedCaptions:!1}),e._requestCaptionsInfo(!1)):(e._enableClosedCaptions=!0,e._viewChromecast.update({enableClosedCaptions:!0}),e._requestCaptionsInfo(!0)),e._player.isLive()?e._viewChromecast.update({enableSkipBack:!1,enableSkipForward:!1,enableEpisodeList:!1}):e._viewChromecast.update({enableSkipBack:e._options.enableSkipBack,enableSkipForward:e._options.enableSkipForward,enableEpisodeList:e._options.enableEpisodeList,enableSeasonList:e._options.enableSeasonList,enableEpisodeListDetailed:e._options.enableEpisodeListDetailed}),e._getEpisodeInfo(),e._viewChromecast.render(),e._viewChromecast.renderUpnextViewOnResize(e._player._instanceId,e._player.getWidth()),e._viewChromecast.setCurrentPlayerWidth(e._player.getWidth()),e._player.on(o.EVENT_PLAYER_RESIZE,function(t){e._viewChromecast.render(),e._viewChromecast.renderUpnextViewOnResize(e._player._instanceId,t),e._viewChromecast.setCurrentPlayerWidth(t)}),e._player.on(o.EVENT_PLAYER_DESTROY,e._onPlayerDestroy.bind(e)),void 0},function(e){void 0})})},L._togglePlaylist=function(){var e=this;e._playlistVisible=!e._playlistVisible,e._viewChromecast.update({playlistShow:e._playlistVisible,currentContentId:e._currentContentId,isAuthenticated:e._currentAuthState}),e._viewChromecast.render()},L._getEpisodeInfo=function(){var e,t=this;"episode"===t._currentContentType?(e=t._seasonId>0?y().getInstance().getContentsEpisodeListByContentIdAndSeasonId(t._currentContentId,t._seasonId):y().getInstance().getContentsEpisodeListByContentId(t._currentContentId),e.then(function(e){t._serviceAuth.isAuthenticated().then(function(n){t._currentAuthState=n,t._viewChromecast.update({enableEpisodeList:t._options.enableEpisodeList,enableEpisodeListDetailed:t._options.enableEpisodeListDetailed,enableSeasonList:t._options.enableEpisodeList,episodeListData:e.data,isAuthenticated:t._currentAuthState}),0===t._seasonId&&(t._seasonId=w.first(e.data).seasonId),y().getInstance().getContentsSeasonListByContentId(t._currentContentId).then(function(n){t._viewChromecast.update({seasonName:w.first(e.data).season,seasonList:n,seasonId:t._seasonId,isAuthenticated:t._currentAuthState}),t._viewChromecast.render(),t._seasonId=0})})})):t._viewChromecast.update({enableEpisodeList:!1})},L._loadNewContent=function(e){var t=this;t._playlistVisible=!1,t._timerPosition=0;var n=t._getUpnextPlaylist(e,"");t._player.loadPlaylist(n,!1),t._currentContentId=parseInt(e),t._continueUpnext=!0,t._loadMedia()},L._getSeasonListByContentId=function(e){return this._serviceCapi.getInstance().getContentsSeasonListByContentId(e).then(function(e){return e.data})},L._updateUpnextView=function(e){var t=this;t._upnextOffset=e.currentDuration-e.currentOffset,t._continueUpnext=!0,t._viewChromecast.update({isUpnext:e.isVisible,upnextContentTitle:e.showName,upnextEpisode:e.episodeInfo,upnextThumbnailUrl:e.image}),t._viewChromecast.render()},L._onUpnextMessage=function(e,t){var n=this;n._options.enableUpnext&&t&&n._updateUpnextView(JSON.parse(t))},L._onAdsImaMessage=function(e,t){var n=this,i=t.split(",");void 0,i.length>1?(n._isAdPlaying=!0,n._viewChromecast.update({isAdPlaying:n._isAdPlaying})):(n._isAdPlaying=!1,n._viewChromecast.update({isAdPlaying:n._isAdPlaying}))},L._onskipBreaksMessage=function(e,t){var n=this;void 0,n._options.enableSkipBreaks.length>0&&t&&n._updateSkipBreaksView(JSON.parse(t))},L._updateSkipBreaksView=function(e){var t=this,n=e.skipMessage.replace("skip","Skip ");t._viewChromecast.update({isSkipBreaks:e.inSkipZone,skipBreakText:n,skipEndTime:e.endTime}),t._viewChromecast.render()},L._requestCaptionsInfo=function(e){var t=this,n={},i=M.getMediaSession().media.tracks;if(i){var a=w.filter(i,function(e){return"TEXT"===e.type});a.length>0?(n=!0===e?new chrome.cast.media.EditTracksInfoRequest([a[0].trackId]):new chrome.cast.media.EditTracksInfoRequest([]),M.getMediaSession().editTracksInfo(n,function(){void 0},function(){void 0}),t._viewChromecast.update({isClosedCaptions:!0})):t._viewChromecast.update({isClosedCaptions:!1})}else t._viewChromecast.update({isClosedCaptions:!1});t._viewChromecast.render()},L._getUpnextPlaylist=function(e,t){var n=T().setData({mediaId:e,image:t});return E().setData({items:[n]})},L._onPlayerDestroy=function(){var e=this;e._continueUpnext=!1,e._duration=0,e._isAdPlaying=!1,e._playlistVisible=!1,e._isSenderPlayerMuted=!1,e._currentContentId=0,e._currentCaptionsTrackIndex=0},L._onPlayerStateChanged=function(e){var t=this;if(e)switch(e.field){case"isMuted":t._viewChromecast.update({isMuted:e.value}),t._viewChromecast.render();break;case"isPaused":t._viewChromecast.update({isPlaying:!e.value}),t._viewChromecast.render();break;case"isConnected":!1===e.value&&0!=t._currentContentId?(t._player.seek(t._timerPosition),t._hideSenderControl(),t._continueUpnext=!1,t._isAdPlaying=!1,(t._playerSender.isPaused||0==t._timerPosition)&&setTimeout(function(){t._player.pause()},300),t._player.setMute(t._isSenderPlayerMuted)):t._handleKeyboardEvents();case"mediaInfo":var n=e.value;if(n&&n.contentId&&t._currentContentId!=parseInt(n.contentId)&&0!=t._currentContentId&&n.metadata){t._currentContentId=parseInt(n.contentId);var i=t._getUpnextPlaylist(n.contentId,n.metadata.images[0].url);t._getEpisodeInfo(),t._player.loadPlaylist(i,!1),t._viewChromecast.update({mediaName:n.metadata.title,chromecastName:t._options.brandName.toUpperCase()+" Chromecast",position:0})}break;case"currentTime":t._timerPosition=e.value&&e.value>0?e.value:t._timerPosition,t._viewChromecast.update({position:t._timerPosition}),t._viewChromecast.render(),parseInt(t._timerPosition)==parseInt(t._playerSender.duration-2)&&t._viewChromecast.update({isUpnext:!1}),0!=e.value&&0!=t._playerSender.duration&&e.value==t._playerSender.duration&&(t._continueUpnext?t._viewChromecast.update({mediaName:"",contentName:"",chromecastName:"",state:"loading next",isUpnext:!1,enableControls:!1}):t._viewChromecast.update({state:"completed",isUpnext:!1}))}},B.EVENT_CHROMECAST_BUTTON_CLICK="chromecast_button_click",B.EVENT_CHROMECAST_DEFAULT_STATE="chromecast_default_state",t.exports=B},{"./templates/css/chromecast.css.tpl":134,"@bellmedia/bm-base":11,"@bellmedia/bm-loader-script":14,bluebird:16,"bm-css-injector":47,"bm-helper-auth-adapter":60,"bm-service-factory-auth":116,"bm-service-factory-capi":117,"bm-service-factory-media-provider":118,"bm-service-factory-reco":119,"bm-service-factory-userdal":121,"bm-videoplayer":203,"bm-videoplayer-plugin":202,"bm-videoplayer/models/playlist":208,"bm-videoplayer/models/playlist/item":209,"bm-view-chromecast-vidi":222,jquery:18,"mobile-detect":22,underscore:32}],133:[function(e,t,n){var i=e("@bellmedia/bm-base-config");t.exports=function(){return i().setDefault({applicationId:"",urlCastButtonImageDefault:"",urlCastButtonImageConnected:"",urlPlayButtonImage:"",urlPauseButtonImage:"",urlSkipBackButtonImage:"",urlSkipForwardButtonImage:"",urlVolumeHighButtonImage:"",urlVolumeMuteButtonImage:"",configPath:"",urlClosedCaptionButtonImageOff:"",urlClosedCaptionButtonImageOn:"",urlFullscreenButtonImageOff:"",urlFullscreenButtonImageOn:"",urlPlaylistButtonImage:"",enableUpnext:!1,bgColorUpnext:"",namespaceUpnext:"",enableEpisodeList:!1,episodeListData:[]})}},{"@bellmedia/bm-base-config":1}],134:[function(e,t,n){t.exports='.jw-dock-button[button="bm-videoplayer-jw-plugin-chromecast-vidi-cast-button-default"] div.connected {\n    background-image: url(<%- urlCastButtonImageConnected %>) !important;\n}\n'},{}],135:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin"),r=e("bm-service-factory-capi"),s=(e("underscore"),function(){if(!(this instanceof s))return new s;s.super_.call(this)});i.inherits(s,o);var l=s.prototype;l._serviceCapi=void 0,l.loadPlugin=function(){var e=this;e._serviceCapi=r(),e._player.on(a.EVENT_PLAYLIST_ITEM,function(t){var n=t.item.data.continueWatchingPosition;e._player.getJwplayerInstance().once("play",function(){e._serviceCapi.getInstance().getContents(t.item.data.mediaId).then(function(t){n>0&&n<t.data.duration&&e._player.getJwplayerInstance().seek(n)})})})},t.exports=s},{"@bellmedia/bm-base":11,"bm-service-factory-capi":117,"bm-videoplayer":203,"bm-videoplayer-plugin":202,underscore:32}],136:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("@bellmedia/bm-loader-script"),r=(e("bm-helper-analytics-video-event"),e("bm-videoplayer-plugin")),s=e("bm-service-factory-auth"),l=e("bm-service-factory-capi"),c=e("underscore"),d=(e("bluebird"),function(e){if(!(this instanceof d))return new d(e);this._playerName=e.playerName,this._customerKey=e.customerKey,this._brand=e.brand,this._multiplex=e.multiplex,this._playerVersion=e.playerVersion,this._loadConvivaSDK=o(e.url),this._playbackLanguage=e.playbackLanguage,d.super_.call(this)});i.inherits(d,r);var u=d.prototype;u._serviceAuth=void 0,u._serviceCapi=void 0,u._playerName="",u._customerKey="",u._tagVariables={},u._playerVersion="",u._brand="",u._multiplex="",u._isConvivaInitialized=!1,u._playbackLanguage="",u._currentContentId=void 0,u._capiContentsData={},u.loadPlugin=function(){var e=this;e._serviceAuth=s().getInstance(),e._serviceCapi=l(),e._player.on(a.EVENT_PLAYLIST_ITEM,function(t){e._currentContentId=t.item.data.mediaId,e._serviceCapi.getInstance().getContents(e._currentContentId).then(function(t){e._capiContentsData=t.data,e._capiContentsData.authentication&&e._capiContentsData.authentication.Required?e._serviceAuth.isAuthenticated().then(function(t){t&&e._setupConvivaTracking()}):e._setupConvivaTracking()})})},u._setupConvivaTracking=function(){var e=this;e._loadConvivaSDK.then(e._initConviva.bind(e)).then(e._updateMetadata.bind(e))},u._initConviva=function(){var e=this;e._isConvivaInitialized||(conviva.integrate({key:e._customerKey,enableAdExperience:!0}),e._isConvivaInitialized=!0)},u._updateMetadata=function(){var e=this,t=e._player.getJwplayerInstance();e._player.on(a.EVENT_ERROR,function(e){conviva&&conviva.reportPlayerError(t,e.type,e.message)}),e._appMetadata(),e._assetMetadata(t)},u._appMetadata=function(){var e=this,t="",n="";e._serviceAuth.getAuthInfo().then(function(i){i&&i.data&&(i.data.aisuid&&(t=i.data.aisuid),i.data.bduName&&(n=i.data.bduName)),conviva.updateAppMetadata({player_name:e._playerName,playerVersion:e._playerVersion,viewer_id:t,affiliate:n})})},u._assetMetadata=function(e){var t=this;t._tagVariables=c.extend({},t._tagVariables,{asset_name:t._getAssetName(),timeOfDay:t._getTimeOfDay((new Date).getHours()),brand:t._brand,abConfig:localStorage.getItem("abConfigUrlVidi"),multiplex:t._multiplex,defaultLanguage:"fr"===t._playbackLanguage?"french":"english",contentType:t._capiContentsData.content.type,contentCategory:t._capiContentsData.media.type,isLive:"stream"===t._capiContentsData.content.type?"true":"false",show:t._capiContentsData.media.title,publicationDate:t._capiContentsData.content.airdate,genre:t._capiContentsData.content.genres.map(function(e){return e.Name.toLowerCase()}).join(),resourceAccess:t._capiContentsData.authentication?t._getResourceCode(t._capiContentsData.authentication):"NA"}),t._serviceCapi.getInstance().getContentsPackages(t._currentContentId).then(function(n){var i=n.data.requireDrm;t._tagVariables=c.extend({},t._tagVariables,{drmType:i?"drm":"",isDRM:i?"true":"false",accessType:n.data.auth.required.toString(),videoSubDomain:n.data.CDN}),conviva.updatePlayerAssetMetadata(e,t._tagVariables)})},u._getAssetName=function(){var e=this,t=e._capiContentsData.content.episode,n=e._capiContentsData.content.season,i="",a="["+e._currentContentId+"] "+e._capiContentsData.content.title;return n&&(i="S"+n),t&&(i+="E"+t),i&&(a="["+e._currentContentId+"] "+e._capiContentsData.media.title+" - "+i+" - "+e._capiContentsData.content.title),a},u._getResourceCode=function(e){var t="NA";return!0===e.Required&&e.Resources&&e.Resources.length>0&&(t=e.Resources.map(function(e){return e.ResourceCode}).join(",")),t},u._getTimeOfDay=function(e){return e>=2&&e<=5?"Overnight":e>=6&&e<=8?"Early Morning":e>=9&&e<=11?"Morning":e>=12&&e<=16?"Afternoon (Daytime)":e>=17&&e<=19?"Late Afternoon/Early Evening":e>=20&&e<=22?"Evening (Primetime)":"Latenight"},t.exports=d},{"@bellmedia/bm-base":11,"@bellmedia/bm-loader-script":14,bluebird:16,"bm-helper-analytics-video-event":57,"bm-service-factory-auth":116,"bm-service-factory-capi":117,"bm-videoplayer":203,"bm-videoplayer-plugin":202,underscore:32}],137:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin"),o=(e("bm-videoplayer"),e("bm-css-injector")),r=e("./templates/css/custom-loader-common.css.tpl"),s=e("./templates/css/custom-loader-gif.css.tpl"),l=e("underscore"),c=function(e){if(!(this instanceof c))return new c(e);c.super_.call(this,arguments),this._urlCustomLoader=e.urlCustomLoader,o().injectStyles(l.template(r)({urlCustomLoader:this._urlCustomLoader}),"bm-custom-loader-common")};i.inherits(c,a);var d=c.prototype;d._urlCustomLoader="",d.loadPlugin=function(){this._urlCustomLoader.toLowerCase().match(/\.(gif)/g)&&o().injectStyles(l.template(s)({}),"bm-custom-loader")},t.exports=c},{"./templates/css/custom-loader-common.css.tpl":138,"./templates/css/custom-loader-gif.css.tpl":139,"@bellmedia/bm-base":11,"bm-css-injector":47,"bm-videoplayer":203,"bm-videoplayer-plugin":202,underscore:32}],138:[function(e,t,n){t.exports=".jw-state-buffering .jw-display-icon-display .jw-icon::before{\n    content: '' !important;\n    position: absolute;\n    z-index: -1; \n}\n\n.jw-state-buffering .jw-display-controls .jw-background-color{\n    background-color: transparent !important;\n}\n\n.jw-state-buffering .jw-display-icon-display .jw-icon{\n    background-image: url(\"<%= urlCustomLoader %>\") !important;    \n    background-repeat: no-repeat !important;\n    background-position: center !important; \n}"},{}],139:[function(e,t,n){t.exports=".jw-state-buffering .jw-display-icon-display .jw-icon{    \n    -webkit-animation-play-state: paused !important; /* Safari 4.0 - 8.0 */\n    animation-play-state: paused !important;\n}\n"},{}],140:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin"),r=(e("bm-service-factory-capi"),e("bm-view-message")),s=r,l=e("bm-service-factory-translation"),c=function(e){if(!(this instanceof c))return new c(e);c.super_.apply(this,arguments),this._urlAppStoreIos=e.urlAppStoreIos,this._urlAppStoreBadge=e.urlAppStoreBadge};i.inherits(c,o);var d=c.prototype;d._urlAppStoreIos="",d._urlAppStoreBadge="",d.loadPlugin=function(){var e=this,t=l().getInstance(),n=n();e._player.on(a.EVENT_PLAYLIST_ITEM,function(i){n.getInstance().getContentsPackages(i.item.data.mediaId).then(function(n){if(void 0,!0===n.data.requireDrm){var i=s({hasDismissButton:!1}),a=t.t("Not available in a mobile browser");a+='<div style="padding-top: 16px; text-align: center;" target="_blank"><a href="'+e._urlAppStoreIos+'"><img src="'+e._urlAppStoreBadge+'" /></a></div>',i.setMessage("",a),i.render(),e._player.setView(i),e._player.showView()}})})},t.exports=c},{"@bellmedia/bm-base":11,"bm-service-factory-capi":117,"bm-service-factory-translation":120,"bm-videoplayer":203,"bm-videoplayer-plugin":202,"bm-view-message":252}],141:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin"),r=e("bm-service-factory-translation"),s=e("bm-service-factory-capi"),l=s,c=e("bm-helper-auth-adapter"),d=e("bm-service-factory-auth"),u=e("bm-videoplayer/models/playlist"),p=e("bm-videoplayer/models/playlist/item"),m=e("bm-view-episode-list-v1"),h=m,f=function(e){if(!(this instanceof f))return new f(e);f.super_.call(this,arguments),this._urlEpisodeListButton=e.urlEpisodeListButton,this._brandType=e.brandType,this._enableSeasonList=e.enableSeasonList};i.inherits(f,o);var b=f.prototype;b._urlEpisodeListButton="",b._brandType="",b._serviceCapi=void 0,b._viewEpisodeList={},b._seasonId=0,b._contentId=0,b._jwplayerInstance=void 0,b._playerEl=void 0,b._serviceAuth=void 0,b.loadPlugin=function(){var e=this,t=r().getInstance();e._serviceCapi=l(),e._serviceAuth=d().getInstance(),e._player.on(a.EVENT_PLAYLIST_ITEM,function(n){e._player.getView()===e._viewEpisodeList&&e._player.hideView(),e._jwplayerInstance=e._player.getJwplayerInstance(),e._playerEl=e._jwplayerInstance.getContainer(),e._contentId=parseInt(n.item.data.mediaId),e._jwplayerInstance.removeButton("bm-icon-episode-list"),e._serviceCapi.getInstance().getContents(e._contentId).then(function(n){n.data.content.episode>0&&e._jwplayerInstance.addButton(e._urlEpisodeListButton,t.t("Episode List"),e._displayEpisodeList.bind(e),"bm-icon-episode-list","bm-icon-episode-list"),$("#"+e._playerEl.id+" div.bm-icon-episode-list").insertBefore("#"+e._playerEl.id+" div.bm-icon-info-overlay"),$('div[class*="jw-settings"]').on("click touchstart",function(){e._player.getView()===e._viewEpisodeList&&e._player.setView(null)})})}),e._player.on(a.EVENT_PLAYBACK_COMPLETE,function(){e._player.getView()===e._viewEpisodeList&&e._player.hideView()}),e._player.on(a.EVENT_STATUS_VIEW,function(t){!0===t&&e._player.getView()===e._viewEpisodeList&&e._viewEpisodeList.scrollEpisodeList()}),e._serviceAuth.on(c.EVENT_STATUS_CHANGE,function(t){e._player.getView()===e._viewEpisodeList&&(e._player.setView(null),e._displayEpisodeList())})},b._displayEpisodeList=function(){var e,t=this;if(t._player.getView()===t._viewEpisodeList&&0===t._seasonId)return void t._player.setView(null);e=t._seasonId>0?t._getEpisodeListByContentIdAndSeasonId(t._contentId,t._seasonId):t._getEpisodeListByContentId(t._contentId),e.then(function(e){t._serviceAuth.isAuthenticated().then(function(n){t._viewEpisodeList=h({playerId:t._player.getJwplayerInstance().getContainer().id,brandType:t._brandType,enableSeasonList:t._enableSeasonList}),0===t._seasonId&&t._viewEpisodeList.update({seasonId:_.first(e).seasonId}),t._viewEpisodeList.update({playerId:t._player.getJwplayerInstance().getContainer().id,brandType:t._brandType,contentId:t._contentId,episodeList:e,seasonName:_.first(e).season,seasonList:[],isAuthenticated:n}),t._viewEpisodeList.render(),t._addClickListeners(),t._seasonId=0,t._player.setView(t._viewEpisodeList),t._player.showView(),t._player._event.emit(f.EVENT_EPISODELIST_OPEN)})})},b._addClickListeners=function(){var e=this;e._viewEpisodeList.on(m.EVENT_DISMISS_CLICK,function(){e._player.getView()===e._viewEpisodeList&&e._player.setView(null)}),e._viewEpisodeList.on(m.EVENT_EPISODE_ITEM_CLICK,function(t){e._loadNewContent(t)}),e._viewEpisodeList.on(m.EVENT_SEASON_LIST_CLICK,function(){e._displaySeasonList()}),e._viewEpisodeList.on(m.EVENT_SEASON_ITEM_CLICK,function(t){e._seasonId=t,e._displayEpisodeList()})},b._displaySeasonList=function(e){var t=this;t._getSeasonListByContentId(t._contentId).then(function(e){t._viewEpisodeList.update({episodeList:[],seasonList:e}),t._viewEpisodeList.render()})},b._getEpisodeListByContentId=function(e){return this._serviceCapi.getInstance().getContentsEpisodeListByContentId(e).then(function(e){return e.data})},b._getEpisodeListByContentIdAndSeasonId=function(e,t){return this._serviceCapi.getInstance().getContentsEpisodeListByContentIdAndSeasonId(e,t).then(function(e){return e.data})},b._getSeasonListByContentId=function(e){return this._serviceCapi.getInstance().getContentsSeasonListByContentId(e).then(function(e){return e.data})},b._loadNewContent=function(e){var t=this;t._player.getView()===t._viewEpisodeList&&t._player.setView(null),t._player.loadPlaylist(u().setData({title:"",description:"",items:[p().setData({mediaId:e})]}),!0)},f.EVENT_EPISODELIST_OPEN="event_episodelist_open",t.exports=f},{"@bellmedia/bm-base":11,"bm-helper-auth-adapter":60,"bm-service-factory-auth":116,"bm-service-factory-capi":117,"bm-service-factory-translation":120,"bm-videoplayer":203,"bm-videoplayer-plugin":202,"bm-videoplayer/models/playlist":208,"bm-videoplayer/models/playlist/item":209,"bm-view-episode-list-v1":232}],142:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin"),r=e("bm-service-factory-translation"),s=e("bm-service-factory-capi"),l=s,c=e("bm-helper-auth-adapter"),d=e("bm-service-factory-auth"),u=e("bm-videoplayer/models/playlist"),p=e("bm-videoplayer/models/playlist/item"),m=e("bm-view-episode-list"),h=m,f=function(e){if(!(this instanceof f))return new f(e);f.super_.call(this,arguments),this._urlEpisodeListButton=e.urlEpisodeListButton,this._brandType=e.brandType,this._enableSeasonList=e.enableSeasonList};i.inherits(f,o);var b=f.prototype;b._urlEpisodeListButton="",b._brandType="",b._serviceCapi=void 0,b._viewEpisodeList={},b._seasonId=0,b._contentId=0,b._jwplayerInstance=void 0,b._playerEl=void 0,b._serviceAuth=void 0,b.loadPlugin=function(){var e=this,t=r().getInstance();e._serviceCapi=l(),e._serviceAuth=d().getInstance(),e._player.on(a.EVENT_PLAYLIST_ITEM,function(n){e._player.getView()===e._viewEpisodeList&&e._player.hideView(),e._jwplayerInstance=e._player.getJwplayerInstance(),e._playerEl=e._jwplayerInstance.getContainer(),e._contentId=parseInt(n.item.data.mediaId),e._jwplayerInstance.removeButton("bm-icon-episode-list"),e._serviceCapi.getInstance().getContents(e._contentId).then(function(n){n.data.content.episode>0&&e._jwplayerInstance.addButton(e._urlEpisodeListButton,t.t("Episode List"),e._displayEpisodeList.bind(e),"bm-icon-episode-list","bm-icon-episode-list"),$("#"+e._playerEl.id+" div.bm-icon-episode-list").insertBefore("#"+e._playerEl.id+" div.bm-icon-info-overlay"),$('div[class*="jw-settings"]').on("click touchstart",function(){e._player.getView()===e._viewEpisodeList&&e._player.setView(null)})})}),e._player.on(a.EVENT_PLAYBACK_COMPLETE,function(){e._player.getView()===e._viewEpisodeList&&e._player.hideView()}),e._player.on(a.EVENT_STATUS_VIEW,function(t){!0===t&&e._player.getView()===e._viewEpisodeList&&e._viewEpisodeList.scrollEpisodeList()}),e._serviceAuth.on(c.EVENT_STATUS_CHANGE,function(t){e._player.getView()===e._viewEpisodeList&&(e._player.setView(null),e._displayEpisodeList())})},b._displayEpisodeList=function(){var e,t=this;if(t._player.getView()===t._viewEpisodeList&&0===t._seasonId)return void t._player.setView(null);e=t._seasonId>0?t._getEpisodeListByContentIdAndSeasonId(t._contentId,t._seasonId):t._getEpisodeListByContentId(t._contentId),e.then(function(e){t._serviceAuth.isAuthenticated().then(function(n){t._viewEpisodeList=h({playerId:t._player.getJwplayerInstance().getContainer().id,brandType:t._brandType,enableSeasonList:t._enableSeasonList}),0===t._seasonId&&(t._seasonId=_.first(e).seasonId),t._getSeasonListByContentId(t._contentId).then(function(i){t._viewEpisodeList.update({playerId:t._player.getJwplayerInstance().getContainer().id,brandType:t._brandType,contentId:t._contentId,episodeList:e,seasonName:_.first(e).season,seasonList:i,seasonId:t._seasonId,isAuthenticated:n}),t._viewEpisodeList.render(),t._addClickListeners(),t._seasonId=0,t._player.setView(t._viewEpisodeList),t._player.showView(),t._player._event.emit(f.EVENT_EPISODELIST_OPEN)})})})},b._addClickListeners=function(){var e=this;e._viewEpisodeList.on(m.EVENT_DISMISS_CLICK,function(){e._player.getView()===e._viewEpisodeList&&e._player.setView(null)}),e._viewEpisodeList.on(m.EVENT_EPISODE_ITEM_CLICK,function(t){e._loadNewContent(t)}),e._viewEpisodeList.on(m.EVENT_SEASON_LIST_CLICK,function(){e._displaySeasonList()}),e._viewEpisodeList.on(m.EVENT_SEASON_ITEM_CLICK,function(t){e._seasonId=t,e._displayEpisodeList()})},b._displaySeasonList=function(e){var t=this;t._getSeasonListByContentId(t._contentId).then(function(e){})},b._getEpisodeListByContentId=function(e){return this._serviceCapi.getInstance().getContentsEpisodeListByContentId(e).then(function(e){return e.data})},b._getEpisodeListByContentIdAndSeasonId=function(e,t){return this._serviceCapi.getInstance().getContentsEpisodeListByContentIdAndSeasonId(e,t).then(function(e){return e.data})},b._getSeasonListByContentId=function(e){return this._serviceCapi.getInstance().getContentsSeasonListByContentId(e).then(function(e){return e.data})},b._loadNewContent=function(e){var t=this;t._player.getView()===t._viewEpisodeList&&t._player.setView(null),t._player.loadPlaylist(u().setData({title:"",description:"",items:[p().setData({mediaId:e})]}),!0)},
f.EVENT_EPISODELIST_OPEN="event_episodelist_open",t.exports=f},{"@bellmedia/bm-base":11,"bm-helper-auth-adapter":60,"bm-service-factory-auth":116,"bm-service-factory-capi":117,"bm-service-factory-translation":120,"bm-videoplayer":203,"bm-videoplayer-plugin":202,"bm-videoplayer/models/playlist":208,"bm-videoplayer/models/playlist/item":209,"bm-view-episode-list":235}],143:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin-event-capi"),r=e("bm-videoplayer-jw-plugin-playlist-log-manifest-errors"),s=e("bm-service-factory-capi"),l=s,c=function(){if(!(this instanceof c))return new c;c.super_.call(this)};i.inherits(c,o);var d=c.prototype;d._serviceCapi=void 0,d._playOriginal=void 0,d._playlistItemOriginal=void 0,d.loadPlugin=function(){var e=this;e._serviceCapi=l(),e._player.on(a.EVENT_PLAYER_SETUP,function(){e._overwriteJwplayer()})},d._overwriteJwplayer=function(){var e=this;e._playOriginal=e._player.getJwplayerInstance().play,e._playlistItemOriginal=e._player.getJwplayerInstance().playlistItem,e._player.getJwplayerInstance().play=function(){var t=arguments,n=e._player.getCurrentItemIndex(),i=e._player.getCurrentItem().data.mediaId,a=r.getManifestErrorByContentIdSync(i);if(a){var s=e._serviceCapi.getInstance().getErrorHelperCapiError(a);s.failedPlaylistIndex=n,e._player._event.emit(o.EVENT_CAPI_ERROR,s)}else e._playOriginal.apply(e._player.getJwplayerInstance(),t)},e._player.getJwplayerInstance().playlistItem=function(){var t=arguments,n=t[0],i=e._player.getPlaylist().data.items[n].data.mediaId,a=r.getManifestErrorByContentIdSync(i);if(e._player.getJwplayerInstance().stop(),a){var s=e._serviceCapi.getInstance().getErrorHelperCapiError(a);s.failedPlaylistIndex=n,e._player._event.emit(o.EVENT_CAPI_ERROR,s)}else e._playlistItemOriginal.apply(e._player.getJwplayerInstance(),t)},e._player.on(a.EVENT_PLAYBACK_BEFORE_COMPLETE,function(){var t=e._player.getCurrentItemIndex()+1;if(t<e._player.getPlaylist().data.items.length){var n=e._player.getPlaylist().data.items[t].data.mediaId,i=r.getManifestErrorByContentIdSync(n);if(e._player.getJwplayerInstance().stop(),i){var a=e._serviceCapi.getInstance().getErrorHelperCapiError(i);a.failedPlaylistIndex=t,e._player._event.emit(o.EVENT_CAPI_ERROR,a)}else e._player.getJwplayerInstance().next()}})},t.exports=c},{"@bellmedia/bm-base":11,"bm-service-factory-capi":117,"bm-videoplayer":203,"bm-videoplayer-jw-plugin-playlist-log-manifest-errors":157,"bm-videoplayer-plugin-event-capi":183}],144:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin"),r=e("bm-service-factory-translation"),s=e("bm-view-info-overlay"),l=s,c=function(e){if(!(this instanceof c))return new c(e);c.super_.call(this,arguments),this._urlInfoButton=e.urlInfoButton,this._brandType=e.brandType};i.inherits(c,o);var d=c.prototype;d._urlInfoButton="",d._brandType="",d._viewInfoOverlay={},d.loadPlugin=function(){var e=this,t=r().getInstance();e._player.once(a.EVENT_PLAYLIST_ITEM,function(n){e._player.hideView(),e._player.getJwplayerInstance().addButton(e._urlInfoButton,t.t("Show Info"),e._displayExtendedMetadata.bind(e),"bm-icon-info-overlay","bm-icon-info-overlay"),$('div[class*="jw-settings"]').on("click touchstart",function(){e._player.getView()===e._viewInfoOverlay&&e._player.setView(null)})}),e._player.on(a.EVENT_PLAYBACK_COMPLETE,function(){e._player.hideView()})},d._displayExtendedMetadata=function(){var e=this;e._player.getView()===e._viewInfoOverlay?e._player.setView(null):(e._viewInfoOverlay=l({contentId:e._player.getCurrentItem().data.mediaId,brandType:e._brandType}),e._viewInfoOverlay.render(),e._viewInfoOverlay.on(s.EVENT_DISMISS_CLICK,function(){e._player.getView()===e._viewInfoOverlay&&e._player.setView(null)}),e._player._event.emit(c.EVENT_INFO_OVERLAY_CLICK),e._player.setView(e._viewInfoOverlay))},c.EVENT_INFO_OVERLAY_CLICK="info_overlay_click",t.exports=c},{"@bellmedia/bm-base":11,"bm-service-factory-translation":120,"bm-videoplayer":203,"bm-videoplayer-plugin":202,"bm-view-info-overlay":244}],145:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin"),r=e("bm-helper-cookie"),s=r();BMViewIntroOverlay=e("bm-view-intro-overlay"),bmViewIntroOverlay=BMViewIntroOverlay;var l=function(e){if(!(this instanceof l))return new l(e);e=e||{},l.super_.call(this,arguments),this._cookieExpiresIn=e.cookieExpiresIn,this._icon=e.icon,this._maxWidth=e.maxWidth,this._minHeight=e.minHeight,this._timeout=e.timeout,this._uri=e.uri};i.inherits(l,o);var c=l.prototype;c._cookieExpiresIn="",c._icon="",c._maxWidth="",c._minHeight="",c._timeout=7e3,c._uri="",c._viewIntroOverlay={},c.loadPlugin=function(){var e=this;s.getCookieByName("_iov")&&0!==e._cookieExpiresIn||e._setupOverlay()},c._setupOverlay=function(){var e=this;e._viewIntroOverlay=bmViewIntroOverlay({icon:e._icon,maxWidth:e._maxWidth,minHeight:e._minHeight}),e._viewIntroOverlay.render(),e._player.once(a.EVENT_PLAYBACK_PLAYING,function(t){e._jwplayerInstance=e._player.getJwplayerInstance(),e._playerEl=e._jwplayerInstance.getContainer(),$("#"+e._playerEl.id+" .jw-title").addClass("jw-title-hidden"),e._player.setView(e._viewIntroOverlay),s.setCookie("_iov","true",e._cookieExpiresIn),e._timeout>0&&setTimeout(function(){e._player.getView()===e._viewIntroOverlay&&e._player.setView(null),$("#"+e._playerEl.id+" .jw-title").removeClass("jw-title-hidden")},e._timeout)}),e._viewIntroOverlay.on(BMViewIntroOverlay.EVENT_CLICKTHROUGH,function(){if(e._uri){e._player.getJwplayerInstance().pause();window.open(e._uri,"_blank").focus(),e._player.getView()===e._viewIntroOverlay&&e._player.setView(null),$("#"+e._playerEl.id+" .jw-title").removeClass("jw-title-hidden")}}),e._viewIntroOverlay.on(BMViewIntroOverlay.EVENT_DISMISS_CLICK,function(){e._player.getView()===e._viewIntroOverlay&&e._player.setView(null),$("#"+e._playerEl.id+" .jw-title").removeClass("jw-title-hidden")})},t.exports=l},{"@bellmedia/bm-base":11,"bm-helper-cookie":80,"bm-videoplayer":203,"bm-videoplayer-plugin":202,"bm-view-intro-overlay":247}],146:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin"),r=e("bm-service-factory-translation"),s=function(){if(!(this instanceof s))return new s;s.super_.call(this)};i.inherits(s,o);var l=s.prototype;l._translateOnPlaybackPlaying=!1,l.loadPlugin=function(){var e=this,t=r().getInstance();e._player.on(a.EVENT_PLAYER_SETUP,function(){e._player.on(a.EVENT_BUFFER_BUFFERING,function(){setTimeout(function(){$(".jw-controlbar-center-group span.jw-text-alt").text(t.t("Loading"))},100)}),e._player.on(a.EVENT_STATUS_LOADEDDATA,function(){$(".jw-sharing-menu .jw-text").html(t.t("Copied"));$('.jw-sharing-copy[aria-label="link"] button').html('<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-link" viewBox="0 0 160 160"><path d="M79.4,99.6H92.5v2a33.6,33.6,0,0,1-9.8,24.2l-9.8,9.8a34.716,34.716,0,0,1-48.4,0,34.716,34.716,0,0,1,0-48.4l9.2-10.5a33.6,33.6,0,0,1,24.2-9.8h1.9V80H58.5a19.359,19.359,0,0,0-15.1,6.5l-9.8,9.8a20.976,20.976,0,0,0-.5,29.6l.5.5a20.976,20.976,0,0,0,29.6.5l.5-.5,9.8-9.8a20.905,20.905,0,0,0,6.5-15h0v-2ZM135,24.4h0a34.716,34.716,0,0,0-48.4,0L76.1,34.2a33.6,33.6,0,0,0-9.8,24.2v2H79.4v-2a19.359,19.359,0,0,1,6.5-15.1l9.8-9.8a20.976,20.976,0,0,1,29.6-.5l.5.5a20.976,20.976,0,0,1,.5,29.6l-.5.5-10.5,9.8a20.905,20.905,0,0,1-15,6.5H99V93h1.3a33.6,33.6,0,0,0,24.2-9.8l9.8-9.8A34.89,34.89,0,0,0,135,24.4ZM63,106.2l42.5-42.5-9.8-9.8L53.2,96.4Z"></path></svg> '+t.t("Link")),$('.jw-sharing-copy[aria-label="embed"] button').html('<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-embed" viewBox="0 0 160 160"><path d="M153.224,81.594,126.971,54.685,117.6,64.061l21.846,21.846L117.6,107.752l8.719,8.719L152.567,90.22a5.583,5.583,0,0,0,1.406-7.782,6.067,6.067,0,0,0-.75-.844ZM33.12,54.685,6.868,80.938A5.973,5.973,0,0,0,6.68,89.47l.188.188L33.12,117.128l9.376-9.376-22.5-21.846L42.5,64.061ZM53.747,134.1,94.437,21.5,106.345,25.9,65.654,138.5Z"></path></svg> '+t.t("Embed")),$('.jw-sharing-link[aria-label="email"]').html('<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-email" viewBox="0 0 160 160" focusable="false"><path d="M147.3,27.9H11.9L10,29.8v97a3.02,3.02,0,0,0,2.8,3.2H146.6a3.02,3.02,0,0,0,3.2-2.8V31C150.5,29.2,149.2,27.9,147.3,27.9ZM125.6,40.7,80.3,77.1,35,40.7Zm12.1,76.6H22.8V47.7l57.5,46,57.5-46-.1,69.6Z"></path></svg> '+t.t("Email"))})})},t.exports=s},{"@bellmedia/bm-base":11,"bm-service-factory-translation":120,"bm-videoplayer":203,"bm-videoplayer-plugin":202}],147:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-loader-script"),o=e("bm-advertisement-helper"),r=e("bm-videoplayer"),s=e("bm-videoplayer-plugin"),l=e("underscore"),c=function(e,t){if(!(this instanceof c))return new c(e,t);c.super_.call(this),this._htmlPartnerCode=e.htmlPartnerCode,this._loadMoatSDK=a(e.path),this._optionsAd=t};i.inherits(c,s);var d=c.prototype;d._debugKey="bm-moat-debug",d._playlistItem=void 0,d._optionsAd={},d._htmlPartnerCode="",d._loadMoatSDK=void 0,d.loadPlugin=function(){var e=this;this._player.on(r.EVENT_PLAYER_SETUP,function(){e._loadMoatSDK.then(e._initMoat.bind(e))}),this._player.on(r.EVENT_PLAYLIST_ITEM,function(t){e._playlistItem=t.item})},d._initMoat=function(){var e=this,t=e._player.getJwplayerInstance();t.on("adImpression",function(n){if("undefined"!=typeof moatjw){var i=this.getConfig(),a=o().getMoatDataForPlayerInstance(e._player.getInstanceId()),r=e._optionsAd.desktop.masterTag,s=l.isEmpty(e._playlistItem.data.adzone)?r.adzone:e._playlistItem.data.adzone,c=l.isEmpty(e._playlistItem.data.adsite)?r.adsite:e._playlistItem.data.adsite,d=a.zMoatAdUnitPath.replace("__item-vidiAdSite__",c).replace("__item-vidiAdZone__",s),u=l.extend(a,{zMoatAdUnitPath:d,zMoatRoll:n.adposition,zMoatAutoP:i.autostart,zMoatDim:window.screen.width+"x"+window.screen.height});e.debugLog("[_initMoat]","add",u),moatjw.add({partnerCode:e._htmlPartnerCode,player:t,adImpressionEvent:n,ids:u,duration:n.duration})}else e.debugLog("[_initMoat]","moatjw is undefined")})},t.exports=c},{"@bellmedia/bm-base":11,"@bellmedia/bm-loader-script":14,"bm-advertisement-helper":33,"bm-videoplayer":203,"bm-videoplayer-plugin":202,underscore:32}],148:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin"),r=e("underscore"),s=function(e){if(!(this instanceof s))return new s(e);this._enableControls=e.enableControls,s.super_.call(this)};i.inherits(s,o);var l=s.prototype;l._enableControls=!1,l.loadPlugin=function(){var e=this,t=window.BMVidiPlayerInstances,n=function(e){t.forEach(function(e){e._instanceBMVideoplayerJw._jwplayerInstance&&(e._instanceBMVideoplayerJw.disableControls(),e._instanceBMVideoplayerJw._jwplayerInstance.on("displayClick",function(){e._instanceBMVideoplayerJw.setMute(!1)}))})},i=function(n){var i=!0;t.forEach(function(e){e._instanceBMVideoplayerJw._jwplayerInstance&&(i=!0===e._instanceBMVideoplayerJw.isMute()&&!0===i)}),t.forEach(function(t){t._instanceBMVideoplayerJw._jwplayerInstance&&t._playerId!==e._player._instanceId&&(!0!==t._instanceBMVideoplayerJw.isMute()&&!0!==n&&t._instanceBMVideoplayerJw.setMute(!0),r.isObject(n)&&!0===n.fullscreen&&t._instanceBMVideoplayerJw.pause(),r.isObject(n)&&!1===n.fullscreen&&t._instanceBMVideoplayerJw.play()),t._instanceBMVideoplayerJw._jwplayerInstance&&t._playerId===e._player._instanceId&&!0===t._instanceBMVideoplayerJw.isMute()&&r.isObject(n)&&!1===i&&t._instanceBMVideoplayerJw.setMute(!1)})},o=function(n){t.forEach(function(t){t._instanceBMVideoplayerJw._jwplayerInstance&&t._playerId!==e._player._instanceId&&!0===t._instanceBMVideoplayerJw.isMute()&&t._instanceBMVideoplayerJw.disableControls(),t._instanceBMVideoplayerJw._jwplayerInstance&&t._playerId===e._player._instanceId&&!0!==t._instanceBMVideoplayerJw.isMute()&&setTimeout(function(){t._instanceBMVideoplayerJw.enableControls()},1)})};e._player.on(a.EVENT_VOLUME_MUTE,i),e._player.on(a.EVENT_PLAYER_FULLSCREEN,i),!1===e._enableControls&&(e._player.on(a.EVENT_STATUS_LOADEDDATA,n),e._player.on(a.EVENT_VOLUME_MUTE,o),e._player.on(a.EVENT_PLAYER_FULLSCREEN,o))},t.exports=s},{"@bellmedia/bm-base":11,"bm-videoplayer":203,"bm-videoplayer-plugin":202,underscore:32}],149:[function(e,t,n){(function(n){(function(){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin"),r=e("./templates/css/plugin-mute-common.css.tpl"),s=e("./templates/css/plugin-mute-click-through.css.tpl"),l=e("bm-css-injector"),c=e("underscore"),d="undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null,u=function(){if(!(this instanceof u))return new u;u.super_.call(this)};i.inherits(u,o),u.prototype.loadPlugin=function(){var e=this,t="#"+e._player._instanceId;l().injectStyles(c.template(r)({selector:t}),"bm-plugin-mute-common"),e._player.on(a.EVENT_PLAYLIST_ITEM,function(e){e.item.data.urlClickThrough&&(l().injectStyles(c.template(s)({selector:t}),"bm-plugin-mute-click-through"),d(t+" .jw-media").on("click",function(){window.location.href=e.item.data.urlClickThrough}))})},t.exports=u}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./templates/css/plugin-mute-click-through.css.tpl":150,"./templates/css/plugin-mute-common.css.tpl":151,"@bellmedia/bm-base":11,"bm-css-injector":47,"bm-videoplayer":203,"bm-videoplayer-plugin":202,underscore:32}],150:[function(e,t,n){t.exports="<%- selector %> .jw-media {\n    cursor: pointer !important;\n}"},{}],151:[function(e,t,n){t.exports="<%- selector %> .jw-title {\n    visibility: hidden !important;\n}"},{}],152:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin"),o=(e("bm-media-provider-capi/exceptions/bm-media-provider-capi"),e("bm-media-provider/models/media-info"),e("bm-service-factory-auth")),r=e("bm-service-factory-userdal"),s=r,l=e("bm-service-factory-media-provider"),c=e("underscore"),d=e("bluebird"),u=function(e){if(!(this instanceof u))return new u(e);this._enableFhd=e.enableFhd,u.super_.call(this)};i.inherits(u,a);var p=u.prototype;p._enableFhd=!1,p._serviceMediaProvider=void 0,p._serviceAuth=void 0,p._serviceUserdal=void 0,p._originalConvertModelPlaylistToJWPlaylist=void 0,p.loadPlugin=function(){this._serviceMediaProvider=l().getInstance(),this._serviceAuth=o().getInstance(),this._serviceUserdal=s(),this._originalConvertModelPlaylistToJWPlaylist=this._player._convertModelPlaylistToJWPlaylist,this._player._convertModelPlaylistToJWPlaylist=this._convertModelPlaylistToJWPlaylist.bind(this)},p._convertModelPlaylistToJWPlaylist=function(e){var t,n,i=this,a=new d(function(e,i){t=e,n=i}),o=e.getMediaIds(),r={},s=i._player._jwplayerInstance.getEnvironment(),l={widevine:{chrome:["android"]},playready:{edge:["windows"],ie:["windows"]},fairplay:{safari:["mac","iOS","iPad","iPhone"]}},u=c.filter(c.map(c.filter(c.pairs(s.Browser),c.last),c.first),function(e){return"version"!==e}),p=c.filter(c.map(c.filter(c.pairs(s.OS),c.last),c.first),function(e){return"version"!==e});return this._serviceMediaProvider.getMediaInfoArray(o).then(function(e){e=c.filter(e,function(e){return null!==e}),c.each(e,function(e,t){r[e.data.mediaId]=e.data.authz.required})}).then(function(){return i._serviceAuth.isAuthenticated()}).then(i._getAuthzQueryString.bind(i,o)).then(function(a){i._originalConvertModelPlaylistToJWPlaylist(e).then(function(e){c.each(e,function(e,t){a[e.mediaid]?(c.isArray(e.tracks)&&c.each(e.tracks,function(t){t.file=t.file+a[e.mediaid]}),c.each(e.sources,function(t){t.file=t.file+a[e.mediaid]})):r[e.mediaid]&&!a[e.mediaid]&&c.each(e.sources,function(e){"hls"===e.type&&e.drm&&delete e.drm}),c.each(e.sources,function(e){l[c.keys(e.drm)[0]]&&c.intersection(c.keys(l[c.keys(e.drm)[0]]),u).length>0&&c.intersection(c.flatten(c.map(c.intersection(c.keys(l[c.keys(e.drm)[0]]),u),function(t){return l[c.keys(e.drm)[0]][t]})),p).length>0&&i._enableFhd&&(e.file+=(e.file.split("?")[1]?"&":"?")+"filter=14")})}),t(e)},function(e){n(e)})}),a},p._getAuthzQueryString=function(e,t){var n,i,a=this,o={},s=new d(function(e,t){n=e,i=t});if(!t)return c.each(e,function(e){o[e]=null}),n(o),s;var l=[];return c.each(e,function(e){l.push(a._serviceAuth.getSecurityTokensByContentId(e))}),d.all(l).then(function(e){return a._serviceUserdal.getInstance(r.TYPE_USERDAL).getV3DevicesCurrent().then(function(t){return{arrTokens:e,device:t?t.data:null}})}).then(function(t){var i=t.arrTokens,a=t.device;c.each(e,function(e,t){if(i[t]&&i[t].data&&i[t].data.authz_token&&i[t].data.identity_token){var r=["az="+encodeURIComponent(JSON.stringify(i[t].data.authz_token)),"ai="+encodeURIComponent(JSON.stringify(i[t].data.identity_token)),"postalCode="+i[t].data.identity_token.identity.attributes.postal_code];a&&a.id&&r.push("did="+a.id),o[e]="?"+r.join("&")}else o[e]=null;n(o)})}),s},t.exports=u},{"@bellmedia/bm-base":11,bluebird:16,"bm-media-provider-capi/exceptions/bm-media-provider-capi":111,"bm-media-provider/models/media-info":114,"bm-service-factory-auth":116,"bm-service-factory-media-provider":118,"bm-service-factory-userdal":121,"bm-videoplayer-plugin":202,underscore:32}],153:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin"),o=e("bm-media-provider-capi/exceptions/bm-media-provider-capi"),r=e("bm-media-provider/models/media-info"),s=e("bm-service-factory-media-provider"),l=e("underscore"),c=e("bluebird"),d=function(){if(!(this instanceof d))return new d;d.super_.call(this)};i.inherits(d,a);var u=d.prototype;u._serviceMediaProvider=void 0,u.loadPlugin=function(){this._serviceMediaProvider=s().getInstance(),this._player._convertModelPlaylistToJWPlaylist=this._convertModelPlaylistToJWPlaylist.bind(this)},u._convertModelPlaylistToJWPlaylist=function(e){var t,n,i=this,a=new c(function(e,i){t=e,n=i}),s=e.data,d=[];if(s.items.length>0){var u=[],p={},m={};l.each(s.items,function(e,t){u.push(e.data.mediaId),p[e.data.mediaId]={adsite:e.data.adsite,adzone:e.data.adzone},m[e.data.mediaId]={image:e.data.image}}),i._serviceMediaProvider.getMediaInfoArray(u).then(function(e){e=l.filter(e,function(e){return null!==e}),l.each(e,function(e,t){var n=[],i=e.data;l.isEmpty(i.sources)||l.isEmpty(i.sources[0].captions)||l.each(i.sources[0].captions,function(e,t){l.isEmpty(e)||n.push({file:e,label:t,kind:"captions"})});var a=[];l.each(i.sources,function(e){var t={};switch(t.file=e.file,e.drmType){case r.DRM_TYPE_NONE:break;case r.DRM_TYPE_WIDEVINE:t.drm={widevine:{url:e.drm.url,serverCertificateUrl:e.drm.serverCertificateUrl}};break;case r.DRM_TYPE_PLAYREADY:t.type="dash",t.drm={playready:{url:e.drm}};break;case r.DRM_TYPE_FAIRPLAY_APPLE:t.type="hls",t.drm={fairplay:e.drm}}a.push(t)}),d[t]={mediaid:i.mediaId,title:i.title,description:i.description,image:l.isUndefined(m[i.mediaId].image)?i.image:m[i.mediaId].image,sources:a,tracks:n,minDvrWindow:i.minDvrWindow,preload:i.preload,vidiAdSite:l.isUndefined(p[i.mediaId])?"":p[i.mediaId].adsite,vidiAdZone:l.isUndefined(p[i.mediaId])?"":p[i.mediaId].adzone}}),t(d)},function(e){e instanceof o||n(e)})}return a},t.exports=d},{"@bellmedia/bm-base":11,bluebird:16,"bm-media-provider-capi/exceptions/bm-media-provider-capi":111,"bm-media-provider/models/media-info":114,"bm-service-factory-media-provider":118,"bm-videoplayer-plugin":202,underscore:32}],154:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin"),o=e("underscore"),r=e("bluebird"),s=e("bm-ajax"),l=function(){if(!(this instanceof l))return new l;l.super_.call(this)};i.inherits(l,a);var c=l.prototype;c._originalConvertModelPlaylistToJWPlaylist=void 0,c.loadPlugin=function(){this._originalConvertModelPlaylistToJWPlaylist=this._player._convertModelPlaylistToJWPlaylist,this._player._convertModelPlaylistToJWPlaylist=this._convertModelPlaylistToJWPlaylist.bind(this)},c._convertModelPlaylistToJWPlaylist=function(e){var t,n,i=this,a=new r(function(e,i){t=e,n=i});return i._originalConvertModelPlaylistToJWPlaylist(e).then(function(e){o.each(e,function(n,i){o.isArray(n.tracks)&&!o.isEmpty(n.tracks)?o.each(n.tracks,function(i){s().getText(i.file).then(function(i){i.length>100||(n.tracks=[]),t(e)},function(i){n.tracks=[],t(e),void 0})}):t(e)})},function(e){n(e)}),a},t.exports=l},{"@bellmedia/bm-base":11,bluebird:16,"bm-ajax":34,"bm-videoplayer-plugin":202,underscore:32}],155:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin"),o=(e("bm-media-provider-capi/exceptions/bm-media-provider-capi"),e("bm-media-provider/models/media-info"),e("bm-service-factory-reco")),r=e("bm-service-factory-media-provider"),s=e("underscore"),l=e("bluebird"),c=function(e){if(!(this instanceof c))return new c(e);this._enableFhd=e.enableFhd,c.super_.call(this)};i.inherits(c,a);var d=c.prototype;d._enableFhd=!1,d._serviceMediaProvider=void 0,d._serviceReco=void 0,d._originalConvertModelPlaylistToJWPlaylist=void 0,d.loadPlugin=function(){this._serviceMediaProvider=r().getInstance(),this._serviceReco=o().getInstance(),this._originalConvertModelPlaylistToJWPlaylist=this._player._convertModelPlaylistToJWPlaylist,this._player._convertModelPlaylistToJWPlaylist=this._convertModelPlaylistToJWPlaylist.bind(this)},d._convertModelPlaylistToJWPlaylist=function(e){var t,n,i=this,a=new l(function(e,i){t=e,n=i}),o=e.getMediaIds(),r={},c=i._player._jwplayerInstance.getEnvironment(),d={widevine:{chrome:["android"]},playready:{edge:["windows"],ie:["windows"]},fairplay:{safari:["mac","iOS","iPad","iPhone"]}},u=s.filter(s.map(s.filter(s.pairs(c.Browser),s.last),s.first),function(e){return"version"!==e}),p=s.filter(s.map(s.filter(s.pairs(c.OS),s.last),s.first),function(e){return"version"!==e});return this._serviceMediaProvider.getMediaInfoArray(o).then(function(e){e=s.filter(e,function(e){return null!==e}),s.each(e,function(e,t){r[e.data.mediaId]=e.data.authz.required})}).then(i._getAuthzQueryString.bind(i,o)).then(function(a){i._originalConvertModelPlaylistToJWPlaylist(e).then(function(e){s.each(e,function(e,t){a[e.mediaid]?(s.isArray(e.tracks)&&s.each(e.tracks,function(t){t.file=t.file+a[e.mediaid]}),s.each(e.sources,function(t){t.file=t.file+a[e.mediaid]})):r[e.mediaid]&&!a[e.mediaid]&&s.each(e.sources,function(e){"hls"===e.type&&e.drm&&delete e.drm}),s.each(e.sources,function(e){d[s.keys(e.drm)[0]]&&s.intersection(s.keys(d[s.keys(e.drm)[0]]),u).length>0&&s.intersection(s.flatten(s.map(s.intersection(s.keys(d[s.keys(e.drm)[0]]),u),function(t){return d[s.keys(e.drm)[0]][t]})),p).length>0&&i._enableFhd&&(e.file+=(e.file.split("?")[1]?"&":"?")+"filter=14")})}),t(e)},function(e){n(e)})}),a},d._getAuthzQueryString=function(e,t){var n,i,a=this,o={},r=new l(function(e,t){n=e,i=t});return s.each(e,function(e,t){var n=a._serviceReco.getJwtAccessToken(),i=a._serviceReco.isAccessTokenExpired(n),r=a._serviceReco.getDeviceId();if(n&&!i){var s=["jwt="+n,"dId="+r];o[e]="?"+s.join("&")}else o[e]=null}),n(o),r},t.exports=c},{"@bellmedia/bm-base":11,bluebird:16,"bm-media-provider-capi/exceptions/bm-media-provider-capi":111,"bm-media-provider/models/media-info":114,"bm-service-factory-media-provider":118,"bm-service-factory-reco":119,"bm-videoplayer-plugin":202,underscore:32}],156:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin"),o=e("bm-service-factory-media-provider"),r=e("bm-videoplayer-jw-plugin-playlist-log-manifest-errors"),s=e("bm-ajax"),l=e("underscore"),c=e("bluebird"),d=s(),u=function(){if(!(this instanceof u))return new u;u.super_.call(this)};i.inherits(u,a);var p=u.prototype;p._serviceMediaProvider=void 0,p._originalConvertModelPlaylistToJWPlaylist=void 0,p.loadPlugin=function(){this._serviceMediaProvider=o().getInstance(),this._originalConvertModelPlaylistToJWPlaylist=this._player._convertModelPlaylistToJWPlaylist,this._player._convertModelPlaylistToJWPlaylist=this._convertModelPlaylistToJWPlaylist.bind(this)},p._convertModelPlaylistToJWPlaylist=function(e){var t=this,n={},i=t._player._jwplayerInstance.getEnvironment(),a={widevine:{firefox:["windows","mac","android"],chrome:["windows","mac","android"],androidNative:["android"],edge:["android"],facebook:["android"],ie:["android"],safari:["android"]},playready:{edge:["windows","mobile"],ie:["windows"]},fairplay:{firefox:["iOS","iPad","iPhone"],chrome:["iOS","iPad","iPhone"],androidNative:["iOS","iPad","iPhone"],edge:["iOS","iPad","iPhone"],facebook:["iOS","iPad","iPhone"],ie:["iOS","iPad","iPhone"],safari:["mac","iOS","iPad","iPhone"]}},o=l.invert(i.Browser)[!0],s=l.invert(i.OS)[!0],u=e.getMediaIds();return t._serviceMediaProvider.getMediaInfoArray(u).then(function(e){l.each(e,function(e){e&&e.data.isLive&&(n[e.data.mediaId]=!0)})}).then(function(){return t._originalConvertModelPlaylistToJWPlaylist(e)}).then(function(e){var t=[];return l.each(e,function(e,i){if(n[e.mediaid]){var c=l.filter(e.sources,function(e,t){return!(!a[l.keys(e.drm)[0]]||!a[l.keys(e.drm)[0]][o])&&l.contains(a[l.keys(e.drm)[0]][o],s)});c=l.isEmpty(c)?e.sources:c,l.each(c,function(n){r.getManifestErrorByContentIdSync(e.mediaid)||t.push(d.getText(n.file+(-1===n.file.indexOf("?")?"?action=reference":"&action=reference")).then(function(e){n.file=e},function(){}))})}}),c.all(t).then(function(){return c.resolve(e)})})},t.exports=u},{"@bellmedia/bm-base":11,bluebird:16,"bm-ajax":34,"bm-service-factory-media-provider":118,"bm-videoplayer-jw-plugin-playlist-log-manifest-errors":157,"bm-videoplayer-plugin":202,underscore:32}],157:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin"),o=(e("bm-media-provider-capi/exceptions/bm-media-provider-capi"),e("bm-media-provider/models/media-info"),e("bm-helper-auth-adapter")),r=e("bm-service-factory-auth"),s=e("bm-service-factory-userdal"),l=s,c=e("underscore"),d=e("bluebird"),u=e("bm-ajax"),p=u(),m={},h=function(){if(!(this instanceof h))return new h;h.super_.call(this)};i.inherits(h,a);var f=h.prototype;f._originalConvertModelPlaylistToJWPlaylist=void 0,f.loadPlugin=function(){var e=this,t=r().getInstance(),n=l();this._originalConvertModelPlaylistToJWPlaylist=this._player._convertModelPlaylistToJWPlaylist,this._player._convertModelPlaylistToJWPlaylist=this._convertModelPlaylistToJWPlaylist.bind(this),t.on(o.EVENT_STATUS_CHANGE,function(i){if(e._player.getJwplayerInstance()){var a=e._player.getJwplayerInstance().getPlaylist();if(i.isAuthenticated){var o=[];c.each(a,function(e){o.push(t.getSecurityTokensByContentId(e.mediaid))}),d.all(o).then(function(e){return n.getInstance(s.TYPE_USERDAL).getV3DevicesCurrent().then(function(t){return{arrTokens:e,device:t?t.data:null}})}).then(function(t){var n=t.arrTokens,i=t.device;c.each(a,function(e,t){c.each(e.sources,function(e){if(e.file=e.file.split("?")[0],n[t]&&n[t].data&&n[t].data.authz_token&&n[t].data.identity_token){var a=["az="+encodeURIComponent(JSON.stringify(n[t].data.authz_token)),"ai="+encodeURIComponent(JSON.stringify(n[t].data.identity_token)),"postalCode="+n[t].data.identity_token.identity.attributes.postal_code];i&&i.id&&a.push("did="+i.id),e.file+="?"+a.join("&")}})}),e._updateManifestErrorByPlaylist(a)})}else c.each(a,function(e){c.each(e.sources,function(e){e.file=e.file.split("?")[0]})}),e._updateManifestErrorByPlaylist(a)}})},f._convertModelPlaylistToJWPlaylist=function(e){var t=this;e.getMediaIds();return t._originalConvertModelPlaylistToJWPlaylist(e).then(function(e){return t._updateManifestErrorByPlaylist(e).then(function(){return d.resolve(e)})})},f._updateManifestErrorByManifest=function(e,t){return p.getText(t).then(function(t){return m[e]=null,d.resolve(null)},function(t){return m[e]=t,d.resolve(t)})},f._updateManifestErrorByPlaylist=function(e){var t=this,n=[];return e.forEach(function(e){n.push(t._updateManifestErrorByManifest(e.mediaid,e.sources[0].file))}),d.all(n)},h.getManifestErrorByContentIdSync=function(e){if(c.isUndefined(m[e]))throw new RangeError("contentId is not found");return m[e]},t.exports=h},{"@bellmedia/bm-base":11,bluebird:16,"bm-ajax":34,"bm-helper-auth-adapter":60,"bm-media-provider-capi/exceptions/bm-media-provider-capi":111,"bm-media-provider/models/media-info":114,"bm-service-factory-auth":116,"bm-service-factory-userdal":121,"bm-videoplayer-plugin":202,underscore:32}],158:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin-restrictions"),r=e("bm-videoplayer-plugin-event-capi"),s=e("bm-helper-capi/exceptions/bm-helper-capi"),l=e("bm-helper-auth-adapter"),c=e("bm-service-factory-translation"),d=e("bm-service-factory-auth"),u=e("bm-service-factory-capi"),p=u,m=e("bm-service-factory-media-provider"),h=e("bm-videoplayer-jw-plugin-playlist-log-manifest-errors"),f=e("bm-view-message"),_=f,b=e("bm-view-message-bmauth2"),v=b,g=e("mobile-detect"),y=new g(window.navigator.userAgent),E=function(e){if(!(this instanceof E))return new E(e);E.super_.call(this,arguments),this._enableAutoplay=e};i.inherits(E,o);var T=E.prototype;T._enableAutoplay=!1,T._serviceCapi=void 0,T._t={t:function(){}},T._auth=void 0,T._mediaProvider=void 0,T._lastFailedPlaylistIndex=null,T.loadPlugin=function(){var e=this;this._t=c().getInstance(),this._auth=d().getInstance(),this._serviceCapi=p(),this._mediaProvider=m().getInstance(),e._auth.on(l.EVENT_STATUS_CHANGE,function(t){var n=e._player.getJwplayerInstance();if(n){var i=e._player.getCurrentItemIndex(),o=e._player.getCurrentItem();if(o&&!t.isAuthenticated)e._mediaProvider.getMediaInfo(o.data.mediaId).then(function(t){t&&t.data&&t.data.authz.required&&(e._player.once(a.EVENT_PLAYLIST_ITEM,function(){var t=h.getManifestErrorByContentIdSync(o.data.mediaId),n=e._serviceCapi.getInstance().getErrorHelperCapiError(t);n.failedPlaylistIndex=i,e._player._event.emit(r.EVENT_CAPI_ERROR,n)}),e._player.loadPlaylist(e._player.getPlaylist(),!1),e._player.hideView())});else if(o&&t.isAuthenticated){var s;s=null!==e._lastFailedPlaylistIndex?e._player.getPlaylist().data.items[e._lastFailedPlaylistIndex].data.mediaId:o.data.mediaId,e._mediaProvider.getMediaInfo(s).then(function(t){t&&t.data&&t.data.authz.required&&(e._player.once(a.EVENT_PLAYLIST_ITEM,function(){var t=h.getManifestErrorByContentIdSync(o.data.mediaId);if(t){var n=e._serviceCapi.getInstance().getErrorHelperCapiError(t);return n.failedPlaylistIndex=i,void e._player._event.emit(r.EVENT_CAPI_ERROR,n)}e._player.hideView(),null===y.mobile()&&!0===e._enableAutoplay&&(null!==e._lastFailedPlaylistIndex?e._player.playItem(e._lastFailedPlaylistIndex):e._player.playItem(i),e._lastFailedPlaylistIndex=null)}),n.setCurrentAudioTrack(0),e._player.loadPlaylist(e._player.getPlaylist(),!1),e._player.hideView())})}}}),this._player.on(r.EVENT_CAPI_ERROR,function(t){if(t instanceof s&&t.message===s.RESPONSE_401){document.fullscreen&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen());var n=t.failedPlaylistIndex?t.failedPlaylistIndex:e._player.getCurrentItemIndex();e._lastFailedPlaylistIndex=n,e._showAuthError(e._t.t("Sign in to watch"))}if(t instanceof s&&t.message===s.RESPONSE_403_71){var n=t.failedPlaylistIndex?t.failedPlaylistIndex:e._player.getCurrentItemIndex();e._lastFailedPlaylistIndex=n,e._showChannelError(e._t.t("Access denied. Unauthorized channel 403.71"))}})},T._showAuthError=function(e){var t=this,n=v({hasDismissButton:!1,hasLockIcon:!0});n.setMessage("",e),n.render(),n.once(f.EVENT_DISMISS_CLICK,function(){t._player.hideView()}),n.on(b.EVENT_SIGNIN_CLICK,function(){t._auth.callSignInWindow().then(function(e){})}),t._player.setView(n)},T._showChannelError=function(e){var t=this,n=_({hasDismissButton:!1,hasLockIcon:!0});n.setMessage("",e),n.render(),t._player.setView(n)},t.exports=E},{"@bellmedia/bm-base":11,"bm-helper-auth-adapter":60,"bm-helper-capi/exceptions/bm-helper-capi":65,"bm-service-factory-auth":116,"bm-service-factory-capi":117,
"bm-service-factory-media-provider":118,"bm-service-factory-translation":120,"bm-videoplayer":203,"bm-videoplayer-jw-plugin-playlist-log-manifest-errors":157,"bm-videoplayer-plugin-event-capi":183,"bm-videoplayer-plugin-restrictions":197,"bm-view-message":252,"bm-view-message-bmauth2":250,"mobile-detect":22}],159:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=(e("bm-videoplayer"),e("bm-videoplayer-plugin-restrictions")),o=e("bm-videoplayer-plugin-event-capi"),r=e("bm-helper-capi/exceptions/bm-helper-capi"),s=e("bm-service-factory-translation"),l=e("bm-view-message"),c=e("bm-view-message-bmauth2"),d=c,u=function(e){if(!(this instanceof u))return new u(e);u.super_.call(this),this._hostAccount=e.hostAccount,this._service=e.service,this._continue=e.urlContinue,this._fallback=e.urlFallback,this._lang=e.urlLang};i.inherits(u,a);var p=u.prototype;p._t={t:function(){}},p._hostAccount="",p._service="",p._continue="",p._fallback="",p._lang="",p.loadPlugin=function(){var e=this;this._t=s().getInstance(),this._player.on(o.EVENT_CAPI_ERROR,function(t){if(t instanceof r&&t.message===r.RESPONSE_401){document.fullscreen&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen());var n=t.failedPlaylistIndex?t.failedPlaylistIndex:e._player.getCurrentItemIndex();e._lastFailedPlaylistIndex=n,e._showJwtAuthError(e._t.t("Sign in to watch"))}})},p._showJwtAuthError=function(e){var t=this,n=d({hasDismissButton:!1,hasLockIcon:!0}),i=t._continue||encodeURIComponent(window.location.href),a=window.location.protocol+"//"+window.location.hostname+(t._fallback||"/signin");n.setMessage("",e),n.render(),n.once(l.EVENT_DISMISS_CLICK,function(){t._player.hideView()}),n.on(c.EVENT_SIGNIN_CLICK,function(){window.location.href="//"+t._hostAccount+"/#/login?continue="+i+"&fallback="+a+"&service="+t._service+"&lang="+t._lang}),t._player.setView(n)},t.exports=u},{"@bellmedia/bm-base":11,"bm-helper-capi/exceptions/bm-helper-capi":65,"bm-service-factory-translation":120,"bm-videoplayer":203,"bm-videoplayer-plugin-event-capi":183,"bm-videoplayer-plugin-restrictions":197,"bm-view-message":252,"bm-view-message-bmauth2":250}],160:[function(e,t,n){(function(n){(function(){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin"),r=e("bm-css-injector"),l=e("bm-service-factory-capi"),c=e("underscore"),d="undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null,u=e("bm-service-factory-translation");r().injectStyles([".jw-sharing-content.jw-reset { text-align: center; }",".jw-settings-sharing.vidi-hide-share { display: none !important; }"].join("\n"),"vidi-player-sharing");var p=function(e){if(!(this instanceof p))return new p(e);p.super_.call(this),e&&e.data?(this._shareableConfig=e.data,this._shareableConfig.urlShareableBase=this._getUrlShareableBase(e.data.shareableHost,e.data.shareablePath)):this._shareableConfig={}};i.inherits(p,o);var m=p.prototype;m._shareableConfig={},m._serviceCapi=void 0,m.loadPlugin=function(){var e=this;this._serviceCapi=l(),this._player._getSharingConfig=this._getSharingConfig.bind(this),this._player.on(a.EVENT_PLAYLIST_ITEM,function(){e.controlShareButton()}),this._player.on(a.EVENT_PLAYBACK_PLAYING,function(){e.controlShareButton()})},m.controlShareButton=function(){var e=this;e._serviceCapi.getInstance().getContentsPackages(e._player.getCurrentItem().data.mediaId).then(function(t){t&&(t.data.auth.required||t.data.requireDrm||e._shareableConfig.enableShareableOverride&&!t.data.isSharable?d("#"+e._player._instanceId+" .jw-settings-sharing").hasClass("vidi-hide-share")||setTimeout(function(){d("#"+e._player._instanceId+" .jw-settings-sharing").addClass("vidi-hide-share")},300):setTimeout(function(){d("#"+e._player._instanceId+" .jw-settings-sharing").removeClass("vidi-hide-share")},300))},function(){})},m._getPlayerDimensions=function(e){return!e.enablePlayerAutoSizeRatio&&c.isNumber(e.height)&&c.isNumber(e.width)?{width:e.width.toString(),height:e.height.toString()}:{width:"560",height:"315"}},m._getSharingConfig=function(e){var t=u().getInstance(),n={code:this._getSharingCode(e),heading:t.t("Share video"),sites:this._shareableConfig.sitesSocialShare?this._shareableConfig.sitesSocialShare:[]};return this._shareableConfig.linkSocialShare&&(n=c.extend({},n,{link:encodeURI(this._shareableConfig.linkSocialShare+"MEDIAID")})),n},m._getUrlShareableBase=function(e,t){return"https://"+e+"/"+t+"/share/iframe.html"},m._getRSID=function(){var e="";return window.s&&window.s.un&&(e=s.un),window.s&&window.s.account&&(e=s.account),e},m._getSiteName=function(){return c.isObject(window.digitalData)&&c.isObject(window.digitalData.page)&&c.isString(window.digitalData.page.siteName)?window.digitalData.page.siteName:""},m._getSharingCode=function(e){var t=this._shareableConfig,n=null,i=c.template('<iframe src="<%=srcIframe%>" width="<%=dimensions.width%>" height="<%=dimensions.height%>"frameborder="0" allowfullscreen></iframe>');if(t.enableShareable){t.dimensions=this._getPlayerDimensions(t.playerSize),t.arrContentId=e.map(function(e){return{contentId:e.mediaid,ad:{adsite:c.isEmpty(t.adsite)?e.vidiAdSite:t.adsite,adzone:c.isEmpty(t.adzone)?e.vidiAdZone:t.adzone}}});var a=this._getRSID(),o=this._getSiteName();t.arrContentId=encodeURIComponent(JSON.stringify(t.arrContentId)),t.srcIframe=encodeURI(t.urlShareableBase+"?"+("item"===t.shareType?"currentId=MEDIAID":"")+"&config="+t.configShareablePath+"&kruxId="+t.kruxId+"&rsid="+a+"&siteName="+o+"&cid="+t.arrContentId),n=i(t)}return n},t.exports=p}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@bellmedia/bm-base":11,"bm-css-injector":47,"bm-service-factory-capi":117,"bm-service-factory-translation":120,"bm-videoplayer":203,"bm-videoplayer-plugin":202,underscore:32}],161:[function(e,t,n){var i=e("@bellmedia/bm-base-config");t.exports=function(){return i().setDefault({enableShareable:!1,configShareablePath:"",shareableHost:"",shareablePath:"",shareType:"",playerSize:{enablePlayerAutoSizeRatio:!0,width:0,height:0},kruxId:""})}},{"@bellmedia/bm-base-config":1}],162:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin"),r=e("bm-service-factory-translation"),s=e("underscore"),l=function(e,t){if(!(this instanceof l))return new l(e,t);l.super_.call(this,arguments),this._enableSkipBack=e,this._enableSkipForward=t};i.inherits(l,o);var c=l.prototype;c._enableSkipBack=!1,c._enableSkipForward=!1,c.loadPlugin=function(){var e=this,t=r().getInstance();e._player.on(a.EVENT_PLAYBACK_PLAYING,function(){var n=e._player.getJwplayerInstance(),i=n.getContainer(),a="#"+i.id+" .jw-icon-rewind",o="#"+i.id+" .jw-icon-next",r="#"+i.id+" .jw-display-icon-rewind",s="#"+i.id+" .jw-display-icon-next",l="#"+i.id+" .jw-icon-playback";$(a).remove(),$(o).remove(),e._enableSkipForward&&!e._player.isLive()&&n.addButton('<svg class="jw-svg-icon bm-svg-icon-next" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" focusable="false"><path d="M189.15,131a21.57,21.57,0,0,0-17.7-10.6,21.58,21.58,0,0,0-17.7,10.6,44.77,44.77,0,0,0,0,46.3,21.63,21.63,0,0,0,17.7,10.6,21.61,21.61,0,0,0,17.7-10.6A44.77,44.77,0,0,0,189.15,131Zm-17.7,47.2c-7.8,0-14.4-11-14.4-24.1s6.6-24.1,14.4-24.1,14.4,11,14.4,24.1S179.35,178.18,171.45,178.18Zm-43.4,9.7v-51l-4.8,4.8-6.8-6.8,13-13a4.8,4.8,0,0,1,8.2,3.4V188ZM30.85,52.78H161V33.48c0-5.3,3.6-7.2,8-4.3l41.8,27.9a5.89,5.89,0,0,1,2.7,2.7,6,6,0,0,1-2.7,8L169,95.68c-4.4,2.9-8,1-8-4.3V72.08H45.25v96.4h48.2v19.3H30.75A4.87,4.87,0,0,1,26,183V57.68A5,5,0,0,1,30.85,52.78Z"/></svg>',t.t("Fast Forward"),e._customSkipForward.bind(e),"forward","jw-icon-next"),e._enableSkipBack&&!e._player.isLive()&&n.addButton('<svg class="jw-svg-icon bm-svg-icon-rewind" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" focusable="false"><path d="M113.2,131.08a21.57,21.57,0,0,0-17.7-10.6,21.57,21.57,0,0,0-17.7,10.6,44.77,44.77,0,0,0,0,46.3A21.61,21.61,0,0,0,95.5,188a21.61,21.61,0,0,0,17.7-10.6A44.77,44.77,0,0,0,113.2,131.08Zm-17.7,47.2c-7.8,0-14.4-11-14.4-24.1s6.6-24.1,14.4-24.1,14.4,11,14.4,24.1S103.4,178.28,95.5,178.28ZM52.1,188V137l-4.8,4.8L40.5,135l13-13a4.8,4.8,0,0,1,8.2,3.4v62.7Zm162-130.2v125.3a4.87,4.87,0,0,1-4.8,4.8H146.6v-19.3h48.2V72.18H79.1v19.3c0,5.3-3.6,7.2-8,4.3L29.3,67.88a6,6,0,0,1-2.7-8,5.89,5.89,0,0,1,2.7-2.7l41.8-27.9c4.4-2.9,8-1,8,4.3v19.3H209.2A5,5,0,0,1,214.1,57.78Z"/></svg>',t.t("Rewind"),e._customSkipBack.bind(e),"rewind","jw-icon-rewind"),$(o).insertAfter(l),$(a).insertAfter(l),$(r).removeAttr("style").empty().clone().insertAfter(r),$(r).first().remove(),$(s).removeAttr("style").empty().clone().insertAfter(s),$(s).first().remove(),$(a).clone().appendTo(r),$(o).clone().appendTo(s),$(r).on("click",e._customSkipBack.bind(e)),$(s).on("click",e._customSkipForward.bind(e))})},c._customSkipBack=function(){var e=this,t=e._player.isDvr()?e._player.getDuration():0,n=e._player.getPosition()-10;e._player._event.emit(l.EVENT_REWIND_CLICK),e._player.seek(s.max([n,t]))},c._customSkipForward=function(){var e=this,t=e._player.isDvr()?0:e._player.getDuration(),n=e._player.getPosition()+10;e._player._event.emit(l.EVENT_FORWARD_CLICK),e._player.seek(s.min([n,t]))},l.EVENT_REWIND_CLICK="event_rewind_click",l.EVENT_REWIND_CLICK="event_forward_click",t.exports=l},{"@bellmedia/bm-base":11,"bm-service-factory-translation":120,"bm-videoplayer":203,"bm-videoplayer-plugin":202,underscore:32}],163:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=(e("./configs/options"),e("./events/bm-videoplayer-jw")),r=(e("bm-videoplayer/models/track"),e("bm-videoplayer/models/playlist"),e("bm-videoplayer/exceptions/playlist")),s=e("./exceptions/bm-videoplayer-jw"),l=e("underscore"),c=function(e,t){if(!(this instanceof c))return new c(e,t);if(c.super_.apply(this,arguments),!this._options.jwplayer||!this._options.jwplayer.player)throw new s(s.ERROR_NO_JWPLAYER_IN_OPTION);if(this._jwplayer=this._options.jwplayer.player,this._jwplayer.version.split(".")[0]!=c.COMPATIBLE_JWPLAYER_VERSION)throw new s(s.INCOMPATIBLE_JWPLAYER_VERSION);this._initialize()};i.inherits(c,a);var d=c.prototype;l.extend(d,e("./prototypes/general")),l.extend(d,e("./prototypes/controls")),l.extend(d,e("./prototypes/playback")),l.extend(d,e("./prototypes/caption")),l.extend(d,e("./prototypes/playlist")),l.extend(d,e("./prototypes/volume")),d._jwplayer=void 0,d._jwplayerInstance=void 0,d._tempDataFromJwPlayEvent=null,d.getJwplayerInstance=function(){return this._jwplayerInstance},d._getAdvertistingSetup=function(){return null},d._getSharingConfig=function(){return null},d.getInstanceId=function(){return this._instanceId},d._initialize=function(){var e=this;e._event=o(e),l.each(e._options.plugins,function(t){t.injectVideoplayerInstance(e),t.loadPlugin()}),e._jwplayer.key=e._options.jwplayer.licenseKey,e._jwplayerInstance=e._jwplayer(e._options.container),e._convertModelPlaylistToJWPlaylist(e._playlist).then(function(t){var n=e._getAdvertistingSetup(),i=e._getSharingConfig(t),o={base:e._options.jwplayer.urlRoot,aspectratio:e._options.appearance.aspectRatio,stretching:"uniform",width:e._options.appearance.width,playlist:t,autostart:e._options.behavior.autoStart,logo:e._options.logo,localization:e._options.localization,controls:e._options.appearance.showControls,nextUpDisplay:e._options.nextUpDisplay,renderCaptionsNatively:!0,displaytitle:e._options.appearance.showTitle,displaydescription:e._options.appearance.showDescription,playbackRateControls:e._options.appearance.playbackRateControls,playbackRates:e._options.appearance.playbackRates,related:{displayMode:"none"}};e._options.appearance.aspectRatio||(o.height=e._options.appearance.height),null!==n&&(o.advertising=n),null!==i&&(o.sharing=i),l.isUndefined(e._options.mute)||(o.mute=e._options.mute),e._jwplayerInstance.setup(o),e._event.emit(a.EVENT_PLAYER_SETUP),e._event.bindJwplayerEvents(),l.isEmpty(t)&&e._event.emit(a.EVENT_ERROR,new r(r.LOADING_ERROR))},function(e){void 0})},c.COMPATIBLE_JWPLAYER_VERSION=8,t.exports=c},{"./configs/options":164,"./events/bm-videoplayer-jw":165,"./exceptions/bm-videoplayer-jw":166,"./prototypes/caption":168,"./prototypes/controls":169,"./prototypes/general":170,"./prototypes/playback":171,"./prototypes/playlist":172,"./prototypes/volume":173,"@bellmedia/bm-base":11,"bm-videoplayer":203,"bm-videoplayer/exceptions/playlist":206,"bm-videoplayer/models/playlist":208,"bm-videoplayer/models/track":211,underscore:32}],164:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=(e("@bellmedia/bm-base-config"),e("bm-videoplayer/configs/options")),o=a,r=function(e){if(!(this instanceof r))return new r(e);r.super_.apply(this,arguments);var t=o(e).data;t.jwplayer={player:void 0,licenseKey:"",urlRoot:"",logo:"",localization:{},nextUpDisplay:!0},this.setData(t)};i.inherits(r,a),t.exports=r},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-config":1,"bm-videoplayer/configs/options":204}],165:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-event"),o=e("bm-videoplayer"),r=e("../exceptions/error-jwplayer"),s=e("bm-videoplayer/models/playlist");e("bm-videoplayer/models/playlist/item");var l=function(e){if(!(this instanceof l))return new l(e);l.super_.apply(this,arguments),this._bmvpjw=e};i.inherits(l,a);var c=l.prototype;c._bmvpjw=void 0,c._isAdPlayedBeforePlayingEvent=!1,c._stateInSeeking=null,c.bindJwplayerEvents=function(){this._eventPlayer(),this._eventStatus(),this._eventControls(),this._eventPlaybackPlayOnly(),this._eventPlayback(),this._eventCaption(),this._eventPlaylist(),this._eventVolume(),this._eventBuffer(),this._eventAd(),this._eventError(),this._eventWarning()},c._eventPlayer=function(){var e=this;e._bmvpjw.getJwplayerInstance().on("resize",function(t){e.emit(o.EVENT_PLAYER_RESIZE,t.width,t.height)}),e._bmvpjw.getJwplayerInstance().on("fullscreen",function(t){e.emit(o.EVENT_PLAYER_FULLSCREEN,t)}),e._bmvpjw.getJwplayerInstance().on("autostartNotAllowed",function(){e.emit(o.EVENT_AUTOSTART_NOT_ALLOWED)})},c._eventStatus=function(){var e=this;e._bmvpjw.getJwplayerInstance().on("firstFrame",function(t){e.emit(o.EVENT_STATUS_LOADEDDATA,t)}),e._bmvpjw.getJwplayerInstance().on("ready",function(t){e._bmvpjw.getJwplayerInstance().once("playlistItem",function(n){0===n.index&&(e.emit(o.EVENT_STATUS_CANPLAY,t),e.emit(o.EVENT_PLAYLIST_LOADED))})}),e._bmvpjw.getJwplayerInstance().on("meta",function(t){e.emit(o.EVENT_STATUS_LOADSTART,t),e.emit(o.EVENT_STATUS_LOADEDMETADATA,t),e.emit(o.EVENT_STATUS_DURATIONCHANGE,t)}),e._bmvpjw.getJwplayerInstance().on("buffer",function(t){"stalled"===t.reason&&e.emit(o.EVENT_STATUS_STALLED,t)}),e._bmvpjw.getJwplayerInstance().on("buffer",function(t){"idle"!==t.newstate&&"paused"!==t.newstate||e.emit(o.EVENT_STATUS_SUSPEND,t)}),e._bmvpjw.getJwplayerInstance().on("levels",function(t){e.emit(o.EVENT_STATUS_QUALITYLIST,e._bmvpjw.getCurrentAvailableQualities())}),e._bmvpjw.getJwplayerInstance().on("levelsChanged",function(t){e.emit(o.EVENT_STATUS_QUALITYCHANGED,e._bmvpjw.getCurrentStreamQuality())})},c._eventControls=function(){var e=this;e._bmvpjw.getJwplayerInstance().on("controls",function(t){e.emit(o.EVENT_CONTROLS_STATE,t.controls)}),e._bmvpjw.getJwplayerInstance().on("displayClick",function(){e.emit(o.EVENT_DISPLAY_CLICK)})},c._eventPlaybackPlayOnly=function(){function e(s){if(!isNaN(s.duration)&&0!==i.length){var l,c;i.length>1?(l=i[0].position>=i[1].position?i[0].position:i[1].position,c=i[0].duration>=i[1].duration?i[0].duration:i[1].duration):(l=i[0].position,c=i[0].duration),l=null===a?l:a,t._bmvpjw._tempDataFromJwPlayEvent={position:l,duration:c},t.emit(o.EVENT_PLAYBACK_PLAYING,r),i=[],a=null,r=null,n.off("time",e),t._bmvpjw._tempDataFromJwPlayEvent=null}}var t=this,n=t._bmvpjw.getJwplayerInstance(),i=[],a=null,r=null;t._stateInSeeking=null,n.on("beforePlay",function(){i=[],a=null,t._stateInSeeking=null,r=null}),n.on("play",function(t){r=t,i.push({position:n.getPosition(),duration:isNaN(n.getDuration())?0:n.getDuration()}),n.on("time",e)}),n.on("buffer",function(e){"buffering"===e.newstate&&0===t._stateInSeeking&&(t._stateInSeeking=1)}),n.on("seeked",function(e){0===t._stateInSeeking&&(a=null),t._stateInSeeking=null}),n.on("seek",function(e){null===t._stateInSeeking&&(t._stateInSeeking=0),a=e.offset})},c._eventPlayback=function(){var e=this;e._bmvpjw.getJwplayerInstance().on("pause",function(t){e.emit(o.EVENT_PLAYBACK_PAUSE,t)}),e._bmvpjw.getJwplayerInstance().on("buffer",function(t){"buffering"===t.newstate&&"loading"==t.reason&&e.emit(o.EVENT_PLAYBACK_PLAY,t),"playing"===t.oldstate&&"buffering"==t.newstate&&e.emit(o.EVENT_PLAYBACK_WAITING,t)}),e._bmvpjw.getJwplayerInstance().on("time",function(t){null===e._stateInSeeking&&e.emit(o.EVENT_PLAYBACK_TIMEUPDATE,t)}),e._bmvpjw.getJwplayerInstance().on("complete",function(){e.emit(o.EVENT_PLAYBACK_COMPLETE)}),e._bmvpjw.getJwplayerInstance().on("seeked",function(){e.emit(o.EVENT_PLAYBACK_SEEKED)}),e._bmvpjw.getJwplayerInstance().on("seek",function(t){e.emit(o.EVENT_PLAYBACK_SEEKING,t)}),e._bmvpjw.getJwplayerInstance().on("beforePlay",function(){e.emit(o.EVENT_PLAYBACK_BEFORE_PLAY)}),e._bmvpjw.getJwplayerInstance().on("beforeComplete",function(){e.emit(o.EVENT_PLAYBACK_BEFORE_COMPLETE)})},c._eventCaption=function(){var e=this;e._bmvpjw.getJwplayerInstance().on("captionsList",function(t){t.tracks.length>1&&e.emit(o.EVENT_CAPTION_CAPTIONLIST,e._bmvpjw.getCaptionsList())}),e._bmvpjw.getJwplayerInstance().on("captionsChanged",function(t){e.emit(o.EVENT_CAPTION_CAPTIONCHANGED,t.track)})},c._eventPlaylist=function(){var e=this;e._bmvpjw.getJwplayerInstance().on("playlistItem",function(t){e.emit(o.EVENT_PLAYLIST_ITEM,{index:t.index,item:e._bmvpjw.getCurrentItem()})}),e._bmvpjw.getJwplayerInstance().on("playlistComplete",function(){e.emit(o.EVENT_PLAYLIST_ENDED)}),e._bmvpjw.getJwplayerInstance().on("playlist",function(){e._bmvpjw._playlist=s().setData({title:e._bmvpjw._playlist.data.title,description:e._bmvpjw._playlist.data.description,items:e._bmvpjw._removeUnloadedPlaylistItem()})})},c._eventVolume=function(){var e=this;e._bmvpjw.getJwplayerInstance().on("volume",function(t){e.emit(o.EVENT_VOLUME_VOLUMECHANGE,t.volume)}),e._bmvpjw.getJwplayerInstance().on("mute",function(t){e.emit(o.EVENT_VOLUME_MUTE,t.mute)})},c._eventBuffer=function(){var e=this;e._bmvpjw.getJwplayerInstance().on("buffer",function(t){e.emit(o.EVENT_BUFFER_BUFFERING,t)}),e._bmvpjw.getJwplayerInstance().on("bufferChange",function(t){e.emit(o.EVENT_BUFFER_PROGRESS,t),t.bufferPercent>=99&&e.emit(o.EVENT_BUFFER_CANPLAYTHROUGH,t)})},c._eventAd=function(){var e=this,t={pre:"preroll",mid:"midroll",post:"postroll"};e._bmvpjw.getJwplayerInstance().on("adBreakEnd",function(t){e.emit(o.EVENT_AD_BREAK_END)}),e._bmvpjw.getJwplayerInstance().on("adBreakStart",function(t){e.emit(o.EVENT_AD_BREAK_START,{adBreakDuration:t.ima.ad.g.adPodInfo.maxDuration||0,adBreakId:t.adBreakId||"unknown"})}),e._bmvpjw.getJwplayerInstance().on("adClick",function(t){e.emit(o.EVENT_AD_CLICK,{adBreakId:t.adBreakId||"unknown",adId:t.adId||"unknown",adPlacement:t.placement,advertiser:t.ima.ad.g.advertiserName||"",adPosition:t.adposition,adTitle:t.adtitle||"unknown",duration:t.duration||0})}),e._bmvpjw.getJwplayerInstance().on("adRequest",function(n){e._isAdPlayedBeforePlayingEvent=!0,e.emit(o.EVENT_AD_REQUEST,{adPosition:t[n.adposition]||"unknown",timeOffset:n.offset,podCount:n.podcount?n.podcount:1,sequence:n.sequence?n.sequence:1,tag:n.tag})}),e._bmvpjw.getJwplayerInstance().on("adImpression",function(n){e.emit(o.EVENT_AD_IMPRESSION,{adPosition:t[n.adposition]||"unknown",podCount:n.podcount?n.podcount:1,sequence:n.sequence?n.sequence:1,tag:n.tag,duration:n.duration||0,adBreakId:n.adBreakId||"unknown",adId:n.adId||"unknown",adtitle:n.adtitle||"unknown"})}),e._bmvpjw.getJwplayerInstance().on("adPlay",function(t){e.emit(o.EVENT_AD_PLAY,{adBreakId:t.adBreakId||"unknown",adId:t.adId||"unknown",adPosition:t.adposition,duration:t.duration||0})}),e._bmvpjw.getJwplayerInstance().on("adPause",function(t){e.emit(o.EVENT_AD_PAUSE,_.pick(t,"oldstate","newstate","tag"))}),e._bmvpjw.getJwplayerInstance().on("adComplete",function(t){e.emit(o.EVENT_AD_COMPLETE,{adBreakId:t.adBreakId||"unknown",adId:t.adId||"unknown"})}),e._bmvpjw.getJwplayerInstance().on("adSkipped",function(t){e.emit(o.EVENT_AD_SKIPPED,_.pick(t,"tag"))}),e._bmvpjw.getJwplayerInstance().on("adTime",function(t){e.emit(o.EVENT_AD_TIME,{duration:t.duration,position:t.position,sequence:t.sequence?t.sequence:1,tag:t.tag})})},c._eventError=function(){var e=this;e._bmvpjw.getJwplayerInstance().on("error",function(t){var n=new r(t.message);n.type=t.type,n.errorObjFromJwplayer=t,e.emit(o.EVENT_ERROR,n)}),e._bmvpjw.getJwplayerInstance().on("adBlock",function(t){var n=new r(t.message);n.type="adblock",n.errorObjFromJwplayer=t,e.emit(o.EVENT_AD_ERROR,n)}),e._bmvpjw.getJwplayerInstance().on("adError",function(t){var n=new r(t.message);n.errorObjFromJwplayer=t,e.emit(o.EVENT_AD_ERROR,n)}),e._bmvpjw.getJwplayerInstance().on("setupError",function(t){var n=new r(t.message);n.errorObjFromJwplayer=t,n.type=t.type,e.emit(o.EVENT_ERROR,n)})},c._eventWarning=function(){var e=this;e._bmvpjw.getJwplayerInstance().on("warning",function(t){var n=new r(t.message);n.type=t.type,n.errorObjFromJwplayer=t,e.emit(o.EVENT_WARNING,n)})},t.exports=l},{"../exceptions/error-jwplayer":167,"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"bm-videoplayer":203,"bm-videoplayer/models/playlist":208,"bm-videoplayer/models/playlist/item":209}],166:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base-error"),a=e("@bellmedia/bm-base"),o=function(e){o.super_.apply(this,arguments)};a.inherits(o,i),o.INCOMPATIBLE_JWPLAYER_VERSION="The loaded jwplayer is incompatible with bm-videoplayer-jw.",o.ERROR_NO_JWPLAYER_IN_OPTION="JWPlayer is not passed with options.",o.ERROR_NO_JWPLAYER_INSTANCE_EXIST="JWPlayer instance does not exist.",t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-error":2}],167:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base-error"),a=e("@bellmedia/bm-base"),o=function(e){o.super_.apply(this,arguments)};a.inherits(o,i);var r=o.prototype;r.type="",r.errorObjFromJwplayer=void 0,t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-error":2}],168:[function(e,t,n){var i=(e("@bellmedia/bm-base"),e("bm-videoplayer/models/caption")),a=i,o=e("underscore"),r={};r.getCaptionsList=function(){var e=[],t=i.TYPE_UNKNOWN;return o.each(this._jwplayerInstance.getCaptionsList(),function(n,o){if("string"==typeof n.id){var r=n.id.split(".");switch(r[r.length-1].toLowerCase()){case"vtt":t=i.TYPE_VTT;break;case"srt":t=i.TYPE_SRT;break;case"ttml":case"dfxp":t=i.TYPE_DFXP;break;default:t=i.TYPE_UNKNOWN}}else t="number"==typeof n.id?i.TYPE_EMBEDDED:i.TYPE_UNKNOWN;e[o]=a().setData({id:n.id,label:n.label,type:t})}),e},r.enableCaption=function(e){this._jwplayerInstance.setCurrentCaptions(e)},r.disableCaption=function(){this._jwplayerInstance.setCurrentCaptions(0)},t.exports=r},{"@bellmedia/bm-base":11,"bm-videoplayer/models/caption":207,underscore:32}],169:[function(e,t,n){var i=(e("@bellmedia/bm-base"),{});i.enableControls=function(){this._jwplayerInstance.setControls(!0)},i.disableControls=function(){this._jwplayerInstance.setControls(!1)},t.exports=i},{"@bellmedia/bm-base":11}],170:[function(e,t,n){(function(n){(function(){var i=(e("@bellmedia/bm-base"),e("bm-videoplayer")),a=e("bm-videoplayer/models/quality"),o=e("bm-videoplayer/exceptions/bm-videoplayer"),r="undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null,s=e("underscore"),l={};l.on=function(){this._event.on.apply(this._event,arguments)},l.once=function(){this._event.once.apply(this._event,arguments)},l.off=function(){this._event.off.apply(this._event,arguments)},l.destroy=function(){this._event.emit(i.EVENT_PLAYER_DESTROY),this._jwplayerInstance.remove(),this._jwplayer=void 0,this._jwplayerInstance=void 0,this._playlist=void 0,this._options=void 0},l.getWidth=function(){return this._jwplayerInstance.getWidth()},l.getHeight=function(){return this._jwplayerInstance.getHeight()},l.resize=function(e,t){return this._jwplayerInstance.resize(e,t)},l.fullscreen=function(e){throw new o(o.API_FULLSCREEN_NOT_SUPPORTED)},l.isFullscreen=function(){return this._jwplayerInstance.getFullscreen()},l.getPlayerQualitySetting=function(){if(void 0!==window.sessionStorage){var e=JSON.parse(window.sessionStorage.getItem("bm-videoplayer-jw/general/quality"));return e?a().setData(e):a()}throw new o(o.SESSION_STORAGE_NOT_SUPPORTED)},l.setPlayerQualitySetting=function(e){if(void 0===window.sessionStorage)throw new o(o.SESSION_STORAGE_NOT_SUPPORTED);var t=null,n=e.data;n.storageTimestamp=new Date,window.sessionStorage.setItem("bm-videoplayer-jw/general/quality",JSON.stringify(n)),s.each(this.getCurrentAvailableQualities(),function(e,i){var a=e.data;null===t&&(n.label===a.label?t=i:isNaN(parseInt(n.label))||parseInt(n.label)!==parseInt(a.label)||(t=i))}),null!==t&&"playing"===this._jwplayerInstance.getState()&&this._jwplayerInstance.setCurrentQuality(t)},l.getSafeViewRegion=function(){var e=this._jwplayerInstance.getSafeRegion();return{width:e.width,height:e.height}},l.getView=function(){return this._playerView?this._playerView:null},l.setView=function(e){var t=this;if(!(e&&e._options&&"bm-view-pause-ads"===e._options.className&&t._playerView&&"bm-view-upnext"===t._playerView._options.className))if(t._playerView&&!0!==t._playerView.$el.hasClass("bm-view-pause-ads")&&!0!==t._playerView.$el.hasClass("bm-view-skipbreaks")&&t._playerView.$el.detach(),t._playerView=e,t._playerView){var n="bm-video-player-"+t._playerView.getClassName();r("#"+t._options.container).attr("class")&&s.each(r("#"+t._options.container).attr("class").split(/\s+/),function(e){0===e.indexOf("bm-video-player-")&&r("#"+t._options.container).removeClass(e)}),r("#"+t._options.container).addClass(n),r("#"+t._options.container).append(t._playerView.el),this._event.emit(i.EVENT_STATUS_VIEW,!0)}else this._event.emit(i.EVENT_STATUS_VIEW,!1)},l.isViewShown=function(){return!!this._playerView&&this._playerView.$el.is(":visible")},l.showView=function(){this._playerView&&(this._playerView.$el.show(),this._event.emit(i.EVENT_STATUS_VIEW,!0))},l.hideView=function(){var e=this;e._playerView&&(e._playerView.$el.hide(),e._event.emit(i.EVENT_STATUS_VIEW,!1),s.each(r("#"+e._options.container).attr("class").split(/\s+/),function(t){0===t.indexOf("bm-video-player-")&&r("#"+e._options.container).removeClass(t)}))},l.getPluginsLoaded=function(){var e=[];return s.each(this._options.plugins,function(t){if(!t.constructor.name)throw new Error("constructor.name is undefined");e.push(t.constructor.name)}),e},t.exports=l}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@bellmedia/bm-base":11,"bm-videoplayer":203,"bm-videoplayer/exceptions/bm-videoplayer":205,"bm-videoplayer/models/quality":210,underscore:32}],171:[function(e,t,n){var i=(e("@bellmedia/bm-base"),e("bm-videoplayer")),a=e("bm-videoplayer/models/quality"),o=e("../exceptions/bm-videoplayer-jw"),r=e("underscore"),s={};s.play=function(e){var t=this;if(!t._jwplayerInstance)throw new o(o.ERROR_NO_JWPLAYER_INSTANCE_EXIST);void 0===e?t._jwplayerInstance.play():(t.once(i.EVENT_PLAYBACK_PLAYING,function(){t._jwplayerInstance.seek(e)}),t._jwplayerInstance.play())},s.pause=function(){this._jwplayerInstance.pause()},s.seek=function(e){var t=this;"idle"===t._jwplayerInstance.getState()?(t.once(i.EVENT_PLAYBACK_PLAYING,function(){t._jwplayerInstance.seek(e)}),t._jwplayerInstance.play()):t._jwplayerInstance.seek(e)},s.getState=function(){return this._jwplayerInstance.getState()},s.getPosition=function(){return null!==this._tempDataFromJwPlayEvent?this._tempDataFromJwPlayEvent.position:this._jwplayerInstance.getPosition()},s.getDuration=function(){return null!==this._tempDataFromJwPlayEvent?this._tempDataFromJwPlayEvent.duration:this._jwplayerInstance.getDuration()},s.getCurrentAvailableQualities=function(){var e=[];return r.each(this._jwplayerInstance.getQualityLevels(),function(t,n){e[n]=a().setData({bitrate:t.bitrate,width:t.width,height:t.height,label:t.label})}),e},s.getCurrentStreamQuality=function(){return this._jwplayerInstance.getCurrentQuality()},s.setCurrentStreamQuality=function(e){this._jwplayerInstance.setCurrentQuality(e)},s.isLive=function(){return this.getDuration()===1/0},s.isDvr=function(){return this.getDuration()<0},t.exports=s},{"../exceptions/bm-videoplayer-jw":166,"@bellmedia/bm-base":11,"bm-videoplayer":203,"bm-videoplayer/models/quality":210,underscore:32}],172:[function(e,t,n){var i=(e("@bellmedia/bm-base"),e("bm-videoplayer")),a=e("bm-videoplayer/models/track"),o=(e("bm-videoplayer/models/playlist"),e("bm-videoplayer/exceptions/playlist")),r=e("underscore"),s=e("bluebird"),l={};l._previousCaptionsIndex=0,l.playItem=function(e){var t=this;setTimeout(function(){t._jwplayerInstance.playlistItem(e)},1e3)},l.playItemNext=function(){var e=this,t=this._jwplayerInstance.getPlaylistIndex();return!(t>=this._playlist.data.items.length-1)&&(setTimeout(function(){e._jwplayerInstance.playlistItem(t+1)},1e3),!0)},l.playItemPrevious=function(){var e=this,t=this._jwplayerInstance.getPlaylistIndex();return 0!=t&&(setTimeout(function(){e._jwplayerInstance.playlistItem(t-1)},1e3),!0)},l.getCurrentItemIndex=function(){return this._jwplayerInstance.getPlaylistIndex()},l.getCurrentItem=function(){var e=this._jwplayerInstance.getPlaylistIndex();return this._playlist.data.items[e]},l.getPlaylist=function(){return this._playlist},l.loadPlaylist=function(e,t){var n=this;n._playlist=e,n._convertModelPlaylistToJWPlaylist(e).then(function(e){r.isEmpty(e)&&n._event.emit(i.EVENT_ERROR,new o(o.LOADING_ERROR)),e.length>0&&(n._jwplayerInstance.once("playlist",function(){n._event.emit(i.EVENT_PLAYLIST_LOADED)}),n._jwplayerInstance.getCaptionsList().length>1&&n._jwplayerInstance.setCurrentCaptions(0),n._jwplayerInstance.load(e),n._jwplayerInstance.stop(),t&&n._jwplayerInstance.play(),n._event.emit(i.EVENT_PLAYLIST_EMPTIED))},function(e){})},l._convertModelPlaylistToJWPlaylist=function(e){var t=e.data,n=[];return t.items.length>0&&r.each(t.items,function(e,t){var i=[],o=e.data;r.each(o.tracks,function(e,t){var n=e.data,o="";switch(n.type){case a.TYPE_CAPTION:o="captions";break;case a.TYPE_CHAPTER:o="chapters";break;case a.TYPE_THUMBNAIL:o="thumbnails";break;default:o=""}i.push({file:n.file,label:n.label,kind:o})}),n[t]={mediaid:o.mediaId,title:o.title,description:o.description,image:o.image,sources:[{file:o.mediaId}],tracks:i,preload:o.preload,vidiAdSite:o.adsite,vidiAdZone:o.adzone}}),new s(function(e,t){e(n)})},l._removeUnloadedPlaylistItem=function(){var e=this,t=r.map(e._jwplayerInstance.getPlaylist(),function(e){return e.mediaid.toString()});return r.filter(e._playlist.data.items,function(e){return void 0!==r.find(t,function(t){return t===e.data.mediaId.toString()})})},t.exports=l},{"@bellmedia/bm-base":11,bluebird:16,"bm-videoplayer":203,"bm-videoplayer/exceptions/playlist":206,"bm-videoplayer/models/playlist":208,"bm-videoplayer/models/track":211,underscore:32}],173:[function(e,t,n){var i=(e("@bellmedia/bm-base"),{});i.isMute=function(){return this._jwplayerInstance.getMute()},i.setMute=function(e){this._jwplayerInstance.setMute(e)},i.getVolume=function(){return this._jwplayerInstance.getVolume()},i.setVolume=function(e){e>100&&(e=100),this._jwplayerInstance.setVolume(e)},t.exports=i},{"@bellmedia/bm-base":11}],174:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin"),r=e("bm-helper-adobe-heartbeat-analytics-video-event"),l=e("bm-service-factory-capi"),c=e("bm-service-factory-auth"),d=e("bm-videoplayer-plugin-event-capi"),u=e("bluebird"),p=e("underscore"),m=function(e){if(!(this instanceof m))return new m(e)
;m.super_.apply(this,arguments),this._trackingServer=e.trackingServer,this._debug=e.debug,this._brandName=e.brandName,this._vidiVersion=e.vidiVersion,this._ovp=e.videoPlatform,this._multiplexPlayer=e.multiplexPlayer};i.inherits(m,o);var h=m.prototype;h._adBreakStarted=!1,h._adStarted=!1,h._isLastAd=!1,h._sessionStarted=!1,h._metadataLoaded=!1,h._trackingServer="",h._debug=!1,h._multiplexPlayer=!1,h._brandName="",h._vidiVersion="1.0.0",h._ovp="capi",h._helper=void 0,h._currentPlaybackTime=0,h._serviceCapi=void 0,h._serviceAuth=void 0,h._mediaHeartbeat=void 0,h._contentsData={},h._contentsPackagesData={},h._authInfo={},h._craveTVPlaybackMethod="",h._objAdImpression=void 0,h._isLive=function(){var e=this;return!(!e._contentsData||!e._contentsData.data||"stream"!==e._contentsData.data.content.type)},h.loadPlugin=function(){var e=this;e._serviceCapi=l(),e._serviceAuth=c().getInstance(),e._helper=new r(e._player),e._player.on(a.EVENT_PLAYER_SETUP,e._initAdobeHeartbeat.bind(e))},h._initAdobeHeartbeat=function(){if(p.isObject(window.ADB)&&p.isObject(window.ADB.va)&&window.s&&!(parseInt(window.s.version)<2)){var e=this,t=ADB.va.MediaHeartbeat,n=ADB.va.MediaHeartbeatConfig,i=new n,o=localStorage.getItem("abConfigUrlVidi");i.trackingServer=e._trackingServer,i.playerName=o?"VidiPlayerWeb "+o:"VidiPlayerWeb",i.channel=e._brandName,i.debugLogging=e._debug,i.appVersion=e._vidiVersion,i.ssl=!0,i.ovp=e._ovp;var r=e._setMediaDelegate();e._mediaHeartbeat=new t(r,i,window.s),e._player.on(a.EVENT_PLAYLIST_ITEM,e._onPlaylistItem.bind(e))}},h._onPlaylistItem=function(e){var t=this,n={contentId:e.item.data.mediaId};t._craveTVPlaybackMethod=e.item.data.craveTVPlaybackMethod,t._endSession(),t._getMetadataOnMediaLoad(n),t._player.on(a.EVENT_PLAYBACK_TIMEUPDATE,function(e){t._currentPlaybackTime=e.position})},h._setMediaDelegate=function(){var e=this,t=ADB.va.MediaHeartbeatDelegate,n=new t,i=ADB.va.MediaHeartbeat;return n.getQoSObject=function(){return i.createQoSObject(0,0,0,0)},n.getCurrentPlaybackTime=function(){return e._currentPlaybackTime},n},h._getMetadataOnMediaLoad=function(e){var t=this,n=e.contentId,i=t._serviceCapi.getInstance().getContents(n),a=t._serviceCapi.getInstance().getContentsPackages(n),o=t._serviceAuth.getAuthInfo();return t._metadataPromise=u.props({contents:i,contentsPackage:a,authInfo:o}).then(t._setSessionMetadata.bind(this))},h._setSessionMetadata=function(e){var t=this;t._contentsData=e.contents,t._contentsPackagesData=e.contentsPackage,t._authInfo=e.authInfo,t._metadataLoaded=!0,t._createSessionMetadata(),t._trackPlaybackEvents(),t._trackAdEvents()},h._createSessionMetadata=function(){var e=this,t=ADB.va.MediaHeartbeat,n=e._contentsData.data.content.omnitureName,i=e._contentsData.data.contentId.toString(),a=e._isLive()?86400:e._contentsData.data.duration,o=t.StreamType.VOD;e._isLive()&&(o=t.StreamType.LINEAR,"linear"!==e._contentsData.data.media.type&&(o=t.StreamType.LIVE)),e._mediaObject=t.createMediaObject(n,i,a,o);var r=e._getStandardMetadata();e._mediaObject.setValue(t.MediaObjectKey.StandardVideoMetadata,r),e._customData=e._getCustomMetadata()},h._getStandardMetadata=function(){var e=this,t=new Date,n={},i=ADB.va.MediaHeartbeat,a=e._contentsData.data,o=e._authInfo?e._authInfo.data.bduName:"",r=p.isNaN(parseInt(a.content.digitaldate,10))?"":e._formatDate(new Date(a.content.digitaldate)),s=a.content.genres.map(function(e){return e.Name}).join();return n[i.VideoMetadataKeys.ASSET_ID]=a.mediaId,n[i.VideoMetadataKeys.DAY_PART]=e._formatDateTime(t),n[i.VideoMetadataKeys.EPISODE]=a.content.episode,n[i.VideoMetadataKeys.FIRST_AIR_DATE]=r,n[i.VideoMetadataKeys.GENRE]=s,n[i.VideoMetadataKeys.MVPD]=o,n[i.VideoMetadataKeys.NETWORK]=e._brandName,n[i.VideoMetadataKeys.ORIGINATOR]=a.content.owner,n[i.VideoMetadataKeys.SEASON]=a.content.season,n[i.VideoMetadataKeys.SHOW]=a.media.title,n[i.VideoMetadataKeys.SHOW_TYPE]=e._getShowType(a.content.type),n},h._getShowType=function(e){var t={0:"episode",1:"promo",2:["extra","story","highlight","segment","song","news","commercial"],3:["event","game","feature","stream","screener"]},n=3;return p.forEach(p.keys(t),function(i){var a=t[i];(a===e||p.isArray(a)&&a.indexOf(e)>-1)&&(n=i)}),n},h._getCustomMetadata=function(){var e=this,t={},n=e._contentsData.data,i=window.location.hostname,a=window.location.pathname,o=new Date;return t.contentType=n.content.type,t.mediaType=n.media.type,t.currentDate=e._formatDate(o),t.episodeName=n.content.title,t.playerResolution=e._player.getWidth()+"x"+e._player.getHeight(),t.playbackMethod=e._craveTVPlaybackMethod?e._craveTVPlaybackMethod:"device",t.playLocation=s.pageName||e._getPageName(i,a),t.multiplexPlayer=p.isBoolean(e._multiplexPlayer)?e._multiplexPlayer.toString():"false",t.contentPackageId=e._contentsPackagesData.data.contentPackageId,t.destinationCode=e._serviceCapi.getInstance()._options.data.destinationCode,t.showPlusSeason=(n.media.title.toLowerCase()||"not available")+":"+(n.content.season||"not available"),t.videoLanguage=n.contentPackageLang||"english",p.isArray(n.revShare)&&(t.revshare=n.revShare.map(function(e){return e.IsExclusive?e.RevShareCode+"-Y":e.RevShareCode+"-N"}).join(",")),e._appendShelfTrackingData(t),t},h._appendShelfTrackingData=function(e){var t=this,n=function(e){return p.isString(e)&&!p.isEmpty(e)||p.isNumber(e)&&!p.isNaN(e)};if(window&&window.digitalData&&window.digitalData.shelfTrack){if(window.digitalData.shelfTrack.mediaId&&window.digitalData.shelfTrack.mediaId==t._contentsData.data.mediaId){var i=window.digitalData.shelfTrack;e.shelfPage=n(i.shelfPage)?i.shelfPage:"nan",e.verticalPosition=n(i.verticalPosition)?i.verticalPosition:"nan",e.horizontalPosition=n(i.horizontalPosition)?i.horizontalPosition:"nan",e.collectionId=n(i.collectionId)?i.collectionId:"nan",e.collectionName=n(i.collectionName)?i.collectionName:"nan"}window.digitalData.shelfTrack={}}},h._formatDateTime=function(e){var t=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],n=e.getDay(),i=e.getHours(),a=e.getMinutes();return i%=12,i=i||12,a=a<10?"0"+a:a,t[n]+" "+i+":"+a+" "+(e.getHours()>=12?"pm":"am")},h._getPageName=function(e,t){var n=e.split("."),i=t.split("/").filter(function(e){return e.length>0});return[n[n.length-2]].concat(i).join(":")},h._formatDate=function(e){if(!(e&&e instanceof Date))return"";var t=e.getFullYear(),n=e.getMonth()+1,i=e.getDate();return n=("0"+n).slice(-2),i=("0"+i).slice(-2),t+"-"+n+"-"+i},h._trackPlaybackEvents=function(){var e=this;e._player.on(a.EVENT_PLAYBACK_BEFORE_PLAY,e._onBeforePlay.bind(this)),e._player.on(a.EVENT_PLAYBACK_PLAYING,e._onPlaying.bind(this)),e._player.on(a.EVENT_PLAYBACK_PAUSE,e._onPause.bind(this)),e._player.on(a.EVENT_PLAYBACK_SEEKING,e._onSeeking.bind(this)),e._player.on(a.EVENT_PLAYBACK_SEEKED,e._onSeeked.bind(this)),e._player.on(a.EVENT_PLAYBACK_BEFORE_COMPLETE,e._onBeforeComplete.bind(this)),e._player.on(a.EVENT_PLAYER_DESTROY,e._onDestroy.bind(this)),e._player.on(a.EVENT_ERROR,e._onError.bind(this)),e._player.on(d.EVENT_CAPI_ERROR,e._onCapiError.bind(this)),e._helper.on(r.EVENT_CHAPTER_START,e._onChapterStart.bind(this)),e._helper.on(r.EVENT_CHAPTER_END,e._onChapterEnd.bind(this)),e._helper.on(r.EVENT_CHAPTER_SKIP,e._onChapterSkip.bind(this))},h._trackAdEvents=function(){var e=this;e._player.on(a.EVENT_AD_IMPRESSION,e._onAdImpression.bind(this)),e._player.on(a.EVENT_AD_PLAY,e._onAdPlay.bind(this)),e._player.on(a.EVENT_AD_COMPLETE,e._onAdComplete.bind(this)),e._player.on(a.EVENT_AD_SKIPPED,e._onAdSkipped.bind(this)),e._player.on(a.EVENT_AD_ERROR,e._onAdError.bind(this))},h._startSession=function(){var e=this,t=function(){return e._sessionStarted||(e._mediaHeartbeat.trackSessionStart(e._mediaObject,e._customData),e._sessionStarted=!0),e._sessionStarted};return e._metadataLoaded?u.resolve(t()):e._metadataPromise.then(function(){t()})},h._endSession=function(){var e=this;e._sessionStarted&&(e._mediaHeartbeat.trackSessionEnd(),e._sessionStarted=!1,e._metadataLoaded=!1)},h._onBeforePlay=function(){this._startSession()},h._onPlaying=function(){var e=this;e._startSession().then(function(){e._mediaHeartbeat.trackPlay()})},h._onPause=function(){var e=this;e._startSession().then(function(){e._mediaHeartbeat.trackPause()})},h._onSeeking=function(){var e=this;e._startSession().then(function(){e._mediaHeartbeat.trackEvent(ADB.va.MediaHeartbeat.Event.SeekStart)})},h._onSeeked=function(){var e=this;e._startSession().then(function(){e._mediaHeartbeat.trackEvent(ADB.va.MediaHeartbeat.Event.SeekComplete)})},h._onBeforeComplete=function(){var e=this;e._startSession().then(function(){e._mediaHeartbeat.trackComplete(),e._endSession()})},h._onDestroy=function(){var e=this;e._startSession().then(function(){e._endSession()})},h._onError=function(){var e=this;e._startSession().then(function(){e._endSession()})},h._onCapiError=function(e){var t=this;t._startSession().then(function(){t._endSession()})},h._onChapterStart=function(e){var t=this;if(!t._isLive()){var n=e.chapterIndex+1,i=t._contentsData.data.content.omnitureName+" - Chapter "+n,a=ADB.va.MediaHeartbeat.createChapterObject(i,n,e.chapterDuration,e.chapterPosition);t._startSession().then(function(){t._mediaHeartbeat.trackEvent(ADB.va.MediaHeartbeat.Event.ChapterStart,a,{})})}},h._onChapterEnd=function(){var e=this;e._isLive()||e._startSession().then(function(){e._mediaHeartbeat.trackEvent(ADB.va.MediaHeartbeat.Event.ChapterComplete)})},h._onChapterSkip=function(){var e=this;e._isLive()||e._startSession().then(function(){e._mediaHeartbeat.trackEvent(ADB.va.MediaHeartbeat.Event.ChapterSkip)})},h._startAdbreak=function(){var e=this;return e._startSession().then(function(){return e._adBreakStarted||(e._mediaHeartbeat.trackEvent(ADB.va.MediaHeartbeat.Event.AdBreakStart,e._adBreakObject),e._adBreakStarted=!0),e._adBreakStarted})},h._endAdbreak=function(){var e=this;!0===e._isLastAd&&(e._mediaHeartbeat.trackEvent(ADB.va.MediaHeartbeat.Event.AdBreakComplete),e._isLastAd=!1,e._adBreakStarted=!1)},h._onAdImpression=function(e){var t=this;e.podCount===e.sequence&&(t._isLastAd=!0),t._objAdImpression=e,1===e.sequence&&(t._adBreakObject=ADB.va.MediaHeartbeat.createAdBreakObject(e.adPosition,1,t._currentPlaybackTime),t._startAdbreak())},h._onAdPlay=function(){var e=this,t=ADB.va.MediaHeartbeat.createAdObject("","Not Available",e._objAdImpression.sequence,15);e._startAdbreak().then(function(){e._mediaHeartbeat.trackEvent(ADB.va.MediaHeartbeat.Event.AdStart,t,null)})},h._onAdSkipped=function(){var e=this;e._startAdbreak().then(function(){e._mediaHeartbeat.trackEvent(ADB.va.MediaHeartbeat.Event.AdSkip),e._endAdbreak()})},h._onAdError=function(){var e=this;e._startAdbreak().then(function(){e._endAdbreak()})},h._onAdComplete=function(){var e=this;e._startAdbreak().then(function(){e._mediaHeartbeat.trackEvent(ADB.va.MediaHeartbeat.Event.AdComplete),e._endAdbreak()})},t.exports=m},{"@bellmedia/bm-base":11,bluebird:16,"bm-helper-adobe-heartbeat-analytics-video-event":56,"bm-service-factory-auth":116,"bm-service-factory-capi":117,"bm-videoplayer":203,"bm-videoplayer-plugin":202,"bm-videoplayer-plugin-event-capi":183,underscore:32}],175:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin"),r=e("bm-heartbeat-blackout-capi"),s=e("./exceptions/bm-videoplayer-plugin-blackout-capi"),l=e("bm-view-image"),c=l,d=e("bm-service-factory-auth"),u=e("bm-service-factory-capi"),p=e("bm-view-message"),m=p,h=e("bm-service-factory-translation"),f=function(e){if(!(this instanceof f))return new f(e);f.super_.apply(this,arguments),this._pulse=e.pulse};i.inherits(f,o);var _=f.prototype;_._pulse=1e3,_._contentId=void 0,_._serviceAuth=void 0,_._postalCodeAuth=null,_._instanceHB=void 0,_._serviceCapi=void 0,_.loadPlugin=function(){var e=this;e._t=h().getInstance(),e._serviceAuth=d().getInstance(),e._player.on(a.EVENT_PLAYLIST_ITEM,function(t){e._contentId=parseInt(t.item.data.mediaId,10);try{e._instanceHB&&e._instanceHB.destroy()}catch(e){}}),e._serviceAuth.getAuthInfo().then(function(t){t&&t.data.postalCode&&(e._postalCodeAuth=t.data.postalCode),e._player.on(a.EVENT_PLAYBACK_BEFORE_PLAY,function(){e._initBlackout(e._contentId)})}),e._player.on(a.EVENT_PLAYER_DESTROY,function(){try{e._instanceHB&&e._instanceHB.destroy()}catch(e){}})},_._initBlackout=function(e){var t=this;t._serviceCapi=u(),t._serviceCapi.getInstance().getContents(t._contentId).then(function(e){"stream"===e.data.content.type&&(t._instanceHB&&t._instanceHB.destroy(),t._instanceHB=r(t._pulse,{runAtStart:!0,contentId:t._contentId,postalCode:t._postalCodeAuth}),t._createBlackoutError(t._instanceHB))})},_._createBlackoutError=function(e){var t=this;e.on(r.EVENT_BLACKOUT_ERROR,function(n){if(n.image&&"message"===n.image.Type){var i=c({hasDismissButton:!0}),a=n.image.Url;i.setImage(a),i.render(),i.once(l.EVENT_DISMISS_CLICK,function(){t._player.hideView(),t._player.loadPlaylist(t._player._playlist,!1)}),t._player.setView(i)}else{var o=m({hasDismissButton:!0});o.setMessage("",t._t.t(s.RESPONSE_BLACKOUT)),o.render(),o.once(p.EVENT_DISMISS_CLICK,function(){t._player.hideView(),t._player.loadPlaylist(t._player._playlist,!1)}),t._player.setView(o)}t._player.getJwplayerInstance().stop(),e&&e.destroy(),t._instanceHB=null})},t.exports=f},{"./exceptions/bm-videoplayer-plugin-blackout-capi":176,"@bellmedia/bm-base":11,"bm-heartbeat-blackout-capi":49,"bm-service-factory-auth":116,"bm-service-factory-capi":117,"bm-service-factory-translation":120,"bm-videoplayer":203,"bm-videoplayer-plugin":202,"bm-view-image":241,"bm-view-message":252}],176:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base-error"),a=e("@bellmedia/bm-base"),o=function(e){o.super_.apply(this,arguments)};a.inherits(o,i),o.RESPONSE_BLACKOUT="Blackout Error 403.74",t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-error":2}],177:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin"),r=e("bm-service-factory-capi"),s=e("underscore"),l=function(e){if(!(this instanceof l))return new l(e);l.super_.apply(this),this._enableForLive=e.enableForLive,this._playbackLanguage=e.playbackLanguage};i.inherits(l,o);var c=l.prototype;c._serviceCapi=void 0,c._capiContentsData={},c._enableForLive=!1,c._playbackLanguage="",c._is60SecondsEventSent=!1,c._is25PercentSent=!1,c._is50PercentSent=!1,c._is75PercentSent=!1,c._customEventProperties={},c._lastPlayedContentId=void 0,c.loadPlugin=function(){var e=this;"undefined"!=typeof appboy&&"null"!=typeof appboy&&(e._serviceCapi=r(),e._player.on(a.EVENT_PLAYLIST_ITEM,e._setupCapiData.bind(e)),e._player.on(a.EVENT_PLAYBACK_TIMEUPDATE,e._setupBrazeEvents.bind(e)),e._player.on(a.EVENT_STATUS_DURATIONCHANGE,e._resetFlags.bind(e)))},c._setupCapiData=function(e){var t=this,n=e.item.data.mediaId;t._lastPlayedContentId&&t._lastPlayedContentId===n||(t._lastPlayedContentId=n,t._serviceCapi.getInstance().getContents(n).then(function(e){t._capiContentsData=e.data,"stream"===t._capiContentsData.content.type&&!t._enableForLive||(t._setupCustomEventProperties(),t._setFlagsByPercent(t._capiContentsData.content.duration))}))},c._resetFlags=function(){var e=this;e._is60SecondsEventSent=!1,e._is75PercentSent=!1,e._is50PercentSent=!1,e._is25PercentSent=!1},c._setFlagsByPercent=function(e){var t=this,n=25*e/100,i=50*e/100;n<60&&(t._is25PercentSent=!0),i<60&&(t._is50PercentSent=!0)},c._setupBrazeEvents=function(e){var t=this,n=e.position,i=e.position/e.duration*100;!t._is75PercentSent&&i>=75&&(appboy.logCustomEvent("watched",t._customEventProperties),t._is60SecondsEventSent=!0),t._trackCustomAttributes(i),n>=60&&!t._is60SecondsEventSent&&(appboy.logCustomEvent("played",t._customEventProperties),t._is60SecondsEventSent=!0)},c._setupCustomEventProperties=function(){var e=this,t=e._capiContentsData.media.title,n="series"===e._capiContentsData.media.type,i=e._capiContentsData.content.season,a=e._capiContentsData.content.episode;e._customEventProperties={content_type:e._capiContentsData.content.type,content_genre:e._getGenres(),content_language:e._playbackLanguage},e._customEventProperties=n&&t?s.extend({},e._customEventProperties,{content_show:t,content_season:i?"Season "+i:"",content_episode:a?"Episode "+a:"",content_episode_name:e._capiContentsData.content.title}):s.extend({},e._customEventProperties,{content_title:e._capiContentsData.content.title});for(var o in e._customEventProperties)e._customEventProperties[o]||delete e._customEventProperties[o]},c._formatContentShow=function(e){var t=this,n=t._capiContentsData.content.season,i=t._capiContentsData.content.episode;return n||i?n&&i?e+=" S"+t._capiContentsData.content.season+"E"+t._capiContentsData.content.episode:n?e+=" S"+t._capiContentsData.content.season:i?e+=" E"+t._capiContentsData.content.episode:"":""},c._getGenres=function(){return this._capiContentsData.content.genres.map(function(e){return e.Name.toString()}).join(", ")},c._trackCustomAttributes=function(e){var t=this,n="promo"===t._capiContentsData.content.type||"extra"===t._capiContentsData.content.type,i="series"===t._capiContentsData.media.type,a=t._capiContentsData.media.title,o=t._capiContentsData.content.title,r=t._capiContentsData.contentId.toString(),s=t._getGenres(),l=i?t._formatContentShow(a):o;e>=75&&!t._is75PercentSent&&(t._is75PercentSent=!0,t._is50PercentSent=!0,t._is25PercentSent=!0,t._is60SecondsEventSent=!0,r&&appboy.getUser().addToCustomAttributeArray("watched_content_id",r),s&&appboy.getUser().addToCustomAttributeArray("watched_content_genre",s),i&&!n&&l&&appboy.getUser().addToCustomAttributeArray("watched_content_episode",l),!n&&!i&&l&&appboy.getUser().addToCustomAttributeArray("watched_content_title",l),n&&(i&&l?appboy.getUser().addToCustomAttributeArray("watched_content_type_trailer",l):o&&appboy.getUser().addToCustomAttributeArray("watched_content_type_trailer",o))),l&&!n&&(!t._is50PercentSent&&e>=50&&(appboy.getUser().addToCustomAttributeArray("played_milestone_50",l),t._is50PercentSent=!0,t._is25PercentSent=!0),!t._is25PercentSent&&e>=25&&(appboy.getUser().addToCustomAttributeArray("played_milestone_25",l),t._is25PercentSent=!0))},t.exports=l},{"@bellmedia/bm-base":11,"bm-service-factory-capi":117,"bm-videoplayer":203,"bm-videoplayer-plugin":202,underscore:32}],178:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-loader-script"),o=e("bm-videoplayer"),r=e("bm-videoplayer-plugin"),s=e("bm-helper-analytics-video-event"),l=e("bm-service-factory-capi"),c=e("bm-service-factory-media-provider"),d=e("bluebird"),u=e("underscore"),p=function(e){if(!(this instanceof p))return new p(e);p.super_.call(this),this._liveEndpointURL=e.comscoreConfig&&e.comscoreConfig.liveEndpointURL,this._publisherId=e.comscoreConfig&&e.comscoreConfig.publisherId,this._loadComscoreSDK=window.ns_?d.resolve([]):a(e.comscoreConfig&&e.comscoreConfig.path),this._ownerName=e.comscoreConfig&&e.comscoreConfig.c3,this._destinationCode=e.comscoreConfig&&e.comscoreConfig.destinationCode,this._classification=e.comscoreConfig&&e.comscoreConfig.c6};i.inherits(p,r);var m=p.prototype;m._debugKey="bm-comscore-debug",m._waitForNewMetadata=!0,m._currentSegmentIndex=1,m._arrModelSegments={},m._currentModelContents=void 0,m._currentModelContentsPackages=void 0,m._serviceMediaProvider=void 0,m._serviceCapi=void 0,m._liveEndpointURL="",m._publisherId="",m._ownerName="",m._classification="",m._destinationCode="",m.loadPlugin=function(){var e=this;return e._serviceCapi=l(),e._serviceMediaProvider=c().getInstance(),e._loadComscoreSDK.then(e._configureComscore.bind(e)).then(e._trackComscore.bind(e))},m._configureComscore=function(){return d.resolve(new ns_.StreamingAnalytics({publisherId:this._publisherId,liveEndpointURL:this._liveEndpointURL}))},m._pad=function(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n},m._formatAirDate=function(e){var t=new Date(e),n=t.getFullYear(),i=t.getMonth()+1,a=t.getDate();return i=("0"+i).slice(-2),a=("0"+a).slice(-2),n+"-"+a+"-"+i},m._generateComscoreMetadata=function(){var e=this,t=e._currentModelContents.data,n=t.content.genres.map(function(e){return e.Name}),i="S00",a="E00";""!==t.content.season&&""!==t.content.episode&&(i="S"+e._pad(t.content.season,2),a="E"+e._pad(t.content.episode,2));var o=parseInt(1e3*t.content.duration),r=u.contains(["story","promo","extra","trailer","highlight","news","commercial"],t.content.type)?"vc11":u.contains(["episode","feature","game"],t.content.type)?"vc12":u.contains(["segment"],t.content.type)&&o/6e4>10?"vc12":u.contains(["stream"],t.content.type)?"vc13":"vc11";return{ns_st_ci:t.contentId.toString(),ns_st_cl:o,ns_st_cu:"*null",ns_st_pu:e._ownerName,ns_st_pr:"stream"===t.content.type?"*null":t.media.title,ns_st_ep:"stream"===t.content.type?"*null":t.content.title,ns_st_sn:t.content.season&&""!==t.content.season?t.content.season:"*null",ns_st_en:t.content.episode&&""!==t.content.episode?t.content.episode:"*null",ns_st_tep:t.content.episode&&""!==t.content.episode?t.content.episode:"*null",ns_st_ge:n.length>0?n.join(","):"*null",ns_st_ct:r,ns_st_ti:"*null",ns_st_ia:1,ns_st_ddt:t.content.airdate?e._formatAirDate(t.content.airdate):"0",ns_st_tdt:t.content.digitaldate?e._formatAirDate(t.content.digitaldate):"0",ns_st_st:e._ownerName,ns_st_stc:t.comscoreId,ns_st_pn:e._currentSegmentIndex,ns_st_tm:"*null",ns_st_tp:e._arrModelSegments.length,ns_st_tpr:t.mediaId,c2:e._publisherId,c3:e._ownerName,c4:e._destinationCode||"*null",c6:u.isEmpty(e._classification)?[t.media.title,i,a].join("-"):e._classification,ns_st_ce:"episode"===t.content.type||"stream"===t.content.type||"feature"===t.content.type?1:0,ns_st_ad:"0"}},m._trackComscore=function(e){var t=this;t._streamingAnalytics=e,t._trackPlaybackEvents(),t._player.on(o.EVENT_PLAYLIST_ITEM,function(n){var i=[];t._waitForNewMetadata=!0,t._currentSegmentIndex=1,i.push(t._serviceMediaProvider.getMediaSegments(n.item.data.mediaId)),i.push(t._serviceCapi.getInstance().getContents(n.item.data.mediaId)),i.push(t._serviceCapi.getInstance().getContentsPackages(n.item.data.mediaId)),d.all(i).then(function(n){var i=n[0],a=n[1],o=n[2];t._arrModelSegments=i,t._currentModelContents=a,t._currentModelContentsPackages=o;var r=t._generateComscoreMetadata();e.createPlaybackSession(r),e.getPlaybackSession().setAsset(r),t._waitForNewMetadata=!1})})},m._trackPlaybackEvents=function(){var e=this,t=!1,n=null,i="",a={tag:"",position:0,isLastAdInPreroll:!1};e._player.on(o.EVENT_AD_IMPRESSION,function(n){if(i="ad",t){var r=parseInt(1e3*e._player.getPosition());e._streamingAnalytics.notifyBufferStop(r),t=!1,e.debugLog("[_trackPlaybackEvents]","main buffer stop at",r)}e._waitForNewMetadata||("preroll"===n.adPosition&&n.podCount===n.sequence?a.isLastAdInPreroll=!0:a.isLastAdInPreroll=!1,e._player.once(o.EVENT_AD_TIME,function(t){if(!e._waitForNewMetadata){var i=e._generateComscoreMetadata(),a=t.duration&&1e3*t.duration;switch(n.adPosition){case"preroll":i.ns_st_ad="pre-roll";break;case"midroll":i.ns_st_ad="mid-roll";break;case"postroll":i.ns_st_ad="post-roll";break;default:i.ns_st_ad=1}i.ns_st_cl=a||0,i.ns_st_ct="stream"===e._currentModelContents.data.content.type?"va21":"preroll"===n.adPosition?"va11":"midroll"===n.adPosition?"va12":"postroll"===n.adPosition?"va13":"va11",e._streamingAnalytics.getPlaybackSession().setAsset(i),e._streamingAnalytics.notifyPlay(0),e.debugLog("[_trackPlaybackEvents]","ad play at",0)}}))}),e._player.on(o.EVENT_AD_TIME,function(t){e._waitForNewMetadata||(a.tag=t.tag,a.position=parseInt(1e3*t.position))}),e._player.on(o.EVENT_AD_PLAY,function(t){if(!e._waitForNewMetadata){var n=0;t.tag===a.tag&&(n=a.position),"paused"===t.oldstate&&(e._streamingAnalytics.notifyPlay(n),e.debugLog("[_trackPlaybackEvents]","ad play at"+n))}}),e._player.on(o.EVENT_AD_PAUSE,function(t){if(!e._waitForNewMetadata){var n=0;t.tag===a.tag&&(n=a.position),e._streamingAnalytics.notifyPause(n),e.debugLog("[_trackPlaybackEvents]","ad pause at",n)}}),e._player.on(o.EVENT_AD_COMPLETE,function(){e._waitForNewMetadata||(e._streamingAnalytics.notifyEnd(),e.debugLog("[_trackPlaybackEvents]","ad complete"),a.isLastAdInPreroll&&(e._streamingAnalytics.notifyBufferStart(0),t=!0,e.debugLog("_trackPlaybackEvents","main buffer start in ad complete")))}),e._player.on(o.EVENT_AD_SKIPPED,function(){e._waitForNewMetadata||(e._streamingAnalytics.notifyEnd(),e.debugLog("[_trackPlaybackEvents]","ad skipped"),a.isLastAdInPreroll&&(e._streamingAnalytics.notifyBufferStart(0),t=!0,e.debugLog("_trackPlaybackEvents","main buffer start in ad skipped")))}),e._player.on(o.EVENT_BUFFER_BUFFERING,function(n){if(!e._waitForNewMetadata){var a=parseInt(1e3*e._player.getPosition());if(a>0||0===a&&u.isEmpty(e._currentModelContentsPackages.data.adRulesTimeLine)){if("ad"===i){e._currentSegmentIndex=s(e._player).getSegmentsIndexByPosition()+1;var o=e._generateComscoreMetadata();e._streamingAnalytics.getPlaybackSession().setAsset(o),i="content"}e._streamingAnalytics.notifyBufferStart(a),t=!0,e.debugLog("[_trackPlaybackEvents]","main buffer start at",a)}}}),e._player.on(o.EVENT_PLAYBACK_PLAYING,function(a){if(!e._waitForNewMetadata){if("ad"===i){e._currentSegmentIndex=s(e._player).getSegmentsIndexByPosition()+1;var o=e._generateComscoreMetadata();e._streamingAnalytics.getPlaybackSession().setAsset(o),i="content"}var r=e._player.isMute()?0:parseInt(e._player.getVolume());e._streamingAnalytics.notifyChangeVolume(r),e.debugLog("[_trackPlaybackEvents]","volume started",r);var l=parseInt(1e3*e._player.getPosition());"buffering"===a.oldstate&&(t||(e._streamingAnalytics.notifyBufferStart(l),e.debugLog("[_trackPlaybackEvents]","main buffer start at",l)),e._streamingAnalytics.notifyBufferStop(l),t=!1,e.debugLog("[_trackPlaybackEvents]","main buffer stop at",l)),null===n&&(e._streamingAnalytics.notifyPlay(l),e.debugLog("[_trackPlaybackEvents]","main play at",l))}}),e._player.on(o.EVENT_VOLUME_VOLUMECHANGE,function(t){if(!e._waitForNewMetadata){var t=parseInt(t);e._streamingAnalytics.notifyChangeVolume(t),e.debugLog("[_trackPlaybackEvents]","volume changed",t)}}),e._player.on(o.EVENT_VOLUME_MUTE,function(t){if(!e._waitForNewMetadata){var n=t?0:parseInt(e._player.getVolume());e._streamingAnalytics.notifyChangeVolume(n),e.debugLog("[_trackPlaybackEvents]","volume mute",n)}}),e._player.on(o.EVENT_PLAYBACK_PAUSE,function(){if(!e._waitForNewMetadata){var t=parseInt(1e3*e._player.getPosition());e._streamingAnalytics.notifyPause(t),e.debugLog("[_trackPlaybackEvents]","main pause at",t)}}),e._player.on(o.EVENT_PLAYBACK_SEEKING,function(t){if(!e._waitForNewMetadata){n=parseInt(1e3*t.offset);var i=parseInt(1e3*t.position);e._streamingAnalytics.notifySeekStart(i),e.debugLog("[_trackPlaybackEvents]","main play (before seek) at",i)}}),e._player.on(o.EVENT_PLAYBACK_SEEKED,function(){e._waitForNewMetadata||(e._streamingAnalytics.notifyPlay(n),e.debugLog("[_trackPlaybackEvents]","main play (after seek) at",n),n=null)}),e._player.on(o.EVENT_PLAYBACK_COMPLETE,function(){e._waitForNewMetadata||(e._streamingAnalytics.notifyEnd(),e.debugLog("_trackPlaybackEvents","main complete"))}),e._player.on(o.EVENT_PLAYER_DESTROY,function(){e._waitForNewMetadata||(e._streamingAnalytics.notifyEnd(),e.debugLog("[_trackPlaybackEvents]","main destroy"))})},t.exports=p},{"@bellmedia/bm-base":11,"@bellmedia/bm-loader-script":14,bluebird:16,"bm-helper-analytics-video-event":57,"bm-service-factory-capi":117,"bm-service-factory-media-provider":118,"bm-videoplayer":203,"bm-videoplayer-plugin":202,underscore:32}],179:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin"),r=e("bm-service-factory-capi"),s=r,l=e("bm-service-factory-reco"),c=l,d=e("bm-heartbeat-concurrency-capi-bond"),u=function(e){if(!(this instanceof u))return new u(e);u.super_.apply(this,arguments),this._interval=e&&e.interval?e.interval:3e4};i.inherits(u,o);var p=u.prototype;p._interval=3e4,p._serviceCapi=void 0,p._concurrencyHB=void 0,p.loadPlugin=function(){var e=this;e._serviceCapi=s(),e._handlingHeartBeatPinging()},p._handlingHeartBeatPinging=function(){var e=this;e._player.on(a.EVENT_PLAYBACK_BEFORE_PLAY,function(){try{e._concurrencyHB&&e._concurrencyHB.destroy()}catch(e){}var t=e._player.getCurrentItem().data.mediaId;e._serviceCapi.getInstance().getContents(t).then(function(t){if(t){var n=c().getInstance().getDeviceId();e._concurrencyHB=d(e._interval,{runAtStart:!0,dId:n,contentId:t.data.contentId,contentPackageId:t.data.contentPackageId,options:e._options})}})}),e._player.on(a.EVENT_PLAYBACK_COMPLETE,function(t){try{e._concurrencyHB&&e._concurrencyHB.destroy()}catch(e){}}),e._player.on(a.EVENT_PLAYER_DESTROY,function(){try{e._concurrencyHB&&e._concurrencyHB.destroy()}catch(e){}})},t.exports=u},{"@bellmedia/bm-base":11,"bm-heartbeat-concurrency-capi-bond":50,"bm-service-factory-capi":117,"bm-service-factory-reco":119,"bm-videoplayer":203,"bm-videoplayer-plugin":202}],180:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("@bellmedia/bm-loader-script"),r=e("bm-videoplayer-plugin"),s=e("bm-service-factory-auth"),l=e("bm-service-factory-capi"),c=e("underscore"),d=(e("bluebird"),function(e){if(!(this instanceof d))return new d(e);this._playerName=e.playerName,this._customerKey=e.customerKey,this._multiplex=e.multiplex,this._playerVersion=e.playerVersion,this._loadConvivaHTML5SDK=o(e.url),this._playbackLanguage=e.playbackLanguage,this._playerConfig=e.playerConfig,this._brandLabel=e.brandLabel,d.super_.call(this)});i.inherits(d,r);var u=d.prototype;u._serviceAuth=void 0,u._serviceCapi=void 0,u._playerName="",u._playerConfig="",u._customerKey="",u._tagVariables={},u._playerVersion="",u._multiplex="",u._isConvivaInitialized=!1,u._playbackLanguage="",u._currentContentId=void 0,u._capiContentsData={},u._brandLabel="",u.loadPlugin=function(){var e=this;e._serviceAuth=s().getInstance(),e._serviceCapi=l(),e._player.on(a.EVENT_PLAYLIST_ITEM,function(t){e._currentContentId=t.item.data.mediaId,e._serviceCapi.getInstance().getContents(e._currentContentId).then(function(t){e._capiContentsData=t.data,e._capiContentsData.authentication&&e._capiContentsData.authentication.Required?e._serviceAuth.isAuthenticated().then(function(t){t&&e._setupConvivaTracking()}):e._setupConvivaTracking()})})},u._setupConvivaTracking=function(){var e=this;e._loadConvivaHTML5SDK.then(e._initConviva.bind(e)).then(e._updateMetadata.bind(e))},u._initConviva=function(){var e=this;e._isConvivaInitialized||(conviva.integrate({key:e._customerKey,enableAdExperience:!0}),e._isConvivaInitialized=!0)},u._updateMetadata=function(){var e=this,t=e._player.getJwplayerInstance();e._player.on(a.EVENT_ERROR,function(e){conviva&&conviva.reportPlayerError(t,e.type,e.message)}),e._appMetadata(),e._assetMetadata(t)},u._appMetadata=function(){var e=this,t="",n="NA";e._serviceAuth.getAuthInfo().then(function(i){i&&i.data&&(i.data.aisuid&&(t=i.data.aisuid),i.data.bduName&&(n=i.data.bduName)),conviva.updateAppMetadata({player_name:e._playerName,playerVersion:e._playerVersion,viewer_id:t,affiliate:n})})},u._assetMetadata=function(e){var t=this;t._tagVariables=c.extend({},t._tagVariables,{assetName:t._getAssetName(),timeOfDay:t._getTimeOfDay((new Date).getHours()),brand:t._brandLabel,abConfig:localStorage.getItem("abConfigUrlVidi")||"NA",multiplex:t._multiplex||"NA",defaultLanguage:"fr"===t._playbackLanguage?"french":"english",contentID:t._currentContentId||"NA",contentType:t._capiContentsData.content.type||"NA",category:t._capiContentsData.media.type||"NA",isLive:"stream"===t._capiContentsData.content.type?"true":"false",deviceModel:"NA",show:t._capiContentsData["stream"===t._capiContentsData.content.type?"content":"media"].title||"NA",page_hostname:window.location.hostname||"NA",publicationDate:t._capiContentsData.content.airdate||"NA",playerConfig:t._playerConfig||"NA",appVersion:"NA",connectionType:"NA",carrier:"NA",channel:"NA",site:"NA",subgenre:"NA",genre:t._capiContentsData.content.genres.map(function(e){return e.Name?e.Name.toLowerCase().replace(/^\w/,function(e){return e.toUpperCase()}):"NA"}).join(),
resourceAccess:t._capiContentsData.authentication?t._getResourceCode(t._capiContentsData.authentication):"NA"}),t._serviceCapi.getInstance().getContentsPackages(t._currentContentId).then(function(n){var i=t._player.getJwplayerInstance().getPlaylistItem(),a=i.sources&&i.sources[0]&&i.sources[0].drm,o=[{key:"widevine",value:"Widevine"},{key:"fairplay",value:"FairPlay"},{key:"playready",value:"PlayReady"}],r="",s=i.sources[0].file?i.sources[0].file:"NA";if(n.data.requireDrm&&null!==a)for(var l=0;l<o.length;l++)if(a[o[l].key]){r=o[l].value;break}t._tagVariables=c.extend({},t._tagVariables,{streamURL:s,streamingProtocol:t._getStreamingProtocol(s),drmType:r,isDRM:n.data.requireDrm?"true":"false",accessType:n.data.auth.required?"Authenticated":"Unauthenticated",videoSubDomain:n.data.CDN,defaultResource:n.data.CDN}),conviva.updatePlayerAssetMetadata(e,t._tagVariables)})},u._getResourceCode=function(e){var t="NA";return!0===e.Required&&e.Resources&&e.Resources.length>0&&(t=e.Resources.map(function(e){return e.ResourceCode}).join(",")),t},u._getStreamingProtocol=function(e){return-1===e.indexOf("/dash/")?-1===e.indexOf("/hls/")?"NA":"HLS":"DASH"},u._getAssetName=function(){var e=this,t=e._capiContentsData.content.episode,n=e._capiContentsData.content.season,i="",a="["+e._currentContentId+"] "+e._capiContentsData.content.title;return n&&(i="S"+n),t&&(i+="E"+t),i&&(a="["+e._currentContentId+"] "+e._capiContentsData.media.title+" - "+i+" - "+e._capiContentsData.content.title),a},u._getTimeOfDay=function(e){return e>=2&&e<=5?"Overnight":e>=6&&e<=8?"Early Morning":e>=9&&e<=11?"Morning":e>=12&&e<=16?"Afternoon (Daytime)":e>=17&&e<=19?"Late Afternoon/Early Evening":e>=20&&e<=22?"Evening (Primetime)":"Latenight"},t.exports=d},{"@bellmedia/bm-base":11,"@bellmedia/bm-loader-script":14,bluebird:16,"bm-service-factory-auth":116,"bm-service-factory-capi":117,"bm-videoplayer":203,"bm-videoplayer-plugin":202,underscore:32}],181:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin"),o=e("bm-videoplayer"),r=e("bm-videoplayer/models/playlist"),s=e("bm-videoplayer/models/playlist/item"),l=e("bm-view-custom-playlist-vidi"),c=l,d=e("bm-videoplayer-plugin-event-capi"),u=e("bm-service-factory-capi"),p=e("bm-service-factory-translation"),m=u,h=e("underscore"),f=function(e){if(!(this instanceof f))return new f(e);f.super_.call(this,arguments),this._playlistItems=e.playlistItems,this._arrContentIds=e.arrContentIds,this._urlIconNextItem=e.urlIconNextItem,this._urlIconPreviousItem=e.urlIconPreviousItem,this._urlIconPlaylist=e.urlIconPlaylist,this._enablePlaylistOverlay=e.enablePlaylistOverlay,this._enablePreviousButton=e.enablePreviousButton,this._playIconImgUrl=e.playIconImgUrl,this._playLockIconImgUrl=e.playLockIconImgUrl};i.inherits(f,a);var _=f.prototype;_.playlistItems=[],_._arrContentIds=[],_._urlIconNextItem="",_._urlIconPreviousItem="",_._urlIconPlaylist="",_._enablePlaylistOverlay=!0,_._enablePreviousButton=!1,_._playIconImgUrl="",_._playLockIconImgUrl="",_._currentPlaylistItemIndex=0,_._nextPlaylistItemIndex=0,_._previousPlaylistItemIndex=0,_._playlistItemsRender=void 0,_._jwplayerInstance=void 0,_._viewCustomPlaylistVidi=void 0,_._numberOfItemsPerSlide=void 0,_.loadPlugin=function(){var e=this,t=h.map(e._arrContentIds,function(e){return h.isObject(e)?e.contentId:e});e._serviceCapi=m(),e._serviceCapi.getInstance().getContentsCustomPlaylist(t).then(function(t){e._playlistItemsRender=t.data.Items;var n=h.map(t.data.Items,function(e){return e.Id.toString()});e._playlistItems=h.filter(e._playlistItems.data.items,function(e){return h.find(n,function(t){return e.data.mediaId.toString()===t})}),e._arrContentIds=h.filter(n,function(e,t,n){return t==n.indexOf(e)}),e._player.on(o.EVENT_PLAYLIST_ITEM,function(t){e._currentPlaylistItemIndex=e._arrContentIds.indexOf(t.item.data.mediaId.toString()),e._nextPlaylistItemIndex=e._currentPlaylistItemIndex<e._arrContentIds.length-1?e._currentPlaylistItemIndex+1:0,e._previousPlaylistItemIndex=e._currentPlaylistItemIndex>0?e._currentPlaylistItemIndex-1:e._arrContentIds.length-1,e._createPlaylistButtons(),e._renderViewPlaylistOnResize()}),e._player.on(o.EVENT_PLAYBACK_COMPLETE,function(){e._playNextItem(),e._player.setView(null)}),e._player.on(o.EVENT_ERROR,function(t){var n=e._serviceCapi.getInstance().getErrorHelperCapiError({sourceError:t.errorObjFromJwplayer.sourceError[1]});e._player._event.emit(d.EVENT_CAPI_ERROR,n)})})},_._createPlaylistButtons=function(){var e=this,t=p().getInstance();e._player.getJwplayerInstance().addButton(e._urlIconNextItem,t.t("Next"),e._playNextItem.bind(e),"bm-vidi-icon-next-item"),!0===e._enablePreviousButton?e._player.getJwplayerInstance().addButton(e._urlIconPreviousItem,t.t("Previous"),e._playPreviousItem.bind(e),"bm-vidi-icon-previous-item"):e._player.getJwplayerInstance().removeButton("bm-vidi-icon-previous-item"),!0===e._enablePlaylistOverlay?e._player.getJwplayerInstance().addButton(e._urlIconPlaylist,t.t("Playlist"),e._viewPlaylist.bind(e),"bm-vidi-icon-playlist"):e._player.getJwplayerInstance().removeButton("bm-vidi-icon-playlist")},_._playNextItem=function(){var e=this;e._player.setView(null),e._player.loadPlaylist(e._getItem(e._playlistItems[e._nextPlaylistItemIndex].data),!0)},_._playPreviousItem=function(){var e=this;e._player.setView(null),e._player.loadPlaylist(e._getItem(e._playlistItems[e._previousPlaylistItemIndex].data),!0)},_._renderViewPlaylistOnResize=function(){var e=this;e._player.on(o.EVENT_PLAYER_RESIZE,function(t){e._player.getView()===e._viewCustomPlaylistVidi&&(t<450&&1!==e._numberOfItemsPerSlide&&(e._player.setView(null),e._viewPlaylist()),t<800&&t>450&&3!==e._numberOfItemsPerSlide&&(e._player.setView(null),e._viewPlaylist()),t>800&&6!==e._numberOfItemsPerSlide&&(e._player.setView(null),e._viewPlaylist()))})},_._viewPlaylist=function(){var e=this;e._jwplayerInstance=e._player.getJwplayerInstance();var t=e._jwplayerInstance.getWidth(),n=e._jwplayerInstance.getHeight();e._numberOfItemsPerSlide=3,t<450?e._numberOfItemsPerSlide=1:t<=800&&t>=450&&n>=350?e._numberOfItemsPerSlide=3:t>=800&&n>=1e3&&(e._numberOfItemsPerSlide=6),e._viewCustomPlaylistVidi=c({playlistItemsRender:e._playlistItemsRender,nextPlaylistItemIndex:e._nextPlaylistItemIndex,numberOfItemsPerSlide:e._numberOfItemsPerSlide,playIconImgUrl:e._playIconImgUrl,playLockIconImgUrl:e._playLockIconImgUrl,playerWidth:t}),e._viewCustomPlaylistVidi.render(),e._player._event.emit(f.EVENT_PLAYLIST_BUTTON_CLICK),e._viewCustomPlaylistVidi.on(c.EVENT_PLAYLIST_ITEM_CLICK,function(t){e._currentPlaylistItemIndex=h.isString(e._arrContentIds[0])?e._arrContentIds.indexOf(t.contentId.toString()):e._arrContentIds.indexOf(t.contentId),e._player.loadPlaylist(e._getItem(e._playlistItems[e._currentPlaylistItemIndex].data),!0),e._player.hideView()}),e._viewCustomPlaylistVidi.on(c.EVENT_DISMISS_CLICK,function(t){e._player.setView(null)}),e._player.setView(e._viewCustomPlaylistVidi)},_._getItem=function(e){var t=s().setData({mediaId:e.mediaId,adsite:e.adsite,adzone:e.adzone,urlClickThrough:e.urlClickThrough,continueWatchingPosition:e.continueWatchingPosition});return r().setData({items:[t]})},f.EVENT_PLAYLIST_BUTTON_CLICK="event_playlist_button_click",t.exports=f},{"@bellmedia/bm-base":11,"bm-service-factory-capi":117,"bm-service-factory-translation":120,"bm-videoplayer":203,"bm-videoplayer-plugin":202,"bm-videoplayer-plugin-event-capi":183,"bm-videoplayer/models/playlist":208,"bm-videoplayer/models/playlist/item":209,"bm-view-custom-playlist-vidi":226,underscore:32}],182:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin"),r=e("bm-view-endscreen"),s=r,l=e("bm-videoplayer/models/playlist"),c=e("bm-videoplayer/models/playlist/item"),d=function(e){if(!(this instanceof d))return new d(e);d.super_.call(this,arguments),this._playIconImgUrl=e.playIconImgUrl,this._playLockIconImgUrl=e.playLockIconImgUrl};i.inherits(d,o);var u=d.prototype;u._playIconImgUrl="",u._playLockIconImgUrl="",u.loadPlugin=function(){var e=this;this._player.on(a.EVENT_PLAYLIST_ENDED,function(){var t=s({contentId:e._player.getCurrentItem().data.mediaId,playIconImgUrl:e._playIconImgUrl,playLockIconImgUrl:e._playLockIconImgUrl});t.render(),t.on(r.EVENT_VIDEO_ITEM_CLICK,function(t){e._player.loadPlaylist(l().setData({title:"",description:"",items:[c().setData({mediaId:t.contentId})]}),!0),e._player.hideView()}),t.once(r.EVENT_NOT_FOUND,function(t){e._player.hideView()}),e._player.once(a.EVENT_PLAYBACK_BEFORE_PLAY,function(){e._player.getView()===t&&e._player.hideView()}),e._player.setView(t)})},t.exports=d},{"@bellmedia/bm-base":11,"bm-videoplayer":203,"bm-videoplayer-plugin":202,"bm-videoplayer/models/playlist":208,"bm-videoplayer/models/playlist/item":209,"bm-view-endscreen":229}],183:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin"),o=function(){if(!(this instanceof o))return new o;o.super_.call(this)};i.inherits(o,a);o.prototype;o.EVENT_CAPI_ERROR="event_capi_error",t.exports=o},{"@bellmedia/bm-base":11,"bm-videoplayer-plugin":202}],184:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin"),r=e("bm-heartbeat-contents-epg"),s=r,l=e("bm-view-fifa-button"),c=l,d=e("bm-service-factory-capi"),u=e("@bellmedia/bm-base-event"),p=e("bm-service-factory-translation"),m=function(e){if(!(this instanceof m))return new m(e);m.super_.apply(this,arguments),this._pulse=e.pulse,this._urlFifaStatsImage=e.urlFifaStatsImage,this._event=u()};i.inherits(m,o);var h=m.prototype;h._pulse=1e3,h._contentId=void 0,h._urlFifaStatsImage=void 0,h._instanceHB=void 0,h._serviceCapi=void 0,h._event=void 0,h._gameId=void 0,h._isStatsButtonAdded=!1,h.loadPlugin=function(){var e=this;e._player._fifaStatsPluginInstance=this,e._player.on(a.EVENT_PLAYLIST_ITEM,function(t){e._contentId=parseInt(t.item.data.mediaId,10)}),e._player.on(a.EVENT_PLAYBACK_BEFORE_PLAY,function(){try{e._instanceHB&&e._instanceHB.destroy()}catch(e){}e._initContentsEpg(e._contentId)})},h._initContentsEpg=function(e){var t=this,n=p().getInstance();t._serviceCapi=d(),t._serviceCapi.getInstance().getChannelAffiliates().then(function(i){if(!i.data)return Promise.resolve(null);var a=i.data.items.filter(function(t){return t.Content.Id===parseInt(e)});a.length>0&&a[0].Code&&(t._instanceHB=s(t._pulse,{runAtStart:!0,contentId:t._contentId,channelCode:a[0].Code})),t._instanceHB.on(r.EVENT_CONTENTS_EPG_SUCCESS,function(e){var i=new Date,a=e.items.filter(function(e){return new Date(e.StartTime)<i&&new Date(e.EndTime)>i});if(t._gameId=a&&a[0].GameId?a[0].GameId:null,t._gameId&&!t._isStatsButtonAdded){var o=c({urlFifaButton:t._urlFifaStatsImage,fifaStatsText:n.t("stats")});o.render(),o.on(l.EVENT_FIFASTATS_BUTTON_CLICK,function(){t._event.emit(m.EVENT_FIFASTATS_BUTTON_CLICK,t._gameId)}),t._player.setView(o),t._isStatsButtonAdded=!0,$(".bm-fifa-button-wrap").show()}t._gameId||(t._isStatsButtonAdded=!1,$(".bm-fifa-button-wrap").hide())})}).catch(function(e){return Promise.reject(null)}),t._player.on(a.EVENT_PLAYBACK_BEFORE_COMPLETE,function(){try{t._instanceHB&&t._instanceHB.destroy()}catch(e){}}),t._player.on(a.EVENT_PLAYER_DESTROY,function(){try{t._instanceHB&&t._instanceHB.destroy()}catch(e){}})},h.on=function(){this._event.on.apply(this._event,arguments)},h.once=function(){this._event.once.apply(this._event,arguments)},h.off=function(){this._event.off.apply(this._event,arguments)},m.EVENT_FIFASTATS_BUTTON_CLICK="EVENT_FIFASTATS_BUTTON_CLICK",t.exports=m},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"bm-heartbeat-contents-epg":51,"bm-service-factory-capi":117,"bm-service-factory-translation":120,"bm-videoplayer":203,"bm-videoplayer-plugin":202,"bm-view-fifa-button":238}],185:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin"),r=e("bm-css-injector"),s=e("jquery"),l=e("underscore"),c=e("./templates/css/bm-view-floatplayer.css.tpl"),d=function(e){if(!(this instanceof d))return new d(e);e=e||{},this._placeholderClassName=e.placeholderClassName||this._placeholderClassName,this._placeholderBackgroundImage=e.placeholderBackgroundImage||this._placeholderBackgroundImage,this._floatClassName=e.floatClassName||this._floatClassName,this._floatPositionX=e.floatPositionX||this._floatPositionX,this._floatOffsetX=e.floatOffsetX||this._floatOffsetX,this._floatPositionY=e.floatPositionY||this._floatPositionY,this._floatOffsetY=e.floatOffsetY||this._floatOffsetY,this._floatWidth=e.floatWidth||this._floatWidth,this._enableDismissButton=e.enableDismissButton||this._enableDismissButton,d.super_.call(this,arguments)};i.inherits(d,o);var u=d.prototype;u._shouldFloat=!1,u._placeholderClassName="bm-vidi-float-placeholder",u._placeholderBackgroundImage="",u._floatClassName="bm-vidi-float-player",u._floatPositionX="left",u._floatOffsetX="20px",u._floatPositionY="bottom",u._floatOffsetY="20px",u._floatWidth="300px",u._enableDismissButton=!1,u._jwplayerInstance=void 0,u._playerEl=void 0,u._playerPlaceholderEl=void 0,u._playerOffsetTop=0,u._dismissButtonEl=void 0,u._onScrollPageHandler=void 0,u._onPlayerResizeHandler=void 0,u.loadPlugin=function(){var e=this;e._injectedStyle=r().injectStyles(l.template(c)({playerInstanceId:e._player._instanceId,floatClassName:e._floatClassName,placeholderClassName:e._placeholderClassName,placeholderBackgroundImage:e._placeholderBackgroundImage,floatPositionX:e._floatPositionX,floatOffsetX:e._floatOffsetX,floatPositionY:e._floatPositionY,floatOffsetY:e._floatOffsetY,floatWidth:e._floatWidth}),"bm-view-floatplayer"),e._player.once(a.EVENT_PLAYLIST_ITEM,e._initializeFloatplayer.bind(e))},u._cleanUp=function(){var e=this;e._playerPlaceholderEl&&(e._playerPlaceholderEl.parentNode.removeChild(e._playerPlaceholderEl),e._playerPlaceholderEl=null),e._injectedStyle&&(e._injectedStyle.parentNode.removeChild(e._injectedStyle),e._injectedStyle=null),window.removeEventListener("scroll",e._onScrollPageHandler),window.removeEventListener("resize",e._onPlayerResizeHandler)},u._initializeFloatplayer=function(){var e=this;e._jwplayerInstance=e._player.getJwplayerInstance(),e._playerEl=e._jwplayerInstance.getContainer(),e._playerPlaceholderEl=e._createPlaceholderEl(),e._enableDismissButton&&(e._dismissButtonEl=e._createDismissButton()),e._adjustPlaceholderSizeAndPosition(),e._onScrollPageHandler=e._onScrollPage.bind(e),e._onPlayerResizeHandler=e._onPlayerResize.bind(e),window.addEventListener("scroll",e._onScrollPageHandler),window.addEventListener("resize",e._onPlayerResizeHandler),e._player.on(a.EVENT_PLAYER_DESTROY,e._cleanUp.bind(e))},u._createPlaceholderEl=function(){var e=this,t=document.createElement("div");return t.id=e._player._instanceId+"_placeholder",t.classList.add(e._placeholderClassName),e._wrap(e._playerEl,t)},u._onScrollPage=function(){var e=this;e._shouldFloat=e._getScrollTop()>=e._playerOffsetTop,e._floatPlayer(),e._jwplayerInstance.resize(),e._adjustPlaceholderSizeAndPosition()},u._onPlayerResize=function(){this._adjustPlaceholderSizeAndPosition()},u._adjustPlaceholderSizeAndPosition=function(){var e=this;e._shouldFloat||(e._playerOffsetTop=e._getElementOffsetTop(e._playerEl)+e._jwplayerInstance.getHeight()/2,e._playerPlaceholderEl.style.height=e._jwplayerInstance.getHeight()+"px")},u._floatPlayer=function(){var e=this;e._shouldFloat&&("playing"===e._jwplayerInstance.getState()||e._playerEl.classList.contains(e._floatClassName))?e._startFloat():e._stopFloat()},u._startFloat=function(){var e=this;e._playerEl.classList.add(e._floatClassName),!e._dismissButtonEl||s("#"+e._playerEl.id).has(e._dismissButtonEl).length>0||s("#"+e._playerEl.id).append(e._dismissButtonEl)},u._stopFloat=function(){var e=this;e._playerEl.classList.remove(e._floatClassName),!e._dismissButtonEl||0===s("#"+e._playerEl.id).has(e._dismissButtonEl).length||s("#"+e._playerEl.id).find(e._dismissButtonEl).detach()},u._createDismissButton=function(){var e=this,t=s("<div></div>"),n=1;return t.addClass("bmvpfp-dismiss-button jw-icon jw-icon-inline jw-button-color jw-display jw-reset"),t.html('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" focusable="false" class="jw-svg-icon jw-svg-icon-close"><path d="M134.8,120l48.6-48.6c2-1.9,2.1-5.2,0.2-7.2c0,0-0.1-0.1-0.2-0.2l-7.4-7.4c-1.9-2-5.2-2.1-7.2-0.2c0,0-0.1,0.1-0.2,0.2L120,105.2L71.4,56.6c-1.9-2-5.2-2.1-7.2-0.2c0,0-0.1,0.1-0.2,0.2L56.6,64c-2,1.9-2.1,5.2-0.2,7.2c0,0,0.1,0.1,0.2,0.2l48.6,48.7l-48.6,48.6c-2,1.9-2.1,5.2-0.2,7.2c0,0,0.1,0.1,0.2,0.2l7.4,7.4c1.9,2,5.2,2.1,7.2,0.2c0,0,0.1-0.1,0.2-0.2l48.7-48.6l48.6,48.6c1.9,2,5.2,2.1,7.2,0.2c0,0,0.1-0.1,0.2-0.2l7.4-7.4c2-1.9,2.1-5.2,0.2-7.2c0,0-0.1-0.1-0.2-0.2L134.8,120z"></path></svg>'),e._jwplayerInstance.on("displayClick",function(){n=0,setTimeout(function(){n=1},500)}),t.on("click touchstart",function(){1===n&&(e._jwplayerInstance.pause(),e._stopFloat())}),t},u._wrap=function(e,t){return t=t||document.createElement("div"),e.parentNode.appendChild(t),t.appendChild(e),t},u._getElementOffsetTop=function(e){var t=e.getBoundingClientRect(),n=document.body,i=document.documentElement,a=window.pageYOffset||i.scrollTop||n.scrollTop,o=i.clientTop||n.clientTop||0;return Math.round(t.top+a-o)},u._getScrollTop=function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},t.exports=d},{"./templates/css/bm-view-floatplayer.css.tpl":186,"@bellmedia/bm-base":11,"bm-css-injector":47,"bm-videoplayer":203,"bm-videoplayer-plugin":202,jquery:18,underscore:32}],186:[function(e,t,n){t.exports="#<%- playerInstanceId %>.jwplayer.<%- floatClassName %> {\n    box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.25);\n    <%- floatPositionX %>: <%- floatOffsetX %>;\n    <%- floatPositionY %>: <%- floatOffsetY %>;\n    position: fixed !important;\n    width: <%- floatWidth %> !important;\n    z-index: 1;\n}    \n\n#<%- playerInstanceId %>_placeholder.<%- placeholderClassName %>{\n    background-color: black;\n    height: auto;\n    <% if (placeholderBackgroundImage !== \"\") { %>\n    background-image: url('<%- placeholderBackgroundImage %>') !important;\n    background-repeat: no-repeat;\n    background-position: center;\n    <% } %>\n}\n\n#<%- playerInstanceId %>.jwplayer.<%- floatClassName %> .bmvpfp-dismiss-button {\n    pointer-events: all;\n    width: 30px;\n    height: 30px;\n    background: rgba(0, 0, 0, 0.4);\n    padding: 0;\n    position: absolute;\n    top: 0;\n    right: 0;\n    cursor: pointer;\n}\n\n#<%- playerInstanceId %>.jwplayer.<%- floatClassName %>.jw-state-playing.jw-flag-user-inactive .bmvpfp-dismiss-button {\n    pointer-events: none;\n}\n"},{}],187:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin"),r=e("bm-videoplayer-plugin-pause-ads"),s=e("bm-videoplayer-jw-plugin-episode-list"),l=e("bm-videoplayer-jw-plugin-chromecast-vidi"),c=e("bm-videoplayer-jw-plugin-info-overlay"),d=e("bm-videoplayer-jw-plugin-skip-back-forward"),u=e("bm-videoplayer-plugin-custom-playlist-vidi"),p=e("bm-videoplayer-plugin-picture-in-picture"),m=e("@bellmedia/bm-loader-script"),h=(e("bluebird"),e("underscore"),function(e){if(!(this instanceof h))return new h(e);h.super_.apply(this),this._gaId=e.uTag,this._loadGoogleAnalyticsSDK=m(e.url+this._gaId)});i.inherits(h,o);var f=h.prototype;f._platform="Web",f._gaId="",f._isGAInitialized=!1,f._first30Play=!0,f._first50Play=!0,f._first70Play=!0,f._wasSeeked=!1,f._pauseAdDisplayTime=0,f._pipDistplayTime=0,f.loadPlugin=function(){var e=this;e._player.on(a.EVENT_PLAYER_SETUP,function(){return window.GoogleAnalyticsObject=e._gaObject,e._loadGoogleAnalyticsSDK.then(e._initGA.bind(e)).then(e._run.bind(e))})},f._initGA=function(){var e=this;e._isGAInitialized||(window.dataLayer=window.dataLayer||[],e._gtag=function(){dataLayer.push(arguments)},e._gtag("js",new Date),e._gtag("config",e._gaId),e._isGAInitialized=!0)},f._resetFirsts=function(){var e=this;e._first30Play=!0,e._first50Play=!0,e._first70Play=!0,e._wasSeeked=!1},f._track=function(e,t){var n=this;t=t||"PlayerInteraction",n._gtag("event",e,{event_category:t,event_label:n._platform+"~PlayerAction"}),void 0},f._trackAdEvents=function(){},f._trackPlayerEvents=function(){var e=this;e._player.on(a.EVENT_STATUS_LOADEDDATA,function(){e._track("play_unique");var t=" .jw-controls .jw-controlbar .jw-button-container .jw-icon-cc";$("#"+e._player._instanceId+t).on("click touchstart",function(){$(t).hasClass("jw-off")?e._track("cc_button_click_off"):e._track("cc_button_click_on")})}),e._player.on(a.EVENT_PLAYBACK_PAUSE,function(t){"interaction"===t.pauseReason&&"playing"===t.oldstate&&e._track("pause_click")}),e._player.on(a.EVENT_PLAYBACK_SEEKED,function(){e._wasSeeked=!0}),e._player.on(a.EVENT_PLAYBACK_BEFORE_COMPLETE,function(){e._resetFirsts()}),e._player.on(a.EVENT_PLAYER_FULLSCREEN,function(t){t.fullscreen?e._track("fullscreen_button_click_on"):e._track("fullscreen_button_click_off")})},f._trackCustomPluginEvents=function(){var e=this;e._player.on(s.EVENT_EPISODELIST_OPEN,function(){e._track("listofepisodes_click")}),e._player.on(u.EVENT_PLAYLIST_BUTTON_CLICK,function(){e._track("playlist_click")}),e._player.on(l.EVENT_CHROMECAST_BUTTON_CLICK,function(){e._track("chromecast_button_click")}),e._player.on(c.EVENT_INFO_OVERLAY_CLICK,function(){e._track("info_button_click")}),e._player.on(d.EVENT_REWIND_CLICK,function(){e._track("rewind_button_click")}),e._player.on(d.EVENT_FORWARD_CLICK,function(){e._track("forward_button_click")})},f._trackPauseAdDisplayTime=function(e){var t=this;e<6?t._track("pause_ads_5sec","UserAction"):e<31?t._track("pause_ads_30sec","UserAction"):e<61?t._track("pause_ads_60sec","UserAction"):e<91?t._track("pause_ads_90sec","UserAction"):e<121?t._track("pause_ads_120sec","UserAction"):t._track("pause_ads_plus_120sec","UserAction")},f._trackSegments=function(e){var t=this,n=e.position/e.duration;n>.7&&t._wasSeeked?(t._first70Play=!1,t._first30Play=!1,t._first50Play=!1):n>.5&&t._wasSeeked?(t._first30Play=!1,t._first50Play=!1):n>.3&&t._wasSeeked&&(t._first30Play=!1),t._wasSeeked=!1,t._first70Play&&n>=.7&&(t._track("video_watch_70pc"),t._first70Play=!1,t._first30Play=!1,t._first50Play=!1),t._first50Play&&n>=.5&&(t._track("video_watch_50pc"),t._first50Play=!1,t._first30Play=!1),t._first30Play&&n>=.3&&(t._track("video_watch_30pc"),t._first30Play=!1)},f._onPauseAdDisplayChange=function(e){var t=this;switch(e){case!0:t._pauseAdDisplayTime=(new Date).getTime();break;case!1:t._pauseAdDisplayTime>0&&(t._trackPauseAdDisplayTime(((new Date).getTime()-t._pauseAdDisplayTime)/1e3),t._pauseAdDisplayTime=0)}},f._onPIPStatusChange=function(e){var t=this;switch(e){case!0:t._track("pip_mode_on","UserAction"),t._pipDistplayTime=(new Date).getTime();break;case!1:t._pipDistplayTime>0&&(t._trackPIPDisplayTime(((new Date).getTime()-t._pipDistplayTime)/1e3),t._pipDistplayTime=0)}},f._trackPIPDisplayTime=function(e){var t=this;e<301?t._track("pip_view_5min","UserAction"):e<1801?t._track("pip_view_30min","UserAction"):e<3601?t._track("pip_view_60min","UserAction"):e<5401?t._track("pip_view_90min","UserAction"):t._track("pip_view_plus_90min","UserAction")},f._run=function(){var e=this;e._player.on(a.EVENT_PLAYLIST_ITEM,function(){e._resetFirsts()}),e._trackAdEvents(),e._trackPlayerEvents(),e._trackCustomPluginEvents(),e._player.on(p.PIP_MODE_CHANGE,e._onPIPStatusChange.bind(e)),e._player.on(a.EVENT_PLAYBACK_TIMEUPDATE,e._trackSegments.bind(e)),e._player.on(r.PAUSE_ADS_STATUS,e._onPauseAdDisplayChange.bind(e)),e._player.on(a.EVENT_PLAYER_DESTROY,e._onPauseAdDisplayChange(!1))},t.exports=h},{"@bellmedia/bm-base":11,"@bellmedia/bm-loader-script":14,bluebird:16,"bm-videoplayer":203,"bm-videoplayer-jw-plugin-chromecast-vidi":132,"bm-videoplayer-jw-plugin-episode-list":142,"bm-videoplayer-jw-plugin-info-overlay":144,"bm-videoplayer-jw-plugin-skip-back-forward":162,"bm-videoplayer-plugin":202,"bm-videoplayer-plugin-custom-playlist-vidi":181,"bm-videoplayer-plugin-pause-ads":190,"bm-videoplayer-plugin-picture-in-picture":192,underscore:32}],188:[function(e,t,n){var i=e("bm-analytics-helper"),a=e("@bellmedia/bm-base"),o=e("bm-videoplayer"),r=e("bm-videoplayer-plugin"),s=e("bm-videoplayer-plugin-skipbreaks-capi"),l=e("bm-helper-adobe-heartbeat-analytics-video-event"),c=e("@mparticle/web-media-sdk"),d=e("bluebird"),u=e("underscore"),p=e("@bellmedia/bm-base-event"),m=e("bm-service-factory-auth"),h=e("bm-service-factory-capi");const f={FULLSCREEN:"fullscreen",MUTE:"mute",SKIP_INTRO:"skip intro",SKIP_RECAP:"skip recap"},_={FIVE_PERCENT:5,FIFTEEN_PERCENT:15,TWENTY_FIVE_PERCENT:25,FIFTY_PERCENT:50,SEVENTY_FIVE_PERCENT:75,EIGHTY_FIVE_PERCENT:85,NINETY_FIVE_PERCENT:95},b={PLAY_FROM_START:"play from start",RESUME_FROM_BOOKMARK:"resume from bookmark",RESUME_FROM_PAUSE:"resume from pause"},v={RECAP:"Recap",INTRO:"Intro"},g={LIVE:"Live",ON_DEMAND:"OnDemand"};var y=function(e){if(!(this instanceof y))return new y(e);this._brandName=e.brandName,this._isEnabled=e.isEnabled,this._playbackLanguage=e.playbackLanguage,this._isMilestonesTimeoutActive=!1,y.super_.call(this)};a.inherits(y,r);var E=y.prototype;E._serviceAuth=void 0,E._serviceCapi=void 0,E.loadPlugin=function(){u.isObject(window.mParticle)&&this._isEnabled&&(this._serviceAuth=m().getInstance(),this._serviceCapi=h(),this._helper=new l(this._player),this._mParticle=window.mParticle,this._event=p(),this._player.on(o.EVENT_PLAYER_SETUP,this._initEvents.bind(this)))},E._buildAdContent=function(e){var t={id:e.adId,title:e.adTitle};if(e.duration&&(t.duration=this._getDurationInMilliseconds(e.duration)),e.adPlacement&&(t.position=e.adPlacement-1),e.adPosition){var n=this._getAdPlacement(e.adPosition);t.placement=n}return t},E._createMediaSession=function(){var e=this,t=this._contents.contentId,n=this._contents.content.title,i=this._getDurationInMilliseconds(e._contents.content.duration),a=this._getStreamType();e._mediaSession=new c(e._mParticle,t,n,i,"Video",a,!0,!0),e._mediaSession.mediaContentCompleteLimit=85},E._getAdPlacement=function(e){var t={PRE:"pre",MID:"mid",POST:"post",OTHER:"other"};switch(e){case t.PRE:return"pre-roll";case t.MID:return"mid-roll";case t.POST:return"post-roll";default:return t.OTHER}},E._getDefaultUnreachedMiletones=function(){return[_.FIVE_PERCENT,_.FIFTEEN_PERCENT,_.TWENTY_FIVE_PERCENT,_.FIFTY_PERCENT,_.SEVENTY_FIVE_PERCENT,_.EIGHTY_FIVE_PERCENT,_.NINETY_FIVE_PERCENT]},E._getDurationInMilliseconds=function(e){return Math.floor(1e3*e)},E._getMediaSessionPlayType=function(e){return 0===e?b.PLAY_FROM_START:b.RESUME_FROM_BOOKMARK},E._getMetadata=function(e){var t=this._serviceCapi.getInstance().getContents(e),n=this._serviceCapi.getInstance().getContentsPackages(e);return d.props({contents:t,contentsPackage:n})},E._getPlayheadPosition=function(){var e=Math.floor(this._player.getPosition());return this._getDurationInMilliseconds(e)},E._getPlaybackLanguage=function(e){return{en:"english",fr:"french"}[e]||e},E._getStreamType=function(){return this._isLive()?g.LIVE:g.ON_DEMAND},E._initEvents=function(){this._helper.on(l.EVENT_CHAPTER_END,this._onSegmentEnd.bind(this)),this._helper.on(l.EVENT_CHAPTER_START,this._onSegmentStart.bind(this)),this._player.on(o.EVENT_AD_BREAK_END,this._onAdBreakEnd.bind(this)),this._player.on(o.EVENT_AD_BREAK_START,this._onAdBreakStart.bind(this)),this._player.on(o.EVENT_AD_CLICK,this._onAdClick.bind(this)),this._player.on(o.EVENT_AD_COMPLETE,this._onAdEnd.bind(this)),this._player.on(o.EVENT_AD_PLAY,this._onAdStart.bind(this)),this._player.on(o.EVENT_AUTOSTART_NOT_ALLOWED,this._onAutostartNotAllowed.bind(this)),this._player.on(o.EVENT_PLAYBACK_BEFORE_COMPLETE,this._onMediaContentEnd.bind(this)),this._player.on(o.EVENT_PLAYBACK_BEFORE_PLAY,this._onMediaSessionStart.bind(this)),this._player.on(o.EVENT_PLAYBACK_COMPLETE,this._onMediaSessionEnd.bind(this)),this._player.on(o.EVENT_PLAYBACK_PAUSE,this._onPause.bind(this)),this._player.on(o.EVENT_PLAYBACK_PLAY,this._onPlay.bind(this)),this._player.on(o.EVENT_PLAYBACK_SEEKED,this._onSeekEnd.bind(this)),this._player.on(o.EVENT_PLAYBACK_SEEKING,this._onSeekStart.bind(this)),this._player.on(o.EVENT_PLAYBACK_TIMEUPDATE,this._onTimeUpdate.bind(this)),this._player.on(o.EVENT_PLAYER_DESTROY,this._onDestroy.bind(this)),this._player.on(o.EVENT_PLAYER_FULLSCREEN,this._onFullscreen.bind(this)),this._player.on(o.EVENT_PLAYLIST_ITEM,this._onPlaylistItem.bind(this)),this._player.on(o.EVENT_VOLUME_MUTE,this._onMute.bind(this)),this._player._skipBreakCapiPluginInstance&&this._player._skipBreakCapiPluginInstance.on(s.EVENT_SKIP_BREAK,this._skipBreakClick.bind(this))},E._isLive=function(){return!(!this._contents||!this._contents||"stream"!==this._contents.content.type)},E._logControlChange=function(e){var t=e.control,n=e.value;this._mParticle.logEvent("Player Control Change",this._mParticle.EventType.Media,{control:t,value:n,media_session_id:this._mediaSession.sessionId})},E._onAdBreakEnd=function(){if(this._mediaSession){var e={media_session_id:this._mediaSession.sessionId};this._mediaSession.logAdBreakEnd(e)}},E._onAdBreakStart=function(e){var t={duration:this._getDurationInMilliseconds(e.adBreakDuration),id:e.adBreakId,title:""},n={media_session_id:this._mediaSession.sessionId};this._mediaSession.logAdBreakStart(t,n)},E._onAdClick=function(e){var t=this._buildAdContent(e),n={ad_content_id:e.adId,customAttributes:{ad_break_id:e.adBreakId},media_session_id:this._mediaSession.sessionId};this._mediaSession.logAdClick(t,n)},E._onAdEnd=function(e){var t={customAttributes:{ad_break_id:e.adBreakId}};this._mediaSession.logAdEnd(t)},E._onAdStart=function(e){var t=this._buildAdContent(e),n={ad_content_id:e.adId,ad_content_duration:this._getDurationInMilliseconds(e.duration),customAttributes:{ad_break_id:e.adBreakId,ad_content_placement:this._getAdPlacement(e.adPosition)},media_session_id:this._mediaSession.sessionId};this._mediaSession.logAdStart(t,n)},E._onAutostartNotAllowed=function(){this._mParticle.logEvent("Player Autoplay Block",this._mParticle.EventType.Media,{media_session_id:this._mediaSession.sessionId})},E._onFullscreen=function(e){var t=e.fullscreen;this._logControlChange({control:f.FULLSCREEN,value:t})},E._onDestroy=function(){this._onMediaSessionEnd()},E._onMediaContentEnd=function(){if(this._mediaSession){var e={playhead_position:this._getPlayheadPosition()},e={currentPlayheadPosition:this._getPlayheadPosition()};this._mediaSession.logMediaContentEnd(e)}},E._onMediaSessionEnd=function(){if(this._mediaSession){var e={playhead_position:this._getPlayheadPosition()};this._mediaSession.logMediaSessionEnd(e),this._mediaSession=null,this._startedSession=null,this._unreachedMilestones=this._getDefaultUnreachedMiletones()}},E._onMediaSessionStart=function(){var e=this,t=function(){if(!e._startedSession){this._unreachedMilestones=e._getDefaultUnreachedMiletones(),e._createMediaSession();var t=window.localStorage.getItem("abConfigUrlVidi"),n=e._getPlayheadPosition(),a=e._serviceCapi.getInstance()._options.data.destinationCode,o=e._getDurationInMilliseconds(e._contents.content.duration),r=e._contents.content.genres.map(function(e){return e.Name}).join(","),s=e._player.getWidth()+" x "+e._player.getHeight(),l="VidiPlayerWeb",c=null;t&&(l="VidiPlayerWeb "+t),e._contents.revShare&&(c=e._contents.revShare.map(function(e){return e.IsExclusive?e.RevShareCode+"-Y":e.RevShareCode+"-N"}).join(","));var d={content_asset_type:e._contents.content.type,content_default_language:e._contents.contentPackageLang,content_destination_code:a,content_episode:e._contents.content.episode,content_episode_name:e._contents.content.title,content_genre:r,content_media_id:e._contents.mediaId,content_owner:e._contents.content.owner,content_revshare:c,content_season:e._contents.content.season,content_show:e._contents.media.title,duration:o,media_name:e._contents.media.title,media_session_id:e._mediaSession.sessionId,media_session_play_type:e._getMediaSessionPlayType(n),media_session_stream_format:i().getStreamFormat(),media_session_stream_type:"MP4",media_type:e._contents.media.type,
platform_id:"web",playback_language:e._getPlaybackLanguage(e._playbackLanguage),player_initial_resolution:s,player_name:l},u={currentPlayheadPosition:n,customAttributes:d};e._mediaSession.logMediaSessionStart(u),e._startedSession=e._mediaSession.sessionId}}.bind(e);e._metadataPromise.isResolved()?t():e._metadataPromise.done(function(){t()})},E._onMute=function(e){this._logControlChange({control:f.MUTE,value:e})},E._onPause=function(){if(this._mediaSession||!this._isSeeking){var e=this._getPlayheadPosition(),t={currentPlayheadPosition:e};this._mediaSession.logPause(t)}},E._onPlay=function(){if(this._mediaSession&&!this._isSeeking){var e=this._getPlayheadPosition(),t=0===e?b.PLAY_FROM_START:b.RESUME_FROM_PAUSE,n={currentPlayheadPosition:e,customAttributes:{play_type:t}};this._mediaSession.logPlay(n)}},E._onPlaylistItem=function(e){var t=this;t._contentId=e.item.data.mediaId,t._startedSession&&(t._onMediaSessionEnd(),t._onMediaContentEnd()),t._metadataPromise=t._getMetadata(t._contentId).then(function(e){var t=this;t._contents=e.contents.data,t._contentsPackage=e.contentsPackage.data}.bind(t))},E._onSeekEnd=function(){var e=this._getPlayheadPosition(),t=this._lastKnownSeekPositionInSeconds||0,n=this._getDurationInMilliseconds(t);this._isSeeking=!1,this._mediaSession.logPlayheadPosition(e),this._mediaSession.logSeekEnd(n),this._onPlay()},E._onSeekStart=function(e){var t=e.position,n=this._getDurationInMilliseconds(t);this._lastKnownSeekPositionInSeconds=t,this._isSeeking||(this._onPause(),this._mediaSession.logSeekStart(n),this._isSeeking=!0)},E._onSegmentEnd=function(e){if(!this._isLive()){var t=e.chapterIndex+1,n={currentPlayheadPosition:this._getPlayheadPosition(),media_session_id:this._mediaSession.sessionId,segment_duration:this._getDurationInMilliseconds(e.chapterDuration),segment_index:t};this._mediaSession.logSegmentEnd(n)}},E._onSegmentStart=function(e){if(!this._isLive()){var t=e.chapterIndex+1,n={duration:e.chapterDuration,index:t,title:""},i={currentPlayheadPosition:this._getPlayheadPosition(),media_session_id:this._mediaSession.sessionId,segment_duration:this._getDurationInMilliseconds(e.chapterDuration),segment_index:t};this._mediaSession.logSegmentStart(n,i)}},E._onTimeUpdate=function(e){if(!this._isSeeking&&!this._isMilestonesTimeoutActive&&this._unreachedMilestones){var t=this,n=e.duration,i=e.position,a=100*i/n,o=[],r=[];this._unreachedMilestones.forEach(function(e){a>=e?o.push(e):r.push(e)}),o.forEach(function(e){t._mParticle.logEvent("Playhead Milestone",t._mParticle.EventType.Media,{media_session_id:t._mediaSession.sessionId,milestone:e,playhead_position:t._getDurationInMilliseconds(i)})}),this._unreachedMilestones=r,this._isMilestonesTimeoutActive=!0,setTimeout(function(){t._isMilestonesTimeoutActive=!1},1e3)}},E._skipBreakClick=function(e){var t=e.BreakType,n=f.SKIP_INTRO;t===v.RECAP&&(n=f.SKIP_RECAP),this._logControlChange({control:n,value:"true"})},t.exports=y},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"@mparticle/web-media-sdk":15,bluebird:16,"bm-analytics-helper":36,"bm-helper-adobe-heartbeat-analytics-video-event":56,"bm-service-factory-auth":116,"bm-service-factory-capi":117,"bm-videoplayer":203,"bm-videoplayer-plugin":202,"bm-videoplayer-plugin-skipbreaks-capi":198,underscore:32}],189:[function(e,t,n){"use strict";function i(e,t){if(!(this instanceof i))return new i(e,t);t=t||{},this._brandName=t.brandName||"",this._videoPlayerName=this._brandName+" VidiPlayerWeb "+t.vidiVersion,this._destinationCode=t.destinationCode,this._omni=u(),this._omni.config(e),i.super_.call(this)}var a=e("underscore"),o=e("@bellmedia/bm-base"),r=e("bm-videoplayer"),l=e("bm-videoplayer-plugin"),c=e("bm-service-factory-media-provider"),d=e("bm-helper-analytics-video-event"),u=(e("bm-model-video-segments"),e("bm-analytics-omniture")),p=e("bm-service-factory-capi"),m=e("bluebird");o.inherits(i,l);var h=i.prototype;h._serviceMediaProvider=void 0,h._serviceCapi=void 0,h._timeSpentViewingContent=0,h._omni=null,h._rsid=null,h._omniVariables={},h._isAdBlocked=!1,h._isFiredTrackEpisodeStart=!1,h._isFiredTrackEpisodeComplete=!1,h._currentPlayingType="ad",h._brandName="",h._destinationCode="",h._videoPlayerName="",h._capiContents={},h._arrModelSegments={},h._timeOfLastEvent=0,h._viewingTimerId=null,h._craveTVPlaybackMethod="",h._updateVideoSegmentTitle=function(e,t){var n=e.media.title,i="S"+e.content.season,o=e.content.title,r="C"+(parseInt(t,10)+1),s=[n,i,o,r].join(":");this._omniVariables=a.extend({},this._omniVariables,{videoTitleSegmentTitle:s})},h._updateMuteStatus=function(e){var t=this,n=e?"muted":"unmuted";t._omniVariables=a.extend({},t._omniVariables,{mute:n})},h._startViewingTimer=function(){var e=this;h._viewingTimerId=setInterval(function(){if(e._player&&e._player._options&&"playing"===e._player.getState()&&"content"===e._currentPlayingType){e._timeSpentViewingContent++;var t=Math.round(e._timeSpentViewingContent-e._timeOfLastEvent);e._omni.updateVideoViewingTime(t),e._timeSpentViewingContent%60==0&&(e._omni.trackVideoViewingTime(e._omniVariables,t),e._timeOfLastEvent=e._timeSpentViewingContent)}},1e3)},h._getPageName=function(e,t){var n=e.split("."),i=t.split("/").filter(function(e){return e.length>0});return[n[n.length-2]].concat(i).join(":")},h._hydrateOmniVariables=function(e){var t=this,n=e.data,i=window.location.hostname,o=window.location.pathname,r=n.content.genres.map(function(e){return e.Name}).join();if(n.revShare&&a.isArray(n.revShare))var l=n.revShare.map(function(e){return!0===e.IsExclusive?e.RevShareCode+"-Y":e.RevShareCode+"-N"}).join(", ");t._omniVariables=a.extend({},t._omniVariables,{ownerName:n.content.owner,pageName:s.pageName||t._getPageName(i,o),contentType:"Video",videoContentType:n.content.type,clipId:n.mediaId,contentEpisodeDuration:n.content.duration,mediaNameShow:n.media.title,contentSeason:n.content.season,contentEpisode:n.content.episode,contentEpisodeName:n.content.title,contentEpisodeId:n.contentId,contentPack:n.contentPackageId,genreType:r,mediaType:n.media.type,videoPlaybackMethod:"device",siteSection:s.eVar6||n.content.type,subSection:s.eVar7||n.content.title,authenticationUserId:s.eVar11||"",authenticationStatus:s.eVar12||"",authenticationLocation:s.eVar13||"",authenticationBDU:s.eVar14||"",craveTVPlaybackMethod:t._craveTVPlaybackMethod,dovaIsExclusive:l||""})},h.loadPlugin=function(){var e=this,t=null,n=localStorage.getItem("abConfigUrlVidi");e._serviceCapi=p(),e._omniVariables=a.extend({},e._omniVariables,{videoPlayerName:n?e._videoPlayerName+" "+n:e._videoPlayerName,channelId:e._serviceCapi.getInstance()._options.data.destinationCode,productName:s.eVar69||e._brandName+" website",url:window.location.href,referrer:document.referrer}),e._serviceMediaProvider=c().getInstance(),e._player.on(r.EVENT_PLAYLIST_ITEM,function(t){e._isFiredTrackEpisodeStart=!1,e._isFiredTrackEpisodeComplete=!1,e._craveTVPlaybackMethod=t.item.data.craveTVPlaybackMethod,e._timeOfLastEvent=0,e._timeSpentViewingContent=0,e._omni.updateVideoViewingTime(0);var n=e._serviceCapi.getInstance().getContents(t.item.data.mediaId),i=e._serviceMediaProvider.getMediaSegments(t.item.data.mediaId);m.all([n,i]).then(function(t){e._capiContents=t[0],e._arrModelSegments=t[1],e._hydrateOmniVariables(e._capiContents),e._updateVideoSegmentTitle(e._capiContents.data,0)})}),e._player.once(r.EVENT_PLAYBACK_BEFORE_PLAY,function(){e._isAdBlocked&&(a.isEmpty(e._omniVariables)?e._serviceCapi.getInstance().getContents(e._player.getCurrentItem().data.mediaId).then(function(t){e._capiContents=t,e._hydrateOmniVariables(e._capiContents),e._omni.trackVideoAdBlocker(e._omniVariables)}):e._omni.trackVideoAdBlocker(e._omniVariables))}),e._player.on(r.EVENT_AD_IMPRESSION,function(n){"preroll"===n.adPosition&&(t=!1,e._omni.trackPrerollStart(e._omniVariables),n.podCount===n.sequence&&(t=!0))}),e._player.on(r.EVENT_AD_COMPLETE,function(){!1===t&&e._omni.trackPrerollComplete(e._omniVariables),!0===t&&(e._omni.trackPrerollComplete(e._omniVariables),e._omni.trackPrerollPodComplete(e._omniVariables),t=null)}),e._player.on(r.EVENT_AD_SKIPPED,function(){!1===t&&e._omni.trackPrerollComplete(e._omniVariables),!0===t&&(e._omni.trackPrerollComplete(e._omniVariables),e._omni.trackPrerollPodComplete(e._omniVariables),t=null)}),e._player.on(r.EVENT_AD_TIME,function(){e._currentPlayingType="ad"}),e._player.on(r.EVENT_PLAYBACK_TIMEUPDATE,function(){e._currentPlayingType="content"}),e._player.on(r.EVENT_VOLUME_MUTE,function(t){e._updateMuteStatus(t),t?e._omni.trackMute(e._omniVariables):e._omni.trackUnmute(e._omniVariables)}),e._player.once(r.EVENT_AD_ERROR,function(t){"adblock"===t.type&&(e._isAdBlocked=!0)}),e._player.once(r.EVENT_PLAYER_DESTROY,function(){clearInterval(e._viewingTimerId)}),e._player.on(r.EVENT_PLAYLIST_LOADED,function(){var t=e._player._jwplayerInstance.getPlugin("sharing");t&&t.on("click",function(t){e._omniVariables=a.extend({},e._omniVariables,{demographics:t.method}),e._omni.trackShareItemClicked(e._omniVariables)})}),e._player.once(r.EVENT_PLAYER_SETUP,function(){e._startViewingTimer(),e._updateMuteStatus(e._player.isMute()),e._omni.trackPlayerLoad(e._omniVariables),e._player.getJwplayerInstance().on("autostartNotAllowed",function(){e._omni.trackAutoplayBlocked(e._omniVariables)});var t=new d(e._player);t.on(d.SEGMENT_CHANGED,function(t){e._updateVideoSegmentTitle(e._capiContents.data,t.segmentIndex),e._isFiredTrackEpisodeStart?e._omni.trackVideoStart(e._omniVariables):(e._omni.trackEpisodeStart(e._omniVariables),e._isFiredTrackEpisodeStart=!0)}),t.on(d.EVENT_SEGMENT_85,function(t){var n=t.segmentIndex,i=t.segmentTotal,a=!1;a=1===e._arrModelSegments.length||(e._arrModelSegments[e._arrModelSegments.length-1].data.duration<=30?n+2===i:n+1===i),"stream"!==e._capiContents.data.content.type&&a&&!e._isFiredTrackEpisodeComplete&&(e._omni.trackEpisodeComplete(e._omniVariables),e._timeOfLastEvent=e._timeSpentViewingContent,e._isFiredTrackEpisodeComplete=!0)})})},t.exports=i},{"@bellmedia/bm-base":11,bluebird:16,"bm-analytics-omniture":37,"bm-helper-analytics-video-event":57,"bm-model-video-segments":115,"bm-service-factory-capi":117,"bm-service-factory-media-provider":118,"bm-videoplayer":203,"bm-videoplayer-plugin":202,underscore:32}],190:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin"),r=e("@bellmedia/bm-loader-script"),s=e("bm-advertisement-helper"),l=e("bm-service-factory-capi"),c=e("bm-view-pause-ads"),d=e("bm-ajax"),u=e("sha.js"),p=e("underscore"),m=function(e,t){if(!(this instanceof m))return new m(e,t);m.super_.call(this),this._configBrandAd=e,this._adUnitSuperHub=t,this._loadGPT_SDK=r("https://securepubads.g.doubleclick.net/tag/js/gpt.js")};i.inherits(m,o);var h=m.prototype;h._debugKey="bm-pause-ads-debug",h._playlistItem=void 0,h._minimumPlayerHeightInPixels=540,h._configBrandAd=void 0,h._serviceCapi=void 0,h._capiContents=void 0,h._viewPauseAds=void 0,h._bmAjax=void 0,h._isAdBreak=!1,h._adUnitSuperHub=void 0,h._updatedadUnitSuperHub=void 0,h._loadGPT_SDK=void 0,h._googleTag=void 0,h.loadPlugin=function(){this.debugLog("[loadPlugin]","Plugin loaded",this);var e=this,t=!1;e._serviceCapi=l(),e._bmAjax=d(),e._loadGPT_SDK.then(function(){e._googleTag=window.googletag}),e._player.on(a.EVENT_PLAYER_DESTROY,function(){e._googleTag&&e._googleTag.destroySlots()}),e._player.on(a.EVENT_PLAYLIST_ITEM,function(t){e._serviceCapi.getInstance().getContents(t.item.data.mediaId).then(function(t){e._capiContents=t.data}),$('div[class*="jw-settings-submenu-button"]').on("click touchstart",function(){"paused"===e._player.getState()&&e._player.getJwplayerInstance().getHeight()>=e._minimumPlayerHeightInPixels&&e._viewPauseAds.displayPauseAds(0===$('div[class*="jw-settings-submenu-active"]').length)}),$('div[class*="jw-settings-close"]').on("click touchstart pointerdown",function(){"paused"===e._player.getState()&&e._player.getJwplayerInstance().getHeight()>=e._minimumPlayerHeightInPixels&&e._viewPauseAds.displayPauseAds(!0)}),e._player.getJwplayerInstance().on("displayClick",function(){"paused"===e._player.getState()&&e._player.getJwplayerInstance().getHeight()>=e._minimumPlayerHeightInPixels&&e._viewPauseAds.displayPauseAds(!0)})}),e._player.on(a.EVENT_PLAYLIST_ITEM,function(t){e._playlistItem=t.item}),e._player.on(a.EVENT_PLAYBACK_PAUSE,function(t){e.debugLog("[event]",a.EVENT_PLAYBACK_PAUSE,t);var n=e._player.getJwplayerInstance().getHeight();"interaction"===t.pauseReason&&n>=e._minimumPlayerHeightInPixels?e._loadPauseAds():e.debugLog("[event]",a.EVENT_PLAYBACK_PAUSE,"Pause Ad not displayed because player is too small (height: "+n+"px < "+e._minimumPlayerHeightInPixels+"px)")}),e._player.on(a.EVENT_STATUS_VIEW,function(n){var i=e._player.getJwplayerInstance().getHeight();t=n,"paused"===e._player.getState()&&i>=e._minimumPlayerHeightInPixels&&e._viewPauseAds.displayPauseAds(!1===n)}),e._player.on(a.EVENT_PLAYBACK_PLAY,function(){e._detachPauseAdsView()}),e._player.on(a.EVENT_PLAYER_RESIZE,function(n,i){"paused"===e._player.getState()&&(e._viewPauseAds&&i<e._minimumPlayerHeightInPixels&&(t=!1,e._viewPauseAds.displayPauseAds(!1)),!e._viewPauseAds&&i>=e._minimumPlayerHeightInPixels&&!e._isAdBreak&&!1===t&&e._loadPauseAds(),e._viewPauseAds&&i>=e._minimumPlayerHeightInPixels&&!e._isAdBreak&&!1===t&&e._viewPauseAds.displayPauseAds(!0))}),e._player.on(a.EVENT_PLAYER_FULLSCREEN,function(t){setTimeout(function(){("paused"!==e._player.getState()||e._player.getJwplayerInstance().getHeight()<e._minimumPlayerHeightInPixels)&&e._viewPauseAds&&e._viewPauseAds.displayPauseAds(!1)},500)}),e._player.on(a.EVENT_PLAYBACK_BEFORE_PLAY,function(){e._detachPauseAdsView()}),e._player.on(a.EVENT_PLAYBACK_BEFORE_COMPLETE,function(){e._detachPauseAdsView()}),e._player.on(a.EVENT_PLAYER_DESTROY,function(){e._detachPauseAdsView()}),e._player.on(a.EVENT_AD_PLAY,function(){e._detachPauseAdsView()}),e._player.on(a.EVENT_AD_IMPRESSION,function(t){e._setIsAdbreakStarted(t.sequence,t.podCount)}),e._player.on(a.EVENT_AD_COMPLETE,function(){e._setIsAdbreakEnded()}),e._player.on(a.EVENT_AD_SKIPPED,function(){e._setIsAdbreakEnded()}),e._player.on(a.EVENT_AD_ERROR,function(){e._setIsAdbreakEnded()})},h._updateAdUnitSuperHub=function(){var e=this,t=e._capiContents.revShare&&p.isArray(e._capiContents.revShare)?s().formatRevshare(e._capiContents.revShare):"na";e._updatedadUnitSuperHub={platform:e._adUnitSuperHub.platform,platformType:e._adUnitSuperHub.platformType,genres:e._getGenre(),product:e._adUnitSuperHub.axisContent.adUnit.product,heroBrand:e._adUnitSuperHub.axisContent.adUnit.heroBrand,pageType:e._adUnitSuperHub.axisContent.adUnit.pageType,revShare:t,correlator:e._getCorrelator(),title:s().formatTitle(e._capiContents.media.title),pageTitle:s().formatTitle(e._capiContents.content.title),mediaType:e._capiContents.media.type,contentType:e._capiContents.content.type,group:e._capiContents.adTarget}},h._getMediaTitle=function(){return this._capiContents.media.title.replace(/[^A-Z0-9]+/gi,"").toLowerCase()},h._getCorrelator=function(){return Math.floor(1e6*Math.random()+1)},h._getAdUnit=function(){var e=this,t=e._getMediaTitle(),n="",i=e._configBrandAd.pauseAds;if(!0===e._configBrandAd.superhubAds.isEnabled){this.debugLog("[getAdUnit]","superhub ad unit");var a=s().getAdUnitSuperhub(e._updatedadUnitSuperHub);n="/"+s().joinStringByDelimiter([e._configBrandAd.desktop.masterTag.iu,a.adUnitLevel1,a.adUnitLevel2,a.adUnitLevel3],"/")}else if(e._capiContents.revShare&&e._capiContents.revShare.length>0){this.debugLog("[getAdUnit]","revShare ad unit");var o=e._capiContents.revShare[0].RevShareCode,r=e._capiContents.revShare[0].IsExclusive?"Y":"N",l=e._capiContents.media.type,c=e._getGenre();n="/"+s().joinStringByDelimiter([i.adunit,o,l,r,c,t],"/")}else{this.debugLog("[getAdUnit]","default master tag");var d=e._configBrandAd.desktop.masterTag,u=i.adunit||d.iu,p=e._playlistItem.data.adzone||d.adzone,m=e._playlistItem.data.adsite||d.adsite;n="/"+s().joinStringByDelimiter([u,m,p],"/")}return this.debugLog("[getAdUnit]","generated ad unit",n),n},h._getGenre=function(){return this._capiContents.content.genres.map(function(e){return s().removeSpecialChars(e.Name)}).join()},h._setIsAdbreakStarted=function(e,t){var n=this;t<=e&&(n._isAdBreak=!0)},h._setIsAdbreakEnded=function(){var e=this;e._isAdBreak&&(e._isAdBreak=!1)},h._loadPauseAds=function(){var e=this;if(!0===e._configBrandAd.superhubAds.isEnabled&&e._updateAdUnitSuperHub(),e._googleTag){e._googleTag.destroySlots();var t=e._googleTag.defineSlot(e._getAdUnit(),c.getAdDimensions(),c.getAdDivId()).addService(e._googleTag.pubads());if(e._googleTag.pubads().updateCorrelator(),e._googleTag.pubads().enableSingleRequest(),!0===e._configBrandAd.superhubAds.isEnabled&&(t.setTargeting("contenttype",e._updatedadUnitSuperHub.contentType),t.setTargeting("genres",e._updatedadUnitSuperHub.genres),t.setTargeting("pagetitle",e._updatedadUnitSuperHub.pageTitle),t.setTargeting("adtarget",e._updatedadUnitSuperHub.group),t.setTargeting("mediatype",e._updatedadUnitSuperHub.mediaType),t.setTargeting("revshare",e._updatedadUnitSuperHub.revShare)),s().isPermutiveEnabled()){var n=s().getPermutiveCurrentSegments(),i=s().getPermutiveId();if(n&&t.setTargeting("permutive",n),i){var a=u("sha256").update(i).digest("hex");e._googleTag.pubads().setPublisherProvidedId(a)}}e._googleTag.enableServices(),e._attachPauseAdsView(),e._googleTag.cmd.push(function(){e._googleTag.display(c.getAdDivId()),e._googleTag.pubads().isInitialLoadDisabled()&&e._googleTag.pubads().refresh()})}},h._attachPauseAdsView=function(){var e=this;e._viewPauseAds=c(),e._viewPauseAds.render(),e._player.setView(e._viewPauseAds),e._viewPauseAds.displayPauseAds(!0),e._player._event.emit(m.PAUSE_ADS_STATUS,!0)},h._detachPauseAdsView=function(){var e=this;e._viewPauseAds&&(e._viewPauseAds.displayPauseAds(!1),e._viewPauseAds.$el.detach(),e._googleTag&&e._googleTag.destroySlots(),e._viewPauseAds=void 0,e._player._event.emit(m.PAUSE_ADS_STATUS,!1))},m.PAUSE_ADS_STATUS="pause_ads_status",t.exports=m},{"@bellmedia/bm-base":11,"@bellmedia/bm-loader-script":14,"bm-advertisement-helper":33,"bm-ajax":34,"bm-service-factory-capi":117,"bm-videoplayer":203,"bm-videoplayer-plugin":202,"bm-view-pause-ads":255,"sha.js":25,underscore:32}],191:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin"),r=e("bm-service-factory-capi"),s=e("bm-service-factory-auth"),l=(e("bm-videoplayer-plugin-event-capi"),e("bluebird")),c=e("underscore"),d=function(e){if(!(this instanceof d))return new d(e);d.super_.apply(this,arguments),this._multiplexPlayer=e.multiplexPlayer,this._brandName=e.brandName};i.inherits(d,o);var u=d.prototype;u.loadPlugin=function(){var e=this;e._serviceCapi=r(),e._serviceAuth=s().getInstance(),e._player.on(a.EVENT_PLAYER_SETUP,e._initPermutive.bind(e))},u._initPermutive=function(){if(c.isObject(window.permutive)&&c.isFunction(window.permutive.track)){var e=this;e._player.on(a.EVENT_PLAYLIST_ITEM,e._onPlaylistItem.bind(e)),e._player.on(a.EVENT_PLAYBACK_BEFORE_PLAY,e._onBeforePlay.bind(this))}},u._onBeforePlay=function(){this._trackVideoView()},u._onPlaylistItem=function(e){var t=this,n=e.item.data.mediaId;t._videoViewData=null,t._metadataPromise=t._getMetadataPromise(n).then(t._createVideoViewData.bind(t))},u._getMetadataPromise=function(e){var t=this,n=t._serviceCapi.getInstance().getContents(e),i=t._serviceCapi.getInstance().getContentsPackages(e),a=t._serviceAuth.getAuthInfo();return l.props({contents:n,contentsPackage:i,authInfo:a})},u._createVideoViewData=function(e){var t=this,n=localStorage.getItem("abConfigUrlVidi"),i=n?"VidiPlayerWeb "+n:"VidiPlayerWeb",a=window.digitalData||{user:{},page:{}},o=e.contents.data,r=t._serviceCapi.getInstance()._options.data.destinationCode,s=window._satellite.buildInfo.environment,l=o.content.genres.map(function(e){return e.Name}).join(),d=!(!o||"stream"!==o.content.type),u={user_info:{authBDU:a.user.authBDU,authStatus:a.user.authStatus,userId:a.user.userId,profileType:a.user.profileType,subscriptionType:a.user.subscriptionType,profileLanguage:a.user.profileLanguage,playbackLanguage:a.user.playbackLanguage},product_info:{platform:a.page.platform,productName:a.page.siteName,environment:s},player_info:{name:i,resolution:t._player.getWidth()+"x"+t._player.getHeight(),multiplex:c.isBoolean(t._multiplexPlayer)?t._multiplexPlayer.toString():"false"},media_info:{name:o.content.omnitureName,type:o.media.type,destinationCode:r,length:d?86400:parseInt(o.duration)},content_info:{originator:o.content.owner,genre:l,channel:t._brandName,type:o.content.type,videoLanguage:o.contentPackageLang||"english",show:o.media.title,season:c.isNumber(o.content.season)?o.content.season:0,episodeNumber:c.isNumber(o.content.episode)?o.content.episode:0,episodeName:o.media.title}};return t._videoViewData=u,u},u._trackVideoView=function(){var e=this,t=function(){e._videoViewData&&window.permutive.track("Videoview",e._videoViewData)};e._metadataPromise.isPending()?e._metadataPromise.then(function(){t()}.bind(e)):t()},t.exports=d},{"@bellmedia/bm-base":11,bluebird:16,"bm-service-factory-auth":116,"bm-service-factory-capi":117,"bm-videoplayer":203,"bm-videoplayer-plugin":202,"bm-videoplayer-plugin-event-capi":183,underscore:32}],192:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin"),r=e("bm-service-factory-translation"),s=e("bm-videoplayer-jw-plugin-chromecast-vidi"),l=e("underscore"),c=function(){if(!(this instanceof c))return new c;c.super_.call(this)};i.inherits(c,o);var d=c.prototype;d._currentBrowser=void 0,d._currentVideoInstance=void 0,d.loadPlugin=function(){var e=this;e._player.once(a.EVENT_PLAYLIST_ITEM,function(){e._currentVideoInstance=$("#"+e._player._instanceId+" video")[0],e._setEventListners()}),e._player.on(a.EVENT_PLAYLIST_ITEM,function(){var t=e._player._jwplayerInstance.getEnvironment();e._currentBrowser=l.invert(t.Browser)[!0],"chrome"!==e._currentBrowser&&"safari"!==e._currentBrowser||!document.pictureInPictureEnabled&&e._currentVideoInstance.disablePictureInPicture||e._createPIPButton()}),e._player.on(a.EVENT_PLAYER_DESTROY,function(){e._currentVideoInstance===document.pictureInPictureElement&&document.exitPictureInPicture()})},d._createPIPButton=function(){var e=this,t=r().getInstance();e._player.getJwplayerInstance().addButton('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon"><title>picture_in_picture</title><path d="M21 4.969v14.063h-18v-14.063h18zM21 21q0.797 0 1.406-0.609t0.609-1.406v-13.969q0-0.797-0.609-1.406t-1.406-0.609h-18q-0.797 0-1.406 0.609t-0.609 1.406v13.969q0 0.797 0.609 1.406t1.406 0.609h18zM18.984 17.016v-6h-7.969v6h7.969z"></path></svg>',t.t("Picture in Picture"),e._togglePlayerView.bind(e),"bm-icon-pip","bm-icon-pip")},d._setEventListners=function(){var e=this;e._currentVideoInstance.addEventListener("enterpictureinpicture",function(){e._player._event.emit(c.PIP_MODE_CHANGE,!0)}),e._currentVideoInstance.addEventListener("leavepictureinpicture",function(){e._player._event.emit(c.PIP_MODE_CHANGE,!1)}),e._player.on(s.EVENT_CHROMECAST_BUTTON_CLICK,function(){$(".bm-icon-pip .jw-svg-icon path").attr("fill","#727272"),$(".bm-icon-pip").css("pointer-events","none"),e._currentVideoInstance===document.pictureInPictureElement&&document.exitPictureInPicture()}),e._player.on(s.EVENT_CHROMECAST_DEFAULT_STATE,function(){$(".bm-icon-pip .jw-svg-icon path").removeAttr("fill"),$(".bm-icon-pip").css("pointer-events","all")})},d._togglePlayerView=function(){var e=this;e._currentVideoInstance!==document.pictureInPictureElement?("chrome"!==e._currentBrowser||e._currentVideoInstance.disablePictureInPicture||setTimeout(function(){e._currentVideoInstance.requestPictureInPicture()},500),"safari"===e._currentBrowser&&e._currentVideoInstance.webkitSupportsPresentationMode&&"function"==typeof e._currentVideoInstance.webkitSetPresentationMode&&(e._currentVideoInstance.webkitSetPresentationMode("picture-in-picture"===e._currentVideoInstance.webkitPresentationMode?"inline":"picture-in-picture"),setTimeout(function(){e._player._jwplayerInstance.setFullscreen(!1)},300))):document.exitPictureInPicture()},c.PIP_MODE_CHANGE="pip_mode_change",t.exports=c},{"@bellmedia/bm-base":11,"bm-service-factory-translation":120,"bm-videoplayer":203,"bm-videoplayer-jw-plugin-chromecast-vidi":132,"bm-videoplayer-plugin":202,underscore:32}],193:[function(e,t,n){var i=e("bm-analytics-helper"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin-upnext-capi"),r=e("mobile-detect"),s=e("bm-service-factory-auth"),l=e("bm-service-factory-capi"),c=e("bm-service-factory-media-provider"),d=function(e){var t=this;this._tracker=null,this._currentContentId=null,this._viewCount=-1,this._viewSession=void 0,this._eventEmittingPaused=!1,this._player=e.player,this._instanceId=e.player.getInstanceId(),this._customData={},this._brand=e.qosConfig.brand,this._heartbeatFrequency=e.qosConfig.heartbeatFrequency,this._adsTracking=e.qosConfig.adsTracking,this._playbackLanguage=e.qosConfig.playbackLanguage,this._serviceAuth=s().getInstance(),this._serviceCapi=l(),this._capiContentsData={},this._eventsQueue=[],this._player.on(a.EVENT_PLAYLIST_ITEM,function(e){t._eventEmittingPaused=!0,t._isDisplayClickTriggered=!1,t._currentContentId=e.item.data.mediaId,t._incrementViewCount(),t._initializeCustomData().then(function(){t._eventEmittingPaused=!1,t._initializeTracker(),t._clearTrackerEventsQueue()}).catch(function(e){void 0})})};d.prototype.destroy=function(){this._tracker&&this._tracker.dispose()},d.prototype._initializeCustomData=function(){var e=this;return new Promise(function(t,n){e._serviceCapi.getInstance().getContents(e._currentContentId).then(function(a){e._capiContentsData=a.data,e._customData=_.extend(e._customData,{viewId:e._getViewId(),brand:e._brand,contentSubscriptionType:e._getContentSubscriptionTypeCode(e._capiContentsData.authentication),assetId:e._currentContentId,contentTitle:e._getAssetName(),assetName:e._getAssetName(),streamFormat:i().getStreamFormat(),assetSubType:e._capiContentsData.content.type,assetType:"stream"===e._capiContentsData.content.type?"LIVE":"VOD",playbackLanguage:e._getPlaybackLanguage(e._playbackLanguage),playbackMethod:e._playMethod,userAgentOSFull:navigator.userAgent}),e._serviceCapi.getInstance().getContentsPackages(e._currentContentId).then(function(i){return c().getInstance().getMediaInfoArray([e._currentContentId]).then(function(n){var a=i.data.CDN,o=null;n.length>0&&(o=n[0].data.sources[0].file),e._customData=_.extend(e._customData,{capiProvider:a,contentSrc:o,drm:e._getDrmType(i.data.requireDrm),streamingId:i.data.contentPackageId}),t(e._customData)}).catch(function(e){n(e)})}).catch(function(e){n(e)})}).catch(function(e){n(e)})})},d.prototype._initializeTracker=function(){if(!this._tracker){var e=this,t=this._player.getJwplayerInstance(),n=new window.nrvideo.VideoTracker;this._tracker=new window.nrvideo.JwplayerTracker(t,{adsTracker:e._adsTracking?null:n,customData:this._customData,heartbeat:this._heartbeatFrequency}),this._tracker.send=function(t,n){var i=this.getAttributes(n);e._eventEmittingPaused?e._eventsQueue.push({event:t,attrs:i}):this.emit(t,i)},window.nrvideo.Core.addTracker(this._tracker),this._bindUpNextPluginEvents(),this._bindManifestRequestEvents(),this._bindErrorEvents(),this._bindPageVisibilityEvents()}},d.prototype._bindUpNextPluginEvents=function(){var e=this,t={up_next:"up_next_triggered",user:"user_triggered"};this._player._upnextPluginInstance&&this._player._upnextPluginInstance.on(o.EVENT_UPNEXT_CONTINUE,function(){e._isUpNextTriggered=!0}),this._player.on(a.EVENT_PLAYLIST_ITEM,function(){e._isUpNextTriggered?(e._playMethod=t.up_next,e._isUpNextTriggered=!1):e._playMethod=t.user})},d.prototype._bindManifestRequestEvents=function(){this._player.on(a.EVENT_PLAYBACK_BEFORE_PLAY,this._trackContentManifestRequest.bind(this)),this._player.on(a.EVENT_DISPLAY_CLICK,this._trackContentManifestRequest.bind(this))},d.prototype._bindErrorEvents=function(){this._player.on(a.EVENT_ERROR,function(e){self._tracker.sendError({errorType:e.type,errorMessage:e.message})})},d.prototype._bindPageVisibilityEvents=function(){document.addEventListener("visibilitychange",this._trackPageVisibility.bind(this))},d.prototype._clearTrackerEventsQueue=function(){var e=this;e._eventsQueue.forEach(function(t){e._tracker&&e._tracker.emit(t.event,_.extend(t.attrs,e._customData))}),e._eventsQueue=[]},d.prototype._trackContentManifestRequest=function(){this._isDisplayClickTriggered||(this._isDisplayClickTriggered=!0,this._tracker.sendCustom("CONTENT_MANIFEST_REQUEST","timeSinceContentManifestRequest"))},d.prototype._trackPageVisibility=function(){const e=document.hidden,t=new r(window.navigator.userAgent);Boolean(t.mobile())&&(e?this._tracker.sendCustom("PLAYER_IN_BACKGROUND","timeSinceBackground"):this._tracker.sendCustom("PLAYER_IN_FOREGROUND","timeSinceForeground"))},d.prototype._getContentSubscriptionTypeCode=function(e){var t="UNAUTH";return e&&!0===e.Required&&e.Resources&&e.Resources.length>0&&(t=e.Resources.map(function(e){return e.ResourceCode}).join(",")),t},d.prototype._getDrmType=function(e){var t={safari:"Fairplay",edge:"PlayReady",web:"Widevine",unknown:"NA"},n=i().getBrowser();return e?"safari"===n?t.safari:"edge"===n?t.edge:t.web:t.unknown},d.prototype._getPlaybackLanguage=function(e){return{en:"english",fr:"french"}[e]||e},d.prototype._getAssetName=function(){var e=this,t=e._capiContentsData.content.episode,n=e._capiContentsData.content.season,i="",a="["+e._currentContentId+"] "+e._capiContentsData.content.title;return n&&(i="S"+n),t&&(i+="E"+t),i&&(a="["+e._currentContentId+"] "+e._capiContentsData.media.title+" - "+i+" - "+e._capiContentsData.content.title),a},d.prototype._getViewSession=function(){if(!this._viewSession){var e=(new Date).getTime(),t=Math.random().toString(36).substring(2)+Math.random().toString(36).substring(2);this._viewSession=e+"-"+t}return this._viewSession},d.prototype._getViewId=function(){return this._getViewSession()+"-"+this._viewCount},d.prototype._incrementViewCount=function(){return this._viewCount=this._viewCount+1,this._viewCount},t.exports=d},{"bm-analytics-helper":36,"bm-service-factory-auth":116,"bm-service-factory-capi":117,"bm-service-factory-media-provider":118,"bm-videoplayer":203,"bm-videoplayer-plugin-upnext-capi":199,"mobile-detect":22}],194:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("@bellmedia/bm-loader-script"),r=e("bm-videoplayer-plugin"),s=e("./bm-videoplayer-newrelic-tracker"),l=(e("underscore"),function(e){if(!(this instanceof l))return new l(e);this.debugLog("[constructor]","qosConfig",e),this._isNewRelicScriptLoaded=void 0!==window.nrvideo,this._activePercentage=e.activePercentage,this._urlNewRelicJwPluginScript=e.urlNewRelicJwPluginScript,this._qosConfig=e,this._isNewRelicScriptLoaded||o(this._urlNewRelicJwPluginScript),l.super_.call(this)});i.inherits(l,r);var c=l.prototype;c._debugKey="bm-qos-debug",c._qosConfig={},c._activePercentage=0,c._isNewRelicScriptLoaded=!1,c._urlNewRelicJwPluginScript="",c._trackers={},c.loadPlugin=function(){var e=this;if(this.debugLog("[loadPlugin]","Plugin loaded",this),!this._sessionInActivePercentage(Math))return void this.debugLog("[loadPlugin]","Plugin deactivated","Session outside active percentage");e._initializeNewTracker()},c._sessionInActivePercentage=function(e){return e.random()<=this._activePercentage},c._initializeNewTracker=function(){var e=this,t=new s({player:this._player,qosConfig:this._qosConfig});this._player.on(a.EVENT_PLAYER_DESTROY,function(){t.destroy(),delete e._trackers[e._player.getInstanceId()]}),this.debugLog("[_initializeNewTracker]",t),this._trackers[this._player.getInstanceId()]=t},t.exports=l},{"./bm-videoplayer-newrelic-tracker":193,"@bellmedia/bm-base":11,"@bellmedia/bm-loader-script":14,"bm-videoplayer":203,"bm-videoplayer-plugin":202,underscore:32}],195:[function(e,t,n){"use strict"
;var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-jw-plugin-chromecast-vidi"),r=e("bm-videoplayer-plugin"),s=e("bm-service-factory-capi"),l=s,c=e("bm-service-factory-reco"),d=c,u=e("bm-heartbeat-reco-bookmarking"),p=e("underscore"),m=function(e){if(!(this instanceof m))return new m(e);m.super_.apply(this,arguments),this._interval=e&&e.interval?e.interval:3e4,this._intervalUrl=e&&e.intervalUrl?e.intervalUrl:""};i.inherits(m,r);var h=m.prototype;h._debugKey="bm-reco-bookmarking-debug",h._interval=3e4,h._intervalUrl="",h._serviceCapi=void 0,h._bookmarkingHB=void 0,h.loadPlugin=function(){var e=this;this.debugLog("[loadPlugin]","Plugin loaded",this),e._serviceCapi=l(),e._serviceReco=d(),e._setRecoBookmarking()},h._destroyBookmarkingHelper=function(){var e=this;try{e._bookmarkingHB&&e._bookmarkingHB.destroy()}catch(e){}},h._setBookmark=function(){var e=this,t=e._player.getCurrentItem().data.mediaId;e._serviceCapi.getInstance().getContents(t).then(function(n){e.debugLog("[_setBookmark]","Setting a bookmark on service reco for contentId",t,"at position",e._player.getPosition()),e._serviceReco.getInstance("type_reco").setBookmarks({contentId:t,mediaId:n.data.mediaId,duration:n.data.duration,offset:e._player.getPosition(),modelVersion:"1",title:n.data.media.title,episode:n.data.content.episode,season:n.data.content.season,contentType:n.data.content.type,contentPackageId:n.data.contentPackageId}).catch(function(t){e.debugLog("[_setBookmark]","Error from service reco setBookmarks",t)})})},h._setRecoBookmarkingHelper=function(e,t){this.debugLog("[_setRecoBookmarkingHelper]","Called with runAtStart",t,"and offset",e);var n=this;n._destroyBookmarkingHelper();var i=n._player.getCurrentItem().data.mediaId;n._serviceCapi.getInstance().getContents(i).then(function(a){a&&(n._bookmarkingHB=u(n._interval,{runAtStart:!1!==t,intervalUrl:n._intervalUrl,contentId:i,mediaId:a.data.mediaId,duration:a.data.duration,modelVersion:"1",title:a.data.media.title,episode:a.data.content.episode,season:a.data.content.season,contentType:a.data.content.type,contentPackageId:a.data.contentPackageId,offset:e||0}),n._bookmarkingHB&&n._bookmarkingHB.on(u.EVENT_GLOBAL_INTERVAL,function(e){if(1e3*e!==n._interval)try{n.debugLog("[_setRecoBookmarkingHelper]","Interval RESET",n._interval/1e3,e),n._interval=1e3*p.max([p.min([e,300]),30]),n._setRecoBookmarkingHelper(n._player.getPosition(),!1)}catch(e){}}))})},h._setRecoBookmarking=function(){var e=this;e._player.on(a.EVENT_PLAYBACK_BEFORE_COMPLETE,e._onBeforeComplete.bind(e)),e._player.on(a.EVENT_PLAYBACK_COMPLETE,e._onComplete.bind(e)),e._player.on(a.EVENT_PLAYBACK_SEEKED,e._onSeeked.bind(e)),e._player.on(a.EVENT_PLAYBACK_TIMEUPDATE,e._onTimeUpdate.bind(e)),e._player.on(a.EVENT_PLAYER_DESTROY,e._onDestroyed.bind(e)),e._player.on(a.EVENT_PLAYLIST_ITEM,e._onPlaylistItem.bind(e)),e._player.on(a.EVENT_PLAYBACK_PAUSE,e._onPause.bind(e)),e._player.on(o.EVENT_CHROMECAST_DEFAULT_STATE,e._onChromecastDefaultState.bind(e))},h._onPause=function(){this.debugLog("[_onPause]","Pause event"),this._setBookmark()},h._onPlaylistItem=function(){this.debugLog("[_onPlaylistItem]","Playlist item event"),this._setRecoBookmarkingHelper()},h._onDestroyed=function(){this.debugLog("[_onDestroyed]","Destroyed event");var e=this;try{e._setRecoBookmarkingHelper(e._player.getPosition())}catch(e){}},h._onTimeUpdate=function(e){this.debugLog("[_onTimeUpdate]","Time update event");var t=this;t._bookmarkingHB&&t._bookmarkingHB.updateTime(e.position),parseInt(e.position)>=t._interval/1e3&&!t._bookmarkingHB&&t._setRecoBookmarkingHelper()},h._onSeeked=function(){this.debugLog("[_onSeeked]","Seek event");var e=this;try{var t=e._player.getPosition();parseInt(t)>=e._interval/1e3&&e._bookmarkingHB&&e._setRecoBookmarkingHelper(t)}catch(e){}},h._onBeforeComplete=function(){this.debugLog("[_onBeforeComplete]","Before complete event");var e=this;try{e._setRecoBookmarkingHelper(e._player.getPosition(),!0)}catch(e){}},h._onComplete=function(){this.debugLog("[_onComplete]","Complete event"),this._destroyBookmarkingHelper()},h._onChromecastDefaultState=function(){this.debugLog("[_onChromecastDefaultState]","Chromecast back to default state event"),this._setBookmark()},t.exports=m},{"@bellmedia/bm-base":11,"bm-heartbeat-reco-bookmarking":52,"bm-service-factory-capi":117,"bm-service-factory-reco":119,"bm-videoplayer":203,"bm-videoplayer-jw-plugin-chromecast-vidi":132,"bm-videoplayer-plugin":202,underscore:32}],196:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-css-injector"),o=e("bm-videoplayer-plugin-restrictions"),r=e("bm-helper-capi/exceptions/bm-helper-capi"),s=e("bm-videoplayer-plugin-event-capi"),l=e("bm-view-message"),c=l,d=e("bm-service-factory-translation"),u=function(){if(!(this instanceof u))return new u;u.super_.call(this)};i.inherits(u,o);var p=u.prototype;p._t={t:function(){}},p.loadPlugin=function(){var e=this;this._t=d().getInstance(),this._player.on(s.EVENT_CAPI_ERROR,function(t){if(e._jwplayerInstance=e._player.getJwplayerInstance(),e._playerEl=e._jwplayerInstance.getContainer(),t instanceof r)switch(t.message){case r.RESPONSE_504:e._showGeneralError(e._t.t("Service Unavailable 504"));break;case r.RESPONSE_503:e._showGeneralError(e._t.t("Service Unavailable 503"));break;case r.RESPONSE_500:e._showGeneralError(e._t.t("Service Unavailable 500"));break;case r.RESPONSE_404:e._showGeneralError(e._t.t("Video Unavailable 404"));break;case r.RESPONSE_403:e._showGeneralError(e._t.t("Access denied. Unauthorized user 403"));break;case r.RESPONSE_403_76:e._showGeneralError(e._t.t("Parental controls 403.76"));break;case r.RESPONSE_403_75:e._showGeneralError(e._t.t("Geo Restriction VPN 403.75"));break;case r.RESPONSE_403_74:e._showGeneralError(e._t.t("Blackout Error 403.74"));break;case r.RESPONSE_403_73:e._showGeneralError(e._t.t("Too Many Concurrent Streams 403.73"));break;case r.RESPONSE_403_72:e._showGeneralError(e._t.t("Geo Restriction Region 403.72"));break;case r.RESPONSE_403_71:e._showGeneralError(e._t.t("Access denied. Unauthorized channel 403.71"));break;case r.RESPONSE_401:e._hideJwError();break;case r.RESPONSE_UNKNOWN:e._showGeneralError(e._t.t("Unknown Error"));break;default:e._showGeneralError(t.message)}})},p._showGeneralError=function(e){var t=this,n=c({hasDismissButton:!1});n.setMessage("",e),n.render(),n.once(l.EVENT_DISMISS_CLICK,function(){t._player.hideView()}),t._player.setView(n)},p._hideJwError=function(){var e=this;a().injectStyles("#"+e._playerEl.id+" > .jw-error-msg { display: none !important; }","bm-videoplayer-plugin-restrictions-capi")},t.exports=u},{"@bellmedia/bm-base":11,"bm-css-injector":47,"bm-helper-capi/exceptions/bm-helper-capi":65,"bm-service-factory-translation":120,"bm-videoplayer-plugin-event-capi":183,"bm-videoplayer-plugin-restrictions":197,"bm-view-message":252}],197:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin"),o=function(){if(!(this instanceof o))return new o;o.super_.call(this)};i.inherits(o,a),t.exports=o},{"@bellmedia/bm-base":11,"bm-videoplayer-plugin":202}],198:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-service-factory-capi"),r=e("bm-service-factory-reco"),s=e("bm-view-skipbreaks"),l=e("bm-videoplayer-plugin"),c=e("@bellmedia/bm-base-event"),d=function(e){if(!(this instanceof d))return new d(e);d.super_.apply(this,arguments),this._event=c(),this._skipBreakIcon=e.skipBreakIconUrl,this._enabledSkipBreaks=e.enabledSkipBreaks||[]};i.inherits(d,l);var u=d.prototype;u._currentSkipBreak=void 0,u._enabledSkipBreaks=void 0,u._playedSkipBreaks=void 0,u._skipBreaks=void 0,u._serviceCapi=void 0,u._serviceReco=void 0,u._event=void 0,u.loadPlugin=function(){var e=this;e._serviceCapi=o(),e._serviceReco=r(),e._player._skipBreakCapiPluginInstance=this,e._player.on(a.EVENT_PLAYLIST_ITEM,e._onPlaylistItem.bind(e)),e._player.on(a.EVENT_PLAYBACK_TIMEUPDATE,e._handleIsSkipBreakTime.bind(e)),e._player.on(a.EVENT_PLAYBACK_SEEKING,e._hideSkipBreakView.bind(e)),e._player.on(a.EVENT_PLAYBACK_PAUSE,e._onPause.bind(e)),e._player.once(a.EVENT_PLAYBACK_PLAY,e._onFirstPlay.bind(e))},u._skipBreakClick=function(e){var t=this;t._currentSkipBreak&&(t._event.emit(d.EVENT_SKIP_BREAK,t._currentSkipBreak),t._player.seek(t._currentSkipBreak.BreakTimes.End),t._hideSkipBreakView(),t._wasShown=!1)},u._onFirstPlay=function(){var e=this;e._createSkipBreakView(),e._addMouseEventListeners()},u._addMouseEventListeners=function(){var e=this,t=e._player.getJwplayerInstance().getContainer();t&&($("#"+t.id).on("mouseover",e._onMouseOver.bind(e)),$("#"+t.id).on("mouseout",e._onMouseOut.bind(e)))},u._createSkipBreakView=function(){var e=this;e._skipBreaksView=s({skipBreakIcon:e._skipBreakIcon}),e._skipBreaksView.on(s.EVENT_SKIP_BREAK,e._skipBreakClick.bind(e)),e._player.setView(e._skipBreaksView),e._skipBreaksView.display(!1)},u._onMouseOver=function(){var e=this;e._isMouseOver=!0,e._wasShown=!1},u._onMouseOut=function(){this._isMouseOver=!1},u._onPause=function(){var e=this;e._displayTimer=null,e._player.once(a.EVENT_PLAYBACK_PLAY,e._handleIsSkipBreakTime.bind(e))},u._onPlaylistItem=function(e){var t=this,n=parseInt(e.item.data.mediaId,10);t._serviceCapi.getInstance().getContentsPackages(n).done(t._handleGetContentsPackages.bind(this))},u._getClosestSkipBreakToPlayhead=function(e){var t=this,n=null;return t._skipBreaks&&(n=t._skipBreaks.filter(function(t){return t.BreakTimes.End>e})[0]),n},u._handleIsSkipBreakTime=function(){var e=this,t=e._player.getPosition();e._skipBreaks.length&&(e._currentSkipBreak=e._getClosestSkipBreakToPlayhead(t),e._isSkipBreakTime=e._currentSkipBreak&&t>=e._currentSkipBreak.BreakTimes.Start&&t<=e._currentSkipBreak.BreakTimes.End,e._isSkipBreakTime&&!e._wasShown?e._showSkipBreakView():(e._hideSkipBreakView(),e._displayTimer&&(e._displayTimer=null,e._wasShown=!1)))},u._startDisplayTimer=function(){var e=this,t=e._player.getPosition(),n=e._currentSkipBreak.BreakTimes.End-t>5?5e3:1e3*(e._currentSkipBreak.BreakTimes.End-t);e._displayTimer||(e._displayTimer=_.delay(e._onDisplayTimer.bind(e),n))},u._onDisplayTimer=function(){var e=this;e._displayTimer=null,e._isMouseOver||(e._wasShown=!0)},u._showSkipBreakView=function(){var e=this;e._skipBreaksView.updateLabel(e._currentSkipBreak.BreakType),e._skipBreaksView.display(!0),e._startDisplayTimer()},u._hideSkipBreakView=function(){var e=this;e._skipBreaksView.display(!1),e._displayTimer=null},u._handleGetContentsPackages=function(e){var t=this,n=e.data.skipBreaks;n.length&&t._enabledSkipBreaks.length&&(t._skipBreaks=n.filter(t._isValidSkipBreak.bind(t)).sort(function(e,t){return _.isNumber(e.BreakTimes.Start)&&_.isNumber(t.BreakTimes.Start)&&e.BreakTimes.Start<t.BreakTimes.Start?-1:1}))},u._isValidSkipBreak=function(e,t,n){var i=this,a=!1;if(_.isString(e.BreakType)&&i._enabledSkipBreaks.indexOf(e.BreakType.toLowerCase())>-1&&e.BreakTimes&&_.isNumber(e.BreakTimes.Start)&&_.isNumber(e.BreakTimes.End)){var o=e.BreakTimes.Start,r=e.BreakTimes.End;a=o>=0&&r>=1&&r>o;for(var s=n.length-1;s>0;s--)if(s!==t){var l=n[s];if(l&&l.BreakTimes&&_.isNumber(l.BreakTimes.Start)&&_.isNumber(l.BreakTimes.End)){var c=l.BreakTimes.Start,d=l.BreakTimes.End;a=!(o>c&&o<d||r>c&&r<d),a||n.splice(s,1)}}}return a},u.on=function(){this._event.on.apply(this._event,arguments)},u.once=function(){this._event.once.apply(this._event,arguments)},u.off=function(){this._event.off.apply(this._event,arguments)},d.EVENT_SKIP_BREAK="event_skip_break",t.exports=d},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"bm-service-factory-capi":117,"bm-service-factory-reco":119,"bm-videoplayer":203,"bm-videoplayer-plugin":202,"bm-view-skipbreaks":258}],199:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-service-factory-capi"),r=o,s=e("bm-service-factory-reco"),l=s,c=e("bm-videoplayer-plugin"),d=e("bm-view-upnext"),u=d,p=e("bm-videoplayer/models/playlist"),m=e("bm-videoplayer/models/playlist/item"),h=e("bm-helper-metadata-capi-video"),f=h,b=e("@bellmedia/bm-base-event"),v=function(e){if(!(this instanceof v))return new v(e);v.super_.apply(this,arguments),this._promptTimeOffset=e.upnextOffset,this._brandColor=e.brandColor,this._playImgUrl=e.playImgUrl,this._dismissImgUrl=e.dismissImgUrl,this._defaultUpNextDuration=e.upnextDuration||15,this._event=b()};i.inherits(v,c);var g=v.prototype;g._defaultUpNextDuration=15,g._upnextDuration=0,g._lastUpNextTimeUpdate=0,g._upnextTimeLeft=0,g._promptTimeOffset=void 0,g._endCreditOffset=void 0,g._brandColor=void 0,g._playImgUrl=void 0,g._dismissImgUrl=void 0,g._contentId=void 0,g._viewUpnext=null,g._remainingPlaylistItem=0,g._serviceCapi=void 0,g._serviceReco=void 0,g._contentIdUpnext=0,g._contentImageUpnext="",g._enableUpnext=!0,g._event=void 0,g.loadPlugin=function(){var e=this;e._serviceCapi=r(),e._serviceReco=l(),e._player._upnextPluginInstance=this,e._player.on(a.EVENT_PLAYLIST_ITEM,function(t){e._viewUpnext&&e._player.getView()===e._viewUpnext&&e._player.hideView(),e._upnextDuration=e._defaultUpNextDuration,e._upnextTimeLeft=e._upnextDuration,e._contentId=parseInt(t.item.data.mediaId,10),e._remainingPlaylistItem=e._player.getPlaylist().data.items.length-t.index,setTimeout(function(){e._enableUpnext=!0},500),e._serviceCapi.getInstance().getContentsPackages(e._contentId).then(function(t){t.data.endCreditOffset&&_.isNumber(t.data.endCreditOffset)&&(e._endCreditOffset=t.data.endCreditOffset),t.data.promptTime&&_.isNumber(t.data.promptTime)&&(e._promptTimeOffset=t.data.promptTime)})}),e._player.on(a.EVENT_PLAYBACK_TIMEUPDATE,function(t){1===e._remainingPlaylistItem&&e._updateUpnextStatus(t)}),e._player.on(a.EVENT_PLAYBACK_SEEKED,function(){var t=e._player.getDuration()-e._player.getPosition();e._upnextTimeLeft=0,e._lastUpNextTimeUpdate=0,e._upnextDuration=t<e._defaultUpNextDuration?Math.floor(t):e._defaultUpNextDuration,e._hideUpNextView()}),e._player.on(a.EVENT_PLAYBACK_BEFORE_COMPLETE,function(){e._hideUpNextView(),e._contentIdUpnext?e._playUpNextItem():e._event.emit(v.EVENT_UPNEXT_COMPLETE)})},g._getUpNextPosition=function(){var e=this,t=e._player.getDuration()-e._promptTimeOffset;return e._endCreditOffset&&(t=e._endCreditOffset),t},g._updateUpnextStatus=function(e){var t=this,n=e.position,i=t._getUpNextPosition();n>=i&&!t._viewUpnext&&t._enableUpnext?t._serviceCapi.getInstance().getContentsNextContents(t._contentId).then(t._onGetContentsNextContentsSuccess.bind(t),t._onGetContentsNextContentsFail.bind(t)):n<i&&t._viewUpnext&&t._hideUpNextView(),t._viewUpnext&&t._player.getView()===t._viewUpnext&&(t._viewUpnext.updateTimerData(t._getUpNextTimeLeft(),t._upnextDuration),t._enableUpnext&&t._viewUpnext.render(),0===t._getUpNextTimeLeft()&&t._playUpNextItem())},g._getUpNextTimeLeft=function(e){var t=this,n=Date.now();return 0===t._lastUpNextTimeUpdate?(t._lastUpNextTimeUpdate=n,t._upnextTimeLeft=t._upnextDuration):n>=t._lastUpNextTimeUpdate+1e3&&(t._upnextTimeLeft=t._upnextTimeLeft-1,t._lastUpNextTimeUpdate=n),t._upnextTimeLeft},g._getUpnextPlaylist=function(e,t){var n=m().setData({mediaId:e,image:t});return p().setData({items:[n]})},g._playUpNextItem=function(){var e=this,t=null;e._setBookmark(),e._enableUpnext=!1,e._event.emit(v.EVENT_UPNEXT_CONTINUE),t=e._getUpnextPlaylist(e._contentIdUpnext,e._contentImageUpnext),e._player.loadPlaylist(t,!0),e._hideUpNextView()},g._formatMetadata=function(e){var t="",n=e.content.episode,i=e.content.season,a=e.content.type,o=e.content.title||"";return _.isUndefined(i)||(t="S"+i),_.isUndefined(n)||(""!=t&&(t+=":"),t+="E"+n),"episode"===a&&""!==t?[t,o].join(" "):o},g._setBookmark=function(){var e=this;e._serviceCapi.getInstance().getContents(e._contentId).then(function(t){e._serviceReco.getInstance("type_reco").setBookmarks({contentId:e._contentId,mediaId:t.data.mediaId,duration:t.data.duration,offset:e._player.getPosition(),modelVersion:"1",title:t.data.media.title,episode:t.data.content.episode,season:t.data.content.season,contentType:t.data.content.type,contentPackageId:t.data.contentPackageId})})},g._hideUpNextView=function(){var e=this;e._player.getView()===e._viewUpnext&&(e._player.hideView(),e._player.setView(null)),e._viewUpnext=null},g._onDismissUpNextView=function(){var e=this;e._enableUpnext=!1,e._hideUpNextView()},g._onGetContentsNextContentsSuccess=function(e){var t=this,n="",i="";t._contentIdUpnext=e.data.contentId,t._contentImageUpnext=e.data.content.image,t._upnextDuration=t._getUpNextPosition()+t._upnextDuration>t._player.getDuration()?t._player.getDuration()-t._getUpNextPosition():t._upnextDuration,n=f().getMediaTitleNoSpecialChar(e.data),i=t._formatMetadata(e.data),t._viewUpnext=u({title:n,episodeText:i,playImgUrl:t._playImgUrl,dismissImgUrl:t._dismissImgUrl,brandColor:t._brandColor}),t._viewUpnext.once(d.EVENT_PLAY_UPNEXT_ITEM,t._playUpNextItem.bind(t)),t._viewUpnext.once(d.EVENT_DISMISS_UPNEXT_ITEM,t._onDismissUpNextView.bind(t)),t._player.setView(t._viewUpnext)},g._onGetContentsNextContentsFail=function(){var e=this;e._enableUpnext=!1,e._contentIdUpnext=null,e._contentImageUpnext=null},g.on=function(){this._event.on.apply(this._event,arguments)},g.once=function(){this._event.once.apply(this._event,arguments)},g.off=function(){this._event.off.apply(this._event,arguments)},v.EVENT_UPNEXT_COMPLETE="EVENT_UPNEXT_COMPLETE",v.EVENT_UPNEXT_CONTINUE="EVENT_UPNEXT_CONTINUE",t.exports=v},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"bm-helper-metadata-capi-video":81,"bm-service-factory-capi":117,"bm-service-factory-reco":119,"bm-videoplayer":203,"bm-videoplayer-plugin":202,"bm-videoplayer/models/playlist":208,"bm-videoplayer/models/playlist/item":209,"bm-view-upnext":261}],200:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer"),o=e("bm-videoplayer-plugin-userdal"),r=e("bm-service-factory-userdal"),s=r,l=e("bm-service-factory-capi"),c=l,d=e("bm-heartbeat-userdal-lastpos"),u=e("underscore"),p=function(e){if(!(this instanceof p))return new p(e);p.super_.apply(this,arguments),this._mode=e&&e.mode?e.mode:"w",this._profileId=e&&e.profileId?e.profileId:void 0};i.inherits(p,o);var m=p.prototype;m._interval=4e4,m._mode="w",m._profileId=void 0,m._serviceCapi=void 0,m._serviceUserdal=void 0,m._lastposHB=void 0,m.loadPlugin=function(){var e=this;e._serviceUserdal=s(),e._serviceCapi=c(),u.isString(e._mode)&&-1!==e._mode.indexOf("w")&&e._applyLogicWrite(),u.isString(e._mode)&&-1!==e._mode.indexOf("r")&&e._applyLogicRead()},m._applyLogicRead=function(){var e=this;e._player.on(a.EVENT_PLAYLIST_ITEM,function(t){e._player.once(a.EVENT_PLAYBACK_PLAYING,function(){var t=999999999999,n=e._player.getCurrentItem().data.mediaId;e._serviceCapi.getInstance().getContents(n).then(function(e){return e?(t=e.data.duration,e.data.contentPackageId):Promise.reject(null)}).then(function(t){return e._profileId?{contentPackageId:t,profileId:e._profileId}:e._serviceUserdal.getInstance(r.TYPE_USERDAL).getV3Profiles().then(function(e){var n=e&&e.data;return!u.isArray(n)||u.isEmpty(n)||u.isEmpty(n[0].id)?Promise.reject(null):{contentPackageId:t,profileId:n[0].id}})}).then(function(t){return e._serviceUserdal.getInstance(r.TYPE_USERDAL).getV3ProfilesLastpos({profileId:t.profileId,contentPackageId:t.contentPackageId})}).then(function(n){n.data&&u.isNumber(n.data)&&n.data>0&&t-n.data>60&&e._player.seek(n.data)}).catch(function(e){void 0})})})},m._applyLogicWrite=function(){var e=this;e._player.on(a.EVENT_PLAYBACK_BEFORE_PLAY,function(t){try{e._lastposHB&&e._lastposHB.destroy()}catch(e){}var n=e._player.getCurrentItem().data.mediaId;e._serviceCapi.getInstance().getContents(n).then(function(t){t&&(e._profileId?e._lastposHB=d(e._interval,{profileId:e._profileId,contentId:t.data.contentId,contentPackageId:t.data.contentPackageId}):e._serviceUserdal.getInstance(r.TYPE_USERDAL).getV3Profiles().then(function(n){var i=n&&n.data;!u.isArray(i)||u.isEmpty(i)||u.isEmpty(i[0].id)||(e._lastposHB=d(e._interval,{profileId:i[0].id,contentId:t.data.contentId,contentPackageId:t.data.contentPackageId}))}))})}),e._player.on(a.EVENT_PLAYBACK_COMPLETE,function(t){try{e._lastposHB&&e._lastposHB.destroy()}catch(e){}}),e._player.on(a.EVENT_PLAYBACK_TIMEUPDATE,function(t){e._lastposHB&&e._lastposHB.updateTime(t.position,t.duration)}),e._player.on(a.EVENT_PLAYER_DESTROY,function(){try{e._lastposHB&&e._lastposHB.destroy()}catch(e){}})},t.exports=p},{"@bellmedia/bm-base":11,"bm-heartbeat-userdal-lastpos":53,"bm-service-factory-capi":117,"bm-service-factory-userdal":121,"bm-videoplayer":203,"bm-videoplayer-plugin-userdal":201,underscore:32}],201:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin"),o=function(){if(!(this instanceof o))return new o;o.super_.call(this)};i.inherits(o,a);o.prototype;o.EVENT_USERDAL_ERROR="event_userdal_error",t.exports=o},{"@bellmedia/bm-base":11,"bm-videoplayer-plugin":202}],202:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("bm-base-with-logging"),o=function(){if(!(this instanceof o))return new o;o.super_.call(this)};i.inherits(o,a);var r=o.prototype;r._player=void 0,r.injectVideoplayerInstance=function(e){this._player=e},r.loadPlugin=i.abstractMethod,t.exports=o},{"@bellmedia/bm-base":11,"bm-base-with-logging":46}],203:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("./configs/options"),o=a,r=e("./models/playlist"),s=r,l=e("./exceptions/bm-videoplayer"),c=e("./exceptions/playlist"),d=e("@bellmedia/bm-base-config");BMBaseModel=e("@bellmedia/bm-base-model"),_=e("underscore");var u=function(e,t){if(!(this instanceof u))return new u(e,t);if(u.super_.apply(this,arguments),e&&!(e instanceof d))throw new l(l.OPTION_TYPE_INCORRECT);if(t&&!(t instanceof r))throw new c(c.TYPE_INCORRECT);this._options=e?e.data:o().data,this._instanceId=e?e.data.instanceId:o().data.instanceId,this._playlist=t||s()};i.inherits(u,i);var p=u.prototype;p._event=void 0,p._instanceId="",p._options=void 0,p._playlist=void 0,p._playerView=void 0,_.extend(p,e("./prototypes/general")),_.extend(p,e("./prototypes/controls")),_.extend(p,e("./prototypes/playback")),_.extend(p,e("./prototypes/caption")),_.extend(p,e("./prototypes/playlist")),_.extend(p,e("./prototypes/volume")),u.EVENT_PLAYER_SETUP="event_player_setup",u.EVENT_AUTOSTART_NOT_ALLOWED="event_autostart_not_allowed",u.EVENT_PLAYER_DESTROY="event_player_destroy",u.EVENT_PLAYER_RESIZE="event_player_resize",u.EVENT_PLAYER_FULLSCREEN="event_player_fullscreen",u.EVENT_STATUS_ABORT="event_status_abort",u.EVENT_STATUS_CANPLAY="event_status_canplay",u.EVENT_STATUS_DURATIONCHANGE="event_status_durationchange",u.EVENT_STATUS_LOADEDDATA="event_status_loadeddata",u.EVENT_STATUS_LOADEDMETADATA="event_status_loadedmetadata",u.EVENT_STATUS_LOADSTART="event_status_loadstart",u.EVENT_STATUS_STALLED="event_status_stalled",u.EVENT_STATUS_SUSPEND="event_status_suspend",u.EVENT_STATUS_QUALITYLIST="event_status_qualitylist",u.EVENT_STATUS_QUALITYCHANGED="event_status_qualitychanged",u.EVENT_STATUS_VIEW="event_status_view",u.EVENT_CONTROLS_STATE="event_controls_state",u.EVENT_DISPLAY_CLICK="event_display_click",u.EVENT_PLAYBACK_PLAY="event_playback_play",u.EVENT_PLAYBACK_PLAYING="event_playback_playing",u.EVENT_PLAYBACK_PAUSE="event_playback_pause",u.EVENT_PLAYBACK_WAITING="event_playback_waiting",u.EVENT_PLAYBACK_TIMEUPDATE="event_playback_timeupdate",u.EVENT_PLAYBACK_COMPLETE="event_playback_complete",u.EVENT_PLAYBACK_RATECHANGE="event_playback_ratechange",u.EVENT_PLAYBACK_SEEKED="event_playback_seeked",u.EVENT_PLAYBACK_SEEKING="event_playback_seeking",u.EVENT_PLAYBACK_BEFORE_PLAY="event_playback_before_play",u.EVENT_PLAYBACK_BEFORE_COMPLETE="event_playback_before_complete",u.EVENT_CAPTION_CAPTIONLIST="event_caption_captionlist",u.EVENT_CAPTION_CAPTIONCHANGED="event_caption_captionchanged",u.EVENT_PLAYLIST_LOADED="event_playlist_loaded",u.EVENT_PLAYLIST_EMPTIED="event_playlist_emptied",u.EVENT_PLAYLIST_ENDED="event_playlist_ended",u.EVENT_PLAYLIST_ITEM="event_playlist_item",u.EVENT_VOLUME_VOLUMECHANGE="event_volume_volumechange",u.EVENT_VOLUME_MUTE="event_volume_mute",u.EVENT_BUFFER_BUFFERING="event_buffer_buffering",u.EVENT_BUFFER_PROGRESS="event_buffer_progress",u.EVENT_BUFFER_CANPLAYTHROUGH="event_buffer_canplaythrough",u.EVENT_AD_BREAK_END="event_ad_break_end",u.EVENT_AD_BREAK_START="event_ad_break_start",u.EVENT_AD_CLICK="event_ad_click",u.EVENT_AD_REQUEST="event_ad_request",u.EVENT_AD_IMPRESSION="event_ad_impression",u.EVENT_AD_PLAY="event_ad_play",u.EVENT_AD_PAUSE="event_ad_pause",u.EVENT_AD_TIME="event_ad_time",u.EVENT_AD_COMPLETE="event_ad_complete",u.EVENT_AD_SKIPPED="event_ad_skipped",u.EVENT_ERROR="event_error",u.EVENT_AD_ERROR="event_ad_error",u.EVENT_WARNING="event_warning",t.exports=u},{"./configs/options":204,"./exceptions/bm-videoplayer":205,"./exceptions/playlist":206,"./models/playlist":208,"./prototypes/caption":212,"./prototypes/controls":213,"./prototypes/general":214,"./prototypes/playback":215,"./prototypes/playlist":216,"./prototypes/volume":217,"@bellmedia/bm-base":11,"@bellmedia/bm-base-config":1,"@bellmedia/bm-base-model":6,underscore:32}],204:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-config"),o=function(e){if(!(this instanceof o))return new o(e);o.super_.apply(this,arguments),this.setDefault({instanceId:"",container:"",skinName:"",plugins:[],appearance:{showControls:!0,showTitle:!0,showDescription:!0,language:o.LANG_EN,aspectRatio:void 0,width:480,height:270},behavior:{mute:!1,autoStart:!1,repeat:!1},loading:{preload:o.PRELOAD_NONE}})};i.inherits(o,a),o.LANG_EN="en",o.PRELOAD_NONE="none",o.PRELOAD_METADATA="metadata",o.PRELOAD_AUTO="auto",t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-config":1}],205:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base-error"),a=e("@bellmedia/bm-base"),o=function(e){o.super_.apply(this,arguments)};a.inherits(o,i),o.OPTION_TYPE_INCORRECT="This value is not a type of ConfigOptions.",o.API_FULLSCREEN_NOT_SUPPORTED="Fullscreen is not supported by API due to phishing-related security restrictions.",o.SESSION_STORAGE_NOT_SUPPORTED="Browser does not support sessionStorage.",t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-error":2}],206:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base-error"),a=e("@bellmedia/bm-base"),o=function(e){o.super_.apply(this,arguments)};a.inherits(o,i),o.TYPE_INCORRECT="This value is not a type of ModelPlaylist.",o.LOADING_ERROR="Error while loading playlist",t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-error":2}],207:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=function(){if(!(this instanceof o))return new o;o.super_.call(this),this.setDefault({id:null,label:"",type:""})};i.inherits(o,a),o.TYPE_EMBEDDED="type_embedded",o.TYPE_VTT="type_vtt",o.TYPE_SRT="type_srt",o.TYPE_DFXP="type_dfxp",o.TYPE_UNKNOWN="type_unknown",t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6}],208:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=function(){if(!(this instanceof o))return new o;o.super_.call(this),this.setDefault({title:"",description:"",items:[]})};i.inherits(o,a),o.prototype.getMediaIds=function(){return this._data.items.map(function(e){return e.data.mediaId})},t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6}],209:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=e("../../configs/options"),r=function(){if(!(this instanceof r))return new r;r.super_.call(this),this.setDefault({mediaId:"",title:"",description:"",image:"",tracks:[],adsite:"",adzone:"",preload:o.PRELOAD_NONE,urlClickThrough:"",continueWatchingPosition:0,adUnitSuperhub:{}})};i.inherits(r,a),t.exports=r},{"../../configs/options":204,"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6}],210:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=function(){if(!(this instanceof o))return new o;o.super_.call(this),this.setDefault({bitrate:0,width:0,height:0,label:""})};i.inherits(o,a),t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6}],211:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-model"),o=function(){if(!(this instanceof o))return new o;o.super_.call(this),this.setDefault({file:"",type:"",label:""})};i.inherits(o,a),o.TYPE_CAPTION="type_caption",o.TYPE_CHAPTER="type_chapter",o.TYPE_THUMBNAIL="type_thumbnail",o.TYPE_UNKNOWN="type_unknown",t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-model":6}],212:[function(e,t,n){var i=e("@bellmedia/bm-base"),a={};a.getCaptionsList=i.abstractMethod,a.enableCaption=i.abstractMethod,a.disableCaption=i.abstractMethod,t.exports=a},{"@bellmedia/bm-base":11}],213:[function(e,t,n){var i=e("@bellmedia/bm-base"),a={};a.enableControls=i.abstractMethod,a.disableControls=i.abstractMethod,t.exports=a},{"@bellmedia/bm-base":11}],214:[function(e,t,n){var i=e("@bellmedia/bm-base"),a={};a.on=i.abstractMethod,a.once=i.abstractMethod,a.off=i.abstractMethod,a.destroy=i.abstractMethod,a.getWidth=i.abstractMethod,a.getHeight=i.abstractMethod,a.resize=i.abstractMethod,a.fullscreen=i.abstractMethod,a.isFullscreen=i.abstractMethod,a.getPlayerQualitySetting=i.abstractMethod,a.setPlayerQualitySetting=i.abstractMethod,a.getSafeViewRegion=i.abstractMethod,a.getView=i.abstractMethod,a.setView=i.abstractMethod,a.isViewShown=i.abstractMethod,a.showView=i.abstractMethod,a.hideView=i.abstractMethod,a.getPluginsLoaded=i.abstractMethod,t.exports=a},{"@bellmedia/bm-base":11}],215:[function(e,t,n){var i=e("@bellmedia/bm-base"),a={};a.play=i.abstractMethod,a.pause=i.abstractMethod,a.seek=i.abstractMethod,a.getState=i.abstractMethod,a.getPosition=i.abstractMethod,a.getDuration=i.abstractMethod,a.getCurrentAvailableQualities=i.abstractMethod,a.getCurrentStreamQuality=i.abstractMethod,a.setCurrentStreamQuality=i.abstractMethod,t.exports=a},{"@bellmedia/bm-base":11}],216:[function(e,t,n){var i=e("@bellmedia/bm-base"),a={};a.playItem=i.abstractMethod,a.playItemNext=i.abstractMethod,a.playItemPrevious=i.abstractMethod,a.getCurrentItemIndex=i.abstractMethod,a.getCurrentItem=i.abstractMethod,a.getPlaylist=i.abstractMethod,a.loadPlaylist=i.abstractMethod,t.exports=a},{"@bellmedia/bm-base":11}],217:[function(e,t,n){var i=e("@bellmedia/bm-base"),a={};a.isMute=i.abstractMethod,a.setMute=i.abstractMethod,a.getVolume=i.abstractMethod,a.setVolume=i.abstractMethod,t.exports=a},{"@bellmedia/bm-base":11}],218:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);i.super_.call(this,c.extend({id:c.uniqueId("bm-view-chromecast-oneplayer"),className:"bm-view-chromecast-oneplayer"},e)),s().injectStyles(c.template(p)({urlCastButtonImageDefault:e.urlCastButtonImageDefault,urlCastButtonImageConnected:e.urlCastButtonImageConnected,urlPlayButtonImage:e.urlPlayButtonImage,urlPauseButtonImage:e.urlPauseButtonImage,urlVolumeHighButtonImage:e.urlVolumeHighButtonImage,urlVolumeMuteButtonImage:e.urlVolumeMuteButtonImage}),"bm-view-chromecast-oneplayer-css"),this._event=r();var t=this.compile(d,this._data);this.$el.append(t),this._$mediaName=this.$(".media-name"),this._$contentName=this.$(".content-name"),this._$stateMessage=this.$(".state-message"),this._$buttonPlay=this.$(".googlecast-button-play"),this._$buttonVolume=this.$(".googlecast-button-volume"),this._$elapsed=this.$(".googlecast-elapsed"),this._$duration=this.$(".googlecast-duration"),this._$disconnect=this.$(".googlecast-disconnect"),this._attachEvents()}var a=e("@bellmedia/bm-base"),o=e("@bellmedia/bm-base-view"),r=e("@bellmedia/bm-base-event"),s=e("bm-css-injector"),l=e("jquery"),c=e("underscore"),d=e("./templates/bm-view-chromecast-oneplayer.tpl"),u=e("./templates/css/bm-view-chromecast-oneplayer.scss"),p=e("./templates/css/bm-view-chromecast-oneplayer.css.tpl");s().injectStyles(u,"bm-view-chromecast-oneplayer-scss"),a.inherits(i,o);var m=i.prototype;m._data={state:"connecting",mediaName:"",contentName:"",chromecastName:"",position:0,duration:0,isPlaying:!1,isMuted:!1},m._event=void 0,m.update=function(e){c.extend(this._data,e)},
m._$mediaName=void 0,m._$contentName=void 0,m._$stateMessage=void 0,m._$buttonPlay=void 0,m._$buttonVolume=void 0,m._$elapsed=void 0,m._$duration=void 0,m.render=function(){var e=this;e._$mediaName.html(this._data.mediaName),e._$contentName.html(this._data.contentName),""===this._data.chromecastName?e._$stateMessage.html(""):e._$stateMessage.html("connecting"===this._data.state?"Connecting to "+this._data.chromecastName:"Now Playing on "+this._data.chromecastName),this._data.isPlaying&&!e._$buttonPlay.hasClass("status-playing")?e._$buttonPlay.addClass("status-playing"):!this._data.isPlaying&&e._$buttonPlay.hasClass("status-playing")&&e._$buttonPlay.removeClass("status-playing"),this._data.isMuted&&!e._$buttonVolume.hasClass("mute")?e._$buttonVolume.addClass("mute"):!this._data.isMuted&&e._$buttonVolume.hasClass("mute")&&e._$buttonVolume.removeClass("mute"),e.$(".googlecast-progress .inner-bar").width(parseInt(this._data.position/this._data.duration*e.$(".block-progress").width())),e._$elapsed.html(e.formatDuration(e._data.position)),e._$duration.html(e.formatDuration(e._data.duration))},m._attachEvents=function(){var e=this,t=e.$(".block-progress"),n=e.$(".googlecast-progress .inner-bar"),a=0,o=t.offset().left,r=t.offset().left+t.width(),s=t.width();e._$buttonPlay.on("click",function(){e._data.isPlaying?e._event.emit(i.EVENT_PAUSE_CLICK):e._event.emit(i.EVENT_PLAY_CLICK)}),e.$(".block-progress").on("mousedown",function(c){t=e.$(".block-progress"),o=t.offset().left,r=t.offset().left+t.width(),s=t.width(),a=c.clientX-o,l(document).one("mouseup",function(o){e.$el.off("mousemove.chromecast"),n.width(a),e._event.emit(i.EVENT_SEEK_CLICK,a/t.width()*100)}),e.$el.on("mousemove.chromecast",function(e){var t=e.clientX-o;a=t<0?0:t>s?s:t,n.width(a)})}),e._$buttonVolume.on("click",function(){e._data.isMuted?e._event.emit(i.EVENT_UNMUTE_CLICK):e._event.emit(i.EVENT_MUTE_CLICK)}),e._$disconnect.on("click",function(){e._event.emit(i.EVENT_DISCONNECT)})},m.formatDuration=function(e){function t(e){return("00"+Math.round(e)).slice(-2)}e=Math.floor(e);var n=Math.floor(e/3600),i=Math.floor(e/60)%60,a=e%60;return n?t(n)+":"+t(i)+":"+t(a):t(i)+":"+t(a)},m.on=function(){this._event.on.apply(this._event,arguments)},m.once=function(){this._event.once.apply(this._event,arguments)},m.off=function(){this._event.off.apply(this._event,arguments)},i.EVENT_PLAY_CLICK="event_play_click",i.EVENT_PAUSE_CLICK="event_pause_click",i.EVENT_SEEK_CLICK="event_seek_click",i.EVENT_MUTE_CLICK="event_mute_click",i.EVENT_UNMUTE_CLICK="event_unmute_click",i.EVENT_DISCONNECT="event_disconnect_click",t.exports=i},{"./templates/bm-view-chromecast-oneplayer.tpl":219,"./templates/css/bm-view-chromecast-oneplayer.css.tpl":220,"./templates/css/bm-view-chromecast-oneplayer.scss":221,"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"@bellmedia/bm-base-view":10,"bm-css-injector":47,jquery:18,underscore:32}],219:[function(e,t,n){t.exports='<header>\n  <div class="media-name"><%= mediaName %></div>\n  <div class="content-name"><%= contentName%></div>\n</header>\n<div class="state-message"></div>\n<footer class="clearfix">\n  <div class="control-box">\n    <div class="block-play">\n      <span class="googlecast-button-play"></span>\n    </div>\n    <div class="block-elapsed">\n      <span class="googlecast-elapsed">00:00</span>\n    </div>\n    <div class="block-progress">\n      <span class="googlecast-progress" data-min="0" data-max="317" data-value="0"><span class="inner-bar"></span></span>\n    </div>\n    <div class="block-duration">\n      <span class="googlecast-duration">00:00</span>\n    </div>\n    <div class="block-disconnect">\n      <span class=googlecast-disconnect></span>\n    </div>\n    <div class="block-volume">\n      <span class="googlecast-button-volume"></span>\n    </div>\n  </div>\x3c!-- .control-box --\x3e\n</footer>\n'},{}],220:[function(e,t,n){t.exports='.bm-view-chromecast-oneplayer footer .block-play .googlecast-button-play {\n  background-image: url("<%- urlPlayButtonImage %>");\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n.bm-view-chromecast-oneplayer footer .block-play .googlecast-button-play.status-playing {\n  background-image: url("<%- urlPauseButtonImage %>");\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n.bm-view-chromecast-oneplayer footer .block-disconnect .googlecast-disconnect {\n  background-image: url("<%- urlCastButtonImageConnected %>");\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n.bm-view-chromecast-oneplayer footer .block-volume .googlecast-button-volume {\n  background-image: url("<%- urlVolumeHighButtonImage %>");\n  background-size: contain;\n  background-repeat: no-repeat;\n\n}\n.bm-view-chromecast-oneplayer footer .block-volume .googlecast-button-volume.mute {\n  background-image: url("<%- urlVolumeMuteButtonImage %>");\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n'},{}],221:[function(e,t,n){t.exports='.bm-video-player-bm-view-chromecast-oneplayer.jwplayer .jw-controls-right,\n.bm-video-player-bm-view-chromecast-oneplayer.jwplayer.jw-flag-ads .jw-controls-right {\n  z-index: 1; }\n  .bm-video-player-bm-view-chromecast-oneplayer.jwplayer .jw-controls-right .jw-dock,\n  .bm-video-player-bm-view-chromecast-oneplayer.jwplayer.jw-flag-ads .jw-controls-right .jw-dock {\n    display: inherit !important;\n    visibility: inherit !important;\n    opacity: inherit !important; }\n\n.jwplayer .jw-controls-right .hide-button-cast {\n  display: none !important; }\n\n.bm-view-chromecast-oneplayer {\n  box-sizing: border-box;\n  background-color: black;\n  color: #ffffff;\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%; }\n  .bm-view-chromecast-oneplayer * {\n    box-sizing: border-box; }\n  .bm-view-chromecast-oneplayer .clearfix:after {\n    display: table;\n    content: "";\n    clear: both;\n    visibility: hidden; }\n  .bm-view-chromecast-oneplayer header div {\n    font-size: 14px;\n    font-weight: 400;\n    padding: 0 0 3px 13px; }\n    .bm-view-chromecast-oneplayer header div.media-name {\n      font-weight: 700;\n      font-size: 1em;\n      padding-top: 14px; }\n  .bm-view-chromecast-oneplayer div.state-message {\n    position: absolute;\n    top: 50%;\n    width: 100%;\n    text-align: center;\n    transform: translateY(-50%); }\n  .bm-view-chromecast-oneplayer .button-dismiss {\n    color: #eae9e9;\n    cursor: pointer;\n    padding: 5px;\n    position: absolute;\n    right: 0;\n    top: 0; }\n\n.bm-view-chromecast-oneplayer footer {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  height: 40px;\n  width: 100%; }\n  .bm-view-chromecast-oneplayer footer .control-box {\n    position: relative;\n    display: table;\n    margin: 0 auto;\n    width: 100%;\n    height: 100%; }\n  .bm-view-chromecast-oneplayer footer .hidden {\n    display: none; }\n  .bm-view-chromecast-oneplayer footer .block-play {\n    display: table-cell;\n    white-space: nowrap;\n    height: 100%;\n    position: relative; }\n    .bm-view-chromecast-oneplayer footer .block-play .googlecast-button-play {\n      display: inline-block;\n      height: 1.2em;\n      padding: 0 .6em;\n      margin-left: .5em;\n      line-height: 2.5em;\n      vertical-align: middle;\n      cursor: pointer; }\n  .bm-view-chromecast-oneplayer footer .block-progress {\n    display: table-cell;\n    white-space: nowrap;\n    width: 100%;\n    height: 100%;\n    position: relative;\n    padding: 0;\n    vertical-align: baseline;\n    cursor: pointer; }\n    .bm-view-chromecast-oneplayer footer .block-progress .googlecast-progress {\n      position: relative;\n      display: inline-block;\n      vertical-align: middle;\n      width: 100%;\n      height: 0.3em;\n      background-color: #333;\n      overflow: hidden; }\n      .bm-view-chromecast-oneplayer footer .block-progress .googlecast-progress .inner-bar {\n        position: absolute;\n        top: 0;\n        left: 0;\n        display: block;\n        height: 100%;\n        width: 0;\n        background-color: #d71d24; }\n  .bm-view-chromecast-oneplayer footer .block-duration,\n  .bm-view-chromecast-oneplayer footer .block-elapsed {\n    display: table-cell;\n    white-space: nowrap;\n    position: relative;\n    height: 100%; }\n    .bm-view-chromecast-oneplayer footer .block-duration .googlecast-duration,\n    .bm-view-chromecast-oneplayer footer .block-duration .googlecast-elapsed,\n    .bm-view-chromecast-oneplayer footer .block-elapsed .googlecast-duration,\n    .bm-view-chromecast-oneplayer footer .block-elapsed .googlecast-elapsed {\n      display: inline-block;\n      width: 100%;\n      color: #FFF;\n      text-align: center;\n      vertical-align: middle;\n      line-height: 2.5em;\n      font-size: 0.75em;\n      padding: 0 1em; }\n  .bm-view-chromecast-oneplayer footer .block-disconnect {\n    display: table-cell;\n    white-space: no-wrap;\n    position: relative;\n    height: 100%; }\n    .bm-view-chromecast-oneplayer footer .block-disconnect .googlecast-disconnect {\n      display: inline-block;\n      height: 1.3em;\n      padding: 0 1em;\n      line-height: 2.5em;\n      vertical-align: middle;\n      cursor: pointer; }\n  .bm-view-chromecast-oneplayer footer .block-volume {\n    display: table-cell;\n    white-space: nowrap;\n    position: relative;\n    height: 100%; }\n    .bm-view-chromecast-oneplayer footer .block-volume .googlecast-button-volume {\n      display: inline-block;\n      height: 1.3em;\n      padding: 0 1em;\n      line-height: 2.5em;\n      vertical-align: middle;\n      cursor: pointer; }\n'},{}],222:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);i.super_.call(this,c.extend({id:c.uniqueId("bm-view-chromecast-vidi"),className:"bm-view-chromecast-vidi"},e)),s().injectStyles(c.template(p)({urlCastButtonImageDefault:e.urlCastButtonImageDefault,urlCastButtonImageConnected:e.urlCastButtonImageConnected,urlPlayButtonImage:e.urlPlayButtonImage,urlStopButtonImage:e.urlStopButtonImage,urlPauseButtonImage:e.urlPauseButtonImage,urlSkipBackButtonImage:e.urlSkipBackButtonImage,urlSkipForwardButtonImage:e.urlSkipForwardButtonImage,urlVolumeHighButtonImage:e.urlVolumeHighButtonImage,urlVolumeMuteButtonImage:e.urlVolumeMuteButtonImage,urlClosedCaptionButtonImageOff:e.urlClosedCaptionButtonImageOff,urlClosedCaptionButtonImageOn:e.urlClosedCaptionButtonImageOn,urlFullscreenButtonImageOff:e.urlFullscreenButtonImageOff,urlFullscreenButtonImageOn:e.urlFullscreenButtonImageOn,urlPlaylistButtonImage:e.urlPlaylistButtonImage,urlIconPlaylistPlay:e.urlIconPlaylistPlay,brandColor:e.brandColor,bgColorUpnext:e.bgColorUpnext}),"bm-view-chromecast-vidi-css"),this._event=r();var t=this.compile(d,this._data);this.$el.append(t),this._$mediaName=this.$(".media-name"),this._$contentName=this.$(".content-name"),this._$stateMessage=this.$(".state-message"),this._$buttonPlay=this.$(".googlecast-button-play"),this._$buttonSkipBack=this.$(".googlecast-button-skip-back"),this._$buttonSkipForward=this.$(".googlecast-button-skip-forward"),this._$buttonVolume=this.$(".googlecast-button-volume"),this._$elapsed=this.$(".googlecast-elapsed"),this._$duration=this.$(".googlecast-duration"),this._$disconnect=this.$(".googlecast-disconnect"),this._$cc=this.$(".googlecast-button-cc"),this._$fullscreen=this.$(".googlecast-button-fullscreen"),this._$buttonPlaylist=this.$(".googlecast-button-playlist"),this._$upnext=this.$(".block-chromecast-upnext"),this._$upnextText=this.$(".upnext-static-text"),this._$upnextContentTitle=this.$(".upnext-title"),this._$upnextEpisode=this.$(".upnext-episode"),this._$upnextThumbnailUrl=this.$(".upnext-image"),this._$upnextButtonPlay=this.$(".upnext-button-play"),this._$upnextButtonStop=this.$(".upnext-button-stop"),this._$playlist=this.$(".block-chromecast-playlist"),this._$playlistTitle=this.$(".chromecast-playlist-title"),this._$playlistContents=this.$(".chromecast-playlist-contents"),this._$playlistDismiss=this.$(".chromecast-button-dismiss"),this._$playlistTableCell=this.$(".chromecast-playlist-contents"),this._$adsStatus=this.$(".block-ads-status"),this._$adsStatusText=this.$(".ads-status-text"),this._$volumeBlock=this.$(".block-volume"),this._$volumeSliderContainer=this.$(".googlecast-volume-slider-container"),this._$volumeSliderBackground=this.$(".googlecast-volume-slider-background"),this._$volumeSliderKnob=this.$(".googlecast-volume-slider-knob"),this._$volumeSliderTrack=this.$(".googlecast-volume-slider-track"),this._$progressBlock=this.$(".block-progress"),this._$disconnectBlock=this.$(".block-disconnect"),this._$skipBreaks=this.$(".block-chromecast-skipbreaks"),this._$skipBreaksText=this.$(".skip-break-text"),this._attachEvents(),this._playlistPlayImg=e.urlIconPlaylistPlay,this._playlistLockImg=e.urlIconPlaylistLock}var a=e("@bellmedia/bm-base"),o=e("@bellmedia/bm-base-view"),r=e("@bellmedia/bm-base-event"),s=e("bm-css-injector"),l=e("jquery"),c=e("underscore"),d=e("./templates/bm-view-chromecast-vidi.tpl"),u=e("./templates/css/bm-view-chromecast-vidi.scss"),p=e("./templates/css/bm-view-chromecast-vidi.css.tpl"),m=e("bm-service-factory-translation");s().injectStyles(u,"bm-view-chromecast-vidi-scss"),a.inherits(i,o);var h=i.prototype;h._data={state:"connecting",mediaName:"",contentName:"",chromecastName:"",position:0,duration:0,isPlaying:!1,isMuted:!1,isClosedCaptions:!1,enableClosedCaptions:!1,isFullscreen:!1,upnextContentTitle:"",upnextEpisode:"",upnextThumbnailUrl:"",enableControls:!0,enableSkipBack:!1,enableSkipForward:!1,playlistShow:!1,currentContentId:0,isAdPlaying:!1,isLive:!1,isAuthenticated:!1,enableEpisodeList:!1,enableEpisodeListDetailed:!1,enableSeasonList:!1,seasonList:"",seasonId:0,isSkipBreaks:!1,skipBreakText:"",skipEndTime:0},h._event=void 0,h._playlistPlayImg=void 0,h._playlistLockImg=void 0,h._volumeLevel=100,h._unmuteVolumeLevel=100,h._currentPlayerWidth=0,h.update=function(e){c.extend(this._data,e)},h._$mediaName=void 0,h._$contentName=void 0,h._$stateMessage=void 0,h._$buttonPlay=void 0,h._$buttonSkipBack=void 0,h._$buttonSkipForward=void 0,h._$buttonVolume=void 0,h._$elapsed=void 0,h._$duration=void 0,h._$cc=void 0,h._$fullscreen=void 0,h._$buttonPlaylist=void 0,h._$upnext=void 0,h._$upnextText=void 0,h._$upnextContentTitle=void 0,h._$upnextEpisode=void 0,h._$upnextThumbnailUrl=void 0,h._$playlist=void 0,h._$playlistTitle=void 0,h._$playlistContents=void 0,h._$playlistDismiss=void 0,h._$playlistTableCell=void 0,h._$adsStatus=void 0,h._$adsStatusText=void 0,h._$volumeBlock=void 0,h._$volumeSliderContainer=void 0,h._$volumeSliderBackground=void 0,h._$volumeSliderKnob=void 0,h._$volumeSliderTrack=void 0,h._$progressBlock=void 0,h._$disconnectBlock=void 0,h._$skipBreaks=void 0,h._$skipBreaksText=void 0,h._$skipEndTime=void 0,h.render=function(){var e=this,t=m().getInstance();if(e._$mediaName.html(this._data.mediaName),e._$contentName.html(this._data.contentName),"connecting"===this._data.state?e._$stateMessage.html(t.t("Connecting to")+" "+this._data.chromecastName):"connected"===this._data.state?e._$stateMessage.html(t.t("Now Playing on")+" "+this._data.chromecastName):"loading next"===this._data.state?e._$stateMessage.html(t.t("Loading")+" "+this._data.upnextContentTitle+" "+this._data.upnextEpisode):"completed"===this._data.state?e._$stateMessage.html(t.t("Ready to watch more")):e._$stateMessage.html(this._data.state),!0===e._data.enableEpisodeList?e._$buttonPlaylist.show():e._$buttonPlaylist.hide(),this._data.isPlaying&&!e._$buttonPlay.hasClass("status-playing")?e._$buttonPlay.addClass("status-playing"):!this._data.isPlaying&&e._$buttonPlay.hasClass("status-playing")&&e._$buttonPlay.removeClass("status-playing"),this._data.isMuted&&!e._$buttonVolume.hasClass("mute")?(e._$buttonVolume.addClass("mute"),e._unmuteVolumeLevel=e._volumeLevel,e._updateVolumeSlider(0)):!this._data.isMuted&&e._$buttonVolume.hasClass("mute")&&(e._$buttonVolume.removeClass("mute"),e._updateVolumeSlider(e._unmuteVolumeLevel)),!0===e._data.isClosedCaptions?(e._$cc.show(),this._data.enableClosedCaptions&&!e._$cc.hasClass("enable-cc")?e._$cc.addClass("enable-cc"):!this._data.enableClosedCaptions&&e._$cc.hasClass("enable-cc")&&e._$cc.removeClass("enable-cc")):e._$cc.hide(),!0===this._data.isFullscreen?e._$fullscreen.hasClass("off")||e._$fullscreen.addClass("off"):e._$fullscreen.hasClass("off")&&e._$fullscreen.removeClass("off"),!0===e._data.isSkipBreaks&&e._currentPlayerWidth>680?(e._$skipBreaksText.html(t.t(e._data.skipBreakText)),e._$skipBreaks.show()):e._$skipBreaks.hide(),e._data.isUpnext&&!e._$upnext.is(":visible")?(e._$upnextText.html(t.t("Up Next")),e._$upnextContentTitle.html(this._data.upnextContentTitle),e._$upnextEpisode.html(this._data.upnextEpisode),e._$upnextThumbnailUrl.css("background-image","url("+this._data.upnextThumbnailUrl+")"),e._$upnext.show(),e._$playlist.is(":visible")&&e._event.emit(i.EVENT_PLAYLIST_CLICK)):!e._data.isUpnext&&e._$upnext.is(":visible")&&e._$upnext.hide(),e._data.playlistShow&&!e._$playlist.is(":visible")){var n;e._data.currentContentId;if(!0===e._data.enableEpisodeListDetailed)if(n=e._createPlaylistContents(e._data.episodeListData),e._data.enableSeasonList){e._$playlistTitle.html("<span class='chromecast-playlist-title-detailed'>"+e._data.episodeListData[0].season+" <span></span></span>"),e.$(".chromecast-playlist-title-detailed").off("click").on("click",function(){e.$(".chromecast-playlist-title-dropdown-detailed").toggle()}).addClass("clickable");var a=document.createElement("ul");a.setAttribute("class","chromecast-playlist-title-dropdown-detailed");for(var o=0;o<e._data.seasonList.data.length;o++){var r=document.createElement("li");r.innerHTML=e._data.seasonList.data[o].name,r.setAttribute("id",e._data.seasonList.data[o].id),parseInt(e._data.seasonId)===e._data.seasonList.data[o].id&&r.setAttribute("class","active"),a.append(r)}e._$playlistTitle.append(a),e.$("ul.chromecast-playlist-title-dropdown-detailed").on("click",function(t){var n={contentId:l(t.target).closest("li")[0].id};e._event.emit(i.EVENT_PLAYLIST_SEASON_ITEM_CLICK,n)})}else e._$playlistTitle.html("<span class='chromecast-playlist-title-detailed'>"+e._data.episodeListData[0].season+"</span>");else n=e._createPlaylistContentsV1(e._data.episodeListData);e._$playlistContents.html(n),e._$playlist.show();var s="div.chromecast-playlist-wrap .playlist-table-row-detailed td.active";l("div.chromecast-playlist-wrap").animate({scrollTop:0},100,function(){l(s).length>0&&l("div.chromecast-playlist-wrap").animate({scrollTop:l(s).position().top},800)})}else!e._data.playlistShow&&e._$playlist.is(":visible")&&e._$playlist.hide();!0===e._data.enableControls?l(".control-box").removeClass("disable-chromecast-controls"):l(".control-box").addClass("disable-chromecast-controls"),e.$(".googlecast-progress .inner-bar").width(parseInt(this._data.position/this._data.duration*e.$(".block-progress").width())),!0===e._data.enableSkipBack?(e._$buttonSkipBack.show(),e._$buttonSkipBack.css("display","inline-block")):e._$buttonSkipBack.hide(),!0===e._data.enableSkipForward?(e._$buttonSkipForward.show(),e._$buttonSkipForward.css("display","inline-block")):e._$buttonSkipForward.hide(),e._data.isAdPlaying?e._hideSenderControlsOnAdPlay():e._showSenderControlsOnAdComplete(),e._data.isLive?(e._$elapsed.html(t.t("Live broadcast")),e._$duration.css("visibility","hidden"),e._$progressBlock.css("visibility","hidden")):(e._$elapsed.html(e.formatDuration(e._data.position)),e._$duration.html(e.formatDuration(e._data.duration)),e._$duration.css("visibility","visible"),e._$progressBlock.css("visibility","visible"))},h._hideSenderControlsOnAdPlay=function(){var e=this,t=m().getInstance();e._$adsStatusText.html(t.t("Ad playing")),e._$adsStatus.show(),e._$buttonPlay.hide(),e._$buttonSkipBack.hide(),e._$buttonSkipForward.hide(),e._$elapsed.hide(),e._$duration.hide(),e._$cc.hide(),e._$buttonPlaylist.hide(),e._$fullscreen.hide(),e._$volumeBlock.hide(),e._$progressBlock.hide(),e._$disconnectBlock.css("float","right"),e._$playlist.hide(),e._$skipBreaks.hide()},h._createPlaylistContents=function(e){var t=this;m().getInstance();if(c.isEmpty(e))return"";var n=e,i=t._data.isAuthenticated,a=parseInt(t._data.currentContentId),o=document.createElement("table");t.$(".block-chromecast-playlist").css("width",410),t.$(".block-chromecast-playlist").css("height","80%"),t.$(".block-chromecast-playlist").css("top","auto"),t.$(".block-chromecast-playlist").css("bottom",46),t.$(".block-chromecast-playlist").css("border-top-width",1),t.$(".block-chromecast-playlist").css("border-top-style","solid"),t.$(".block-chromecast-playlist").css("border-top-color","#585858"),o.setAttribute("class","playlist-table-detailed");for(var r=0;r<n.length;r++){var s=o.insertRow();s.setAttribute("class","playlist-table-row-detailed"),s.setAttribute("id",n[r].id);var d=s.insertCell();d.setAttribute("class","playlist-table-icon-detailed");var u=document.createElement("span"),p=document.createElement("span");p.appendChild(document.createTextNode("Sign in"));for(var h=document.createElement("img"),f=0;f<n[r].images.length;f++)if("thumbnail"==n[r].images[f].Type){h.src=n[r].images[f].Url+"?height=160maintain_aspect=1&size=160";break}var _=s.insertCell();n[r].id===a?(u.setAttribute("class","playlist-table-icon-image-detailed active"),_.setAttribute("class","playlist-table-cell-detailed active"),d.appendChild(u)):!0!==n[r].authentication.Required||i?(u.setAttribute("class","playlist-table-icon-image-detailed"),_.setAttribute("class","playlist-table-cell-detailed"),d.appendChild(u),l(s).hover(function(){l(".playlist-table-icon-detailed .playlist-table-icon-image-detailed",this).addClass("active")},function(){l(".playlist-table-icon-detailed .playlist-table-icon-image-detailed",this).removeClass("active")})):(s.classList.add("locked"),p.setAttribute("class","playlist-table-icon-image-detailed locked"),_.setAttribute("class","playlist-table-cell-detailed locked"),d.appendChild(p)),d.appendChild(h);var b="";Math.floor(n[r].duration/3600)>0&&(b=Math.floor(n[r].duration/3600)+"h "),Math.floor(n[r].duration%3600/60)>0&&(b=b+Math.floor(n[r].duration%3600/60)+"m "),Math.floor(n[r].duration%3600%60)>0&&(b=b+Math.floor(n[r].duration%3600%60)+"s");var v=document.createElement("h3"),g=document.createElement("p"),y=document.createElement("p");v.appendChild(document.createTextNode(n[r].episode+". "+n[r].title)),g.appendChild(document.createTextNode(n[r].description)),y.appendChild(document.createTextNode(b)),_.appendChild(v),_.appendChild(g),_.appendChild(y)}return o},h._createPlaylistContentsV1=function(e){var t=this,n=m().getInstance();if(c.isEmpty(e))return"";var i=e,a=t._data.isAuthenticated,o=parseInt(t._data.currentContentId),r=document.createElement("table");r.setAttribute("class","playlist-table");for(var s=0;s<i.length;s++){var l=r.insertRow();l.setAttribute("class","playlist-table-row");var d=l.insertCell();d.setAttribute("class","playlist-table-icon");var u=document.createElement("img");u.src=this._playlistPlayImg;var p=document.createElement("img");p.src=this._playlistLockImg;var h=l.insertCell();h.setAttribute("id",i[s].id),i[s].id===o?(u.setAttribute("class","playlist-table-icon-image active"),h.setAttribute("class","playlist-table-cell active"),d.appendChild(u)):!0!==i[s].authentication.Required||a?(u.setAttribute("class","playlist-table-icon-image"),h.setAttribute("class","playlist-table-cell"),d.appendChild(u)):(p.setAttribute("class","playlist-table-icon-image locked"),h.setAttribute("class","playlist-table-cell locked"),d.appendChild(p)),h.appendChild(document.createTextNode(i[s].episode+". "+i[s].title));var f=r.insertRow();f.setAttribute("class","playlist-table-error"),f.setAttribute("id","e_"+i[s].id);f.insertCell();f.insertCell().appendChild(document.createTextNode(n.t("Sign in required")))}return r},h._displayErrorMessage=function(e){for(var t=document.getElementById("e_"+e),n=document.getElementsByClassName("playlist-table-error"),i=0;i<n.length;i++)l(n[i]).hide();l(t).show()},h._showSenderControlsOnAdComplete=function(){var e=this;e._$adsStatus.hide(),e._$buttonPlay.css("display","inline-block"),e._$elapsed.css("display","inline-block"),e._$duration.css("display","inline-block"),e._$fullscreen.css("display","inline-block"),e._$volumeBlock.css("display","inline-block"),e._$progressBlock.css("display","table-cell"),e._$disconnectBlock.css("float","none"),!0===e._data.isClosedCaptions&&e._$cc.css("display","inline-block"),!0===e._data.enableEpisodeList&&e._$buttonPlaylist.css("display","inline-block")},h._updateVolumeSlider=function(e){var t=this;e<0?e=0:e>100&&(e=100),t._$volumeSliderTrack.css("height",e+"%"),t._$volumeSliderKnob.css("bottom",e+"%"),t._volumeLevel=e,t._event.emit(i.EVENT_VOLUME_CHANGE,e)},h._attachEvents=function(){var e=this,t=e.$(".block-progress"),n=e.$(".googlecast-progress .inner-bar"),a=0,o=t.offset().left,r=t.width(),s=e._volumeLevel,c=e._$volumeSliderContainer.offset().top,d=e._$volumeSliderContainer.outerHeight(!0),u=c+d;e._$buttonPlaylist.on("click",function(){e._event.emit(i.EVENT_PLAYLIST_CLICK)}),e._$playlistDismiss.on("click",function(){e._event.emit(i.EVENT_PLAYLIST_CLICK)}),e._$playlistTableCell.on("click",function(t){var n={contentId:l(t.target).closest("tr")[0].id};t.srcElement.closest("tr").className.split(" ").includes("locked")?e._displayErrorMessage(n.contentId):e._event.emit(i.EVENT_PLAYLIST_ITEM_CLICK,n)}),e._$buttonPlay.on("click",function(){e._data.isPlaying?e._event.emit(i.EVENT_PAUSE_CLICK):e._event.emit(i.EVENT_PLAY_CLICK)}),e._$buttonSkipBack.on("click",function(){n.width(n.width()-10*t.width()/e._data.duration),e._data.position-=10,e._$elapsed.html(e.formatDuration(e._data.position)),e._event.emit(i.EVENT_SKIP_BACK_CLICK)}),e._$buttonSkipForward.on("click",function(){n.width(n.width()+10*t.width()/e._data.duration),e._data.position+=10,e._$elapsed.html(e.formatDuration(e._data.position)),e._event.emit(i.EVENT_SKIP_FORWARD_CLICK)}),e.$(".block-progress").on("mousedown",function(s){t=e.$(".block-progress"),o=t.offset().left,r=t.width(),a=s.clientX-o,l(document).one("mouseup",function(o){e.$el.off("mousemove.chromecast"),n.width(a),e._event.emit(i.EVENT_SEEK_CLICK,a/t.width()*100)}),e.$el.on("mousemove.chromecast",function(e){var t=e.clientX-o;a=t<0?0:t>r?r:t,n.width(a)})}),e._$buttonVolume.on("click",function(){e._data.isMuted?e._event.emit(i.EVENT_UNMUTE_CLICK):e._event.emit(i.EVENT_MUTE_CLICK)}),e._$volumeSliderContainer.on("mousedown",function(t){c=e._$volumeSliderContainer.offset().top,d=e._$volumeSliderContainer.outerHeight(!0),u=c+d,l(document).one("mouseup",function(t){e.$el.off("mousemove.chromecast"),s=Math.round((u-t.clientY)/d*100),e._updateVolumeSlider(s)}),e.$el.on("mousemove.chromecast",function(t){s=Math.round((u-t.clientY)/d*100),e._updateVolumeSlider(s)})}),e._$disconnect.on("click",function(){e._event.emit(i.EVENT_DISCONNECT)}),e._$cc.on("click",function(){e._event.emit(i.EVENT_CLOSED_CAPTIONS_CLICK)}),e._$fullscreen.on("click",function(){e._event.emit(i.EVENT_FULLSCREEN_CLICK)}),e._$upnextButtonPlay.on("click",function(){e._event.emit(i.EVENT_UPNEXT_PLAY_BUTTON_CLICK)}),e._$upnextButtonStop.on("click",function(){e._event.emit(i.EVENT_UPNEXT_STOP_BUTTON_CLICK)}),e._$skipBreaks.on("click",function(){e._event.emit(i.EVENT_SKIP_BREAK_BUTTON_CLICK,{skipMessage:e._data.skipBreakText,endTime:e._data.skipEndTime})})},h.formatDuration=function(e){function t(e){return("00"+Math.round(e)).slice(-2)}e=Math.floor(e);var n=Math.floor(e/3600),i=Math.floor(e/60)%60,a=e%60;return n?t(n)+":"+t(i)+":"+t(a):t(i)+":"+t(a)},h.setCurrentPlayerWidth=function(e){this._currentPlayerWidth=e},h.renderUpnextViewOnResize=function(e,t){t<=680?(l("#"+e+" .block-chromecast-upnext").addClass("font-size-12 max-width-680"),l("#"+e+" .block-chromecast-upnext .bm-upnext-metadata span").addClass("metadata-span"),l("#"+e+" .block-chromecast-upnext .bm-upnext-metadata .upnext-title").addClass("metadata-upnext-title"),l("#"+e+" .block-chromecast-upnext .bm-upnext-metadata .upnext-episode").addClass("metadata-upnext-episode"),l("#"+e+" .block-chromecast-upnext .upnext-image").addClass("metadata-upnext-image"),l("#"+e+" .block-chromecast-upnext .bm-upnext-controls span").addClass("metadata-controls-span")):(l("#"+e+" .block-chromecast-upnext").removeClass("font-size-12 max-width-680"),l("#"+e+" .block-chromecast-upnext .bm-upnext-metadata span").removeClass("metadata-span"),l("#"+e+" .block-chromecast-upnext .bm-upnext-metadata .upnext-title").removeClass("metadata-upnext-title"),l("#"+e+" .block-chromecast-upnext .bm-upnext-metadata .upnext-episode").removeClass("metadata-upnext-episode"),l("#"+e+" .block-chromecast-upnext .upnext-image").removeClass("metadata-upnext-image"),l("#"+e+" .block-chromecast-upnext .bm-upnext-controls span").removeClass("metadata-controls-span")),t<=500?(l(".media-name, .state-message").addClass("font-size-12"),l("#"+e+" .block-chromecast-upnext .bm-upnext-controls .upnext-button-stop").addClass("metadata-button-stop")):(l(".media-name, .state-message").removeClass("font-size-12"),l("#"+e+" .block-chromecast-upnext .bm-upnext-controls .upnext-button-stop").removeClass("metadata-button-stop")),t<=650?l(".content-name").hide():l(".content-name").show(),t<=380?l("#"+e+" .block-chromecast-upnext").addClass("max-width-380"):l("#"+e+" .block-chromecast-upnext").removeClass("max-width-380")},h.on=function(){this._event.on.apply(this._event,arguments)},h.once=function(){this._event.once.apply(this._event,arguments)},h.off=function(){this._event.off.apply(this._event,arguments)},i.EVENT_PLAY_CLICK="event_play_click",i.EVENT_PAUSE_CLICK="event_pause_click",i.EVENT_SEEK_CLICK="event_seek_click",i.EVENT_SKIP_BACK_CLICK="event_skip_back_click",i.EVENT_SKIP_FORWARD_CLICK="event_skip_forward_click",i.EVENT_MUTE_CLICK="event_mute_click",i.EVENT_UNMUTE_CLICK="event_unmute_click",i.EVENT_DISCONNECT="event_disconnect_click",i.EVENT_CLOSED_CAPTIONS_CLICK="EVENT_CLOSED_CAPTIONS_CLICK",i.EVENT_FULLSCREEN_CLICK="EVENT_FULLSCREEN_CLICK",i.EVENT_PLAYLIST_CLICK="event_playlist_click",i.EVENT_PLAYLIST_ITEM_CLICK="event_playlist_item_click",i.EVENT_PLAYLIST_SEASON_ITEM_CLICK="event_playlist_season_item_click",i.EVENT_UPNEXT_PLAY_BUTTON_CLICK="event_upnext_play_button_click",i.EVENT_UPNEXT_STOP_BUTTON_CLICK="event_upnext_stop_button_click",i.EVENT_VOLUME_CHANGE="event_volume_change",i.EVENT_SKIP_BREAK_BUTTON_CLICK="event_skip_break_button_click",t.exports=i},{"./templates/bm-view-chromecast-vidi.tpl":223,"./templates/css/bm-view-chromecast-vidi.css.tpl":224,"./templates/css/bm-view-chromecast-vidi.scss":225,"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"@bellmedia/bm-base-view":10,"bm-css-injector":47,"bm-service-factory-translation":120,jquery:18,underscore:32}],223:[function(e,t,n){
t.exports='<header>\n  <div class="media-name"><%= mediaName %></div>\n  <div class="content-name"><%= contentName%></div>\n</header>\n<div class="state-message"></div>\n<div class="block-chromecast-playlist">\n <div class="playlist-header">\n    <div class="chromecast-playlist-title"></div>\n    <span class="chromecast-button-dismiss">&#10005;</span> \n  </div>\n  <div class="chromecast-playlist-wrap">\n    <div class="chromecast-playlist-contents"></div>\n  </div>\n</div>\n<div class="block-chromecast-upnext"> \n  <div class="upnext-image bm-float-left"></div> \n  <div class="bm-float-left bm-upnext-metadata">\n    <span class="upnext-static-text"></span>\n    <span class="upnext-title"></span>\n    <span class="upnext-episode"></span>\n  </div>\n  <div class="bm-float-left bm-upnext-controls">\n    <span class="upnext-button-play bm-float-left"></span>\n    <span class="upnext-button-stop bm-float-left"></span>\n  </div>\n</div>\n<div class="block-chromecast-skipbreaks">\n  <div class="bm-float-left skip-break-text"></div>\n  <div class="bm-float-left skip-break-button"></div>\n  <div class="bm-float-left skip-break-button"></div>\n</div>\n<footer class="clearfix">\n  <div class="control-box">\n    <div class="block-play">\n      <span class="googlecast-button-play"></span>\n    </div>\n    <div class="block-ads-status">\n      <span class="ads-status-text"></span>\n    </div>\n    <div class="block-skip-back">\n      <span class="googlecast-button-skip-back"></span>\n    </div>\n    <div class="block-skip-forward">\n      <span class="googlecast-button-skip-forward"></span>\n    </div>\n    <div class="block-elapsed">\n      <span class="googlecast-elapsed">00:00</span>\n    </div>\n    <div class="block-progress">\n      <span class="googlecast-progress" data-min="0" data-max="317" data-value="0"><span class="inner-bar"></span></span>\n    </div>\n    <div class="block-duration">\n      <span class="googlecast-duration">00:00</span>\n    </div>\n    <div class="block-disconnect">\n      <span class="googlecast-disconnect"></span>\n    </div>\n    <div class="block-playlist">\n      <span class="googlecast-button-playlist"></span>\n    </div>    \n    <div class="block-button-cc">\n      <span class="googlecast-button-cc"></span>\n    </div>    \n    <div class="block-volume">\n      <span class="googlecast-button-volume"></span>\n      <div class="googlecast-volume-slider-container">\n        <div class="googlecast-volume-slider-background">\n          <div class="googlecast-volume-slider-track"></div>\n          <span class="googlecast-volume-slider-knob"></span>\n        </div>\n      </div>\n    </div>\n    <div class="block-fullscreen">\n      <span class="googlecast-button-fullscreen"></span>\n    </div>\n  </div>\x3c!-- .control-box --\x3e\n</footer>\n'},{}],224:[function(e,t,n){t.exports='.bm-view-chromecast-vidi footer .block-play .googlecast-button-play {\n  background-image: url("<%- urlPlayButtonImage %>");\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n.bm-view-chromecast-vidi footer .block-play .googlecast-button-play.status-playing {\n  background-image: url("<%- urlPauseButtonImage %>");\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n.bm-view-chromecast-vidi footer .block-skip-back .googlecast-button-skip-back {\n  background-image: url("<%- urlSkipBackButtonImage %>");\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n.bm-view-chromecast-vidi footer .block-skip-forward .googlecast-button-skip-forward {\n  background-image: url("<%- urlSkipForwardButtonImage %>");\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n.bm-view-chromecast-vidi footer .block-disconnect .googlecast-disconnect {\n  background-image: url("<%- urlCastButtonImageConnected %>");\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n.bm-view-chromecast-vidi footer .block-volume .googlecast-button-volume {\n  background-image: url("<%- urlVolumeHighButtonImage %>");\n  background-size: contain;\n  background-repeat: no-repeat;\n\n}\n\n.bm-view-chromecast-vidi footer .block-volume .googlecast-button-volume.mute {\n  background-image: url("<%- urlVolumeMuteButtonImage %>");\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n.bm-view-chromecast-vidi footer .block-button-cc .googlecast-button-cc.enable-cc {\n  background-image: url("<%- urlClosedCaptionButtonImageOn %>");\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n.bm-view-chromecast-vidi footer .block-fullscreen .googlecast-button-fullscreen {\n  background-image: url("<%- urlFullscreenButtonImageOn %>");\n  background-size:contain;\n  background-repeat: no-repeat;\n}\n\n.bm-view-chromecast-vidi footer .block-fullscreen .googlecast-button-fullscreen.off {\n  background-image: url("<%- urlFullscreenButtonImageOff %>");\n  background-size:contain;\n  background-repeat: no-repeat;\n}\n\n.bm-view-chromecast-vidi footer .block-playlist .googlecast-button-playlist {\n  background-image: url("<%- urlPlaylistButtonImage %>");\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n.bm-view-chromecast-vidi footer .block-button-cc .googlecast-button-cc {\n  background-image: url("<%- urlClosedCaptionButtonImageOff %>");\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n.bm-view-chromecast-vidi .block-progress .googlecast-progress .inner-bar{\n  background-color: <%- brandColor %> !important;\n}\n\n.bm-view-chromecast-vidi footer .block-volume .googlecast-volume-slider-container {\n  display: none;\n  width:30px;\n  height:95px;\n  background: rgba(0,0,0,0);\n  position: absolute;\n  left:0;\n  margin:0;\n  bottom:100%;\n  cursor: pointer;\n}\n\n.bm-view-chromecast-vidi footer .block-volume .googlecast-volume-slider-background {\n  position: absolute;\n  left: 7px;\n  margin: 0;\n  min-height: 44px;\n  text-align: left;\n  background: #ffffff;\n  color: #ffffff;\n  border-top-left-radius: 3px;\n  border-top-right-radius: 3px;\n  border-bottom-left-radius: 3px;\n  border-bottom-right-radius: 3px;\n  height: 88px;\n  width: 5px;\n}\n\n.bm-view-chromecast-vidi footer .block-volume .googlecast-volume-slider-track {\n  text-align: left;\n  font-family: Arial,Helvetica,sans-serif;\n  background: <%- brandColor %> !important;\n  color: <%- brandColor %> !important;\n  border-top-left-radius: 3px;\n  border-top-right-radius: 3px;\n  border-bottom-left-radius: 3px;\n  border-bottom-right-radius: 3px;\n  position: absolute;\n  display: block;\n  border: 0;\n  background-position: 0 0;\n  left: 0;\n  width: 5px;\n  bottom: 0;\n  height: 100%;\n}\n\n.bm-view-chromecast-vidi footer .block-volume .googlecast-volume-slider-knob {\n  text-align: left;\n  box-sizing: inherit;\n  background-color: #fff;\n  border-radius: 50%;\n  box-shadow: 0 0 10px rgba(0,0,0,0.4);\n  position: absolute;\n  z-index: 2;\n  width: 13px;\n  height: 13px;\n  cursor: default;\n  touch-action: none;\n  left: -4px;\n  margin-left: 0;\n  margin-bottom: -7px;\n  border: 1px solid #c5c5c5;\n  background: #ffffff;\n  color: #ffffff;\n  bottom: 100%;\n  cursor: pointer;\n}\n\n.block-chromecast-upnext{\n  background-color: <%- bgColorUpnext %> !important;\n}\n\n.block-chromecast-upnext .upnext-button-play{\n  background-image: url("<%- urlPlayButtonImage %>");\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n.block-chromecast-upnext .upnext-button-stop {\n  background-image: url("<%- urlStopButtonImage %>");\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n.bm-view-chromecast-vidi .block-chromecast-skipbreaks div.skip-break-button {\n    background: url("<%- urlPlayButtonImage %>");\n    background-size: contain;\n    width: 13px;\n    height: 13px;\n    margin-top: 4px;\n    background-position: center;\n    background-repeat: no-repeat;\n}\n'},{}],225:[function(e,t,n){t.exports=".bm-video-player-bm-view-chromecast-vidi.jwplayer .jw-controls-right,\n.bm-video-player-bm-view-chromecast-vidi.jwplayer.jw-flag-ads .jw-controls-right {\n  z-index: 1; }\n  .bm-video-player-bm-view-chromecast-vidi.jwplayer .jw-controls-right .jw-dock,\n  .bm-video-player-bm-view-chromecast-vidi.jwplayer.jw-flag-ads .jw-controls-right .jw-dock {\n    display: inherit !important;\n    visibility: inherit !important;\n    opacity: inherit !important; }\n\n.jwplayer .jw-controls-right .hide-button-cast {\n  display: none !important; }\n\n.bm-view-chromecast-vidi {\n  box-sizing: border-box;\n  background-color: black;\n  color: #ffffff;\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%; }\n  .bm-view-chromecast-vidi * {\n    box-sizing: border-box; }\n  .bm-view-chromecast-vidi .clearfix:after {\n    display: table;\n    content: \"\";\n    clear: both;\n    visibility: hidden; }\n  .bm-view-chromecast-vidi header div {\n    font-size: 14px;\n    font-weight: 400;\n    padding: 0 0 3px 13px; }\n    .bm-view-chromecast-vidi header div.media-name {\n      font-weight: 700;\n      font-size: 1em;\n      padding-top: 14px; }\n  .bm-view-chromecast-vidi div.state-message {\n    position: absolute;\n    top: 50%;\n    width: 100%;\n    text-align: center;\n    transform: translateY(-50%); }\n  .bm-view-chromecast-vidi .button-dismiss {\n    color: #eae9e9;\n    cursor: pointer;\n    padding: 5px;\n    position: absolute;\n    right: 0;\n    top: 0; }\n  .bm-view-chromecast-vidi .block-chromecast-playlist {\n    background: rgba(0, 0, 0, 0.85);\n    color: #ffffff;\n    height: calc(100% - 2.75em);\n    right: 0;\n    position: absolute;\n    top: 0;\n    width: 250px;\n    border-left: 1px solid #585858;\n    display: none; }\n    .bm-view-chromecast-vidi .block-chromecast-playlist div.playlist-header {\n      position: relative;\n      padding: 10px 0 0 10px; }\n      .bm-view-chromecast-vidi .block-chromecast-playlist div.playlist-header div.chromecast-playlist-title {\n        height: 18px;\n        font-family: Arial;\n        font-size: 16px;\n        font-weight: bold;\n        font-style: normal;\n        font-stretch: normal;\n        line-height: 1.13em;\n        letter-spacing: normal;\n        text-align: left;\n        color: #ffffff; }\n        .bm-view-chromecast-vidi .block-chromecast-playlist div.playlist-header div.chromecast-playlist-title span.chromecast-playlist-title-detailed {\n          padding: 3px 10px 3px 10px;\n          position: absolute;\n          margin-left: 15px;\n          left: 0px;\n          top: 15px;\n          font-size: 14px;\n          font-weight: bold;\n          background-color: #ffffff;\n          color: #000000; }\n        .bm-view-chromecast-vidi .block-chromecast-playlist div.playlist-header div.chromecast-playlist-title span.clickable {\n          cursor: pointer; }\n        .bm-view-chromecast-vidi .block-chromecast-playlist div.playlist-header div.chromecast-playlist-title ul.chromecast-playlist-title-dropdown-detailed {\n          position: absolute;\n          display: none;\n          top: 24px;\n          left: 0px;\n          font-size: 14px;\n          margin-top: 22px;\n          margin-left: 15px;\n          padding: 3px 28px 3px 10px;\n          z-index: 100;\n          font-weight: normal;\n          list-style-image: none;\n          list-style-type: none;\n          background-color: #ffffff;\n          color: #000000; }\n        .bm-view-chromecast-vidi .block-chromecast-playlist div.playlist-header div.chromecast-playlist-title ul.chromecast-playlist-title-dropdown-detailed li {\n          padding: 3px 0 3px 0;\n          cursor: pointer; }\n        .bm-view-chromecast-vidi .block-chromecast-playlist div.playlist-header div.chromecast-playlist-title ul.chromecast-playlist-title-dropdown-detailed li.active {\n          cursor: default;\n          font-weight: bold; }\n      .bm-view-chromecast-vidi .block-chromecast-playlist div.playlist-header span.chromecast-button-dismiss {\n        color: #ffffff;\n        cursor: pointer;\n        padding: 3px;\n        position: absolute;\n        right: 25px;\n        top: 15px;\n        font-size: 16px; }\n    .bm-view-chromecast-vidi .block-chromecast-playlist div.chromecast-playlist-wrap {\n      box-sizing: border-box;\n      padding: 0 19px 0 14px;\n      margin-top: 20px;\n      position: absolute;\n      width: 100%;\n      font-size: 12px;\n      overflow-y: auto;\n      scrollbar-width: none;\n      -ms-overflow-style: none;\n      text-align: left;\n      height: 85%; }\n      .bm-view-chromecast-vidi .block-chromecast-playlist div.chromecast-playlist-wrap tr.playlist-table-row-detailed.locked td.playlist-table-icon-detailed {\n        cursor: default; }\n      .bm-view-chromecast-vidi .block-chromecast-playlist div.chromecast-playlist-wrap tr.playlist-table-row-detailed.locked td.playlist-table-cell-detailed.locked {\n        cursor: default;\n        color: #aeaeae; }\n      .bm-view-chromecast-vidi .block-chromecast-playlist div.chromecast-playlist-wrap td.playlist-table-cell {\n        cursor: pointer;\n        font-family: Arial;\n        font-size: 14px;\n        font-weight: normal;\n        font-style: normal;\n        font-stretch: normal;\n        letter-spacing: normal;\n        text-align: left;\n        color: #aeaeae;\n        padding-top: 16px; }\n      .bm-view-chromecast-vidi .block-chromecast-playlist div.chromecast-playlist-wrap td.playlist-table-cell.active {\n        color: #ffffff; }\n      .bm-view-chromecast-vidi .block-chromecast-playlist div.chromecast-playlist-wrap td.playlist-table-cell:hover {\n        text-decoration-line: underline; }\n      .bm-view-chromecast-vidi .block-chromecast-playlist div.chromecast-playlist-wrap td.playlist-table-cell.active:hover {\n        text-decoration-line: none;\n        cursor: default; }\n      .bm-view-chromecast-vidi .block-chromecast-playlist div.chromecast-playlist-wrap td.playlist-table-icon {\n        width: 11px;\n        vertical-align: top; }\n        .bm-view-chromecast-vidi .block-chromecast-playlist div.chromecast-playlist-wrap td.playlist-table-icon img.playlist-table-icon-image {\n          display: none; }\n        .bm-view-chromecast-vidi .block-chromecast-playlist div.chromecast-playlist-wrap td.playlist-table-icon img.playlist-table-icon-image.active {\n          display: inherit;\n          padding-top: 19px;\n          padding-left: 5px;\n          width: auto;\n          height: auto; }\n        .bm-view-chromecast-vidi .block-chromecast-playlist div.chromecast-playlist-wrap td.playlist-table-icon img.playlist-table-icon-image.locked {\n          display: inherit;\n          width: 19px;\n          padding-top: 13px;\n          opacity: 0.5; }\n      .bm-view-chromecast-vidi .block-chromecast-playlist div.chromecast-playlist-wrap tr.playlist-table-error {\n        height: 15.9px;\n        font-family: Arial;\n        font-size: 12px;\n        font-weight: normal;\n        font-style: normal;\n        font-stretch: normal;\n        line-height: 1.33;\n        letter-spacing: normal;\n        text-align: left;\n        color: #aeaeae;\n        display: none; }\n      .bm-view-chromecast-vidi .block-chromecast-playlist div.chromecast-playlist-wrap td.playlist-table-cell-detailed {\n        cursor: pointer;\n        font-family: Arial;\n        font-size: 12px;\n        font-weight: normal;\n        font-style: normal;\n        font-stretch: normal;\n        letter-spacing: normal;\n        text-align: left;\n        color: #aeaeae;\n        padding-left: 7px;\n        vertical-align: top; }\n        .bm-view-chromecast-vidi .block-chromecast-playlist div.chromecast-playlist-wrap td.playlist-table-cell-detailed h3 {\n          padding: 0px;\n          font-size: 12px;\n          font-weight: bold;\n          line-height: 1.2em; }\n        .bm-view-chromecast-vidi .block-chromecast-playlist div.chromecast-playlist-wrap td.playlist-table-cell-detailed p {\n          padding: 2px 0px 7px 0px;\n          margin: 0px;\n          font-size: 11px;\n          font-weight: normal;\n          line-height: 1.2em; }\n      .bm-view-chromecast-vidi .block-chromecast-playlist div.chromecast-playlist-wrap td.playlist-table-cell-detailed.active {\n        color: #ffffff; }\n      .bm-view-chromecast-vidi .block-chromecast-playlist div.chromecast-playlist-wrap td.playlist-table-cell-detailed:hover {\n        color: #ffffff; }\n      .bm-view-chromecast-vidi .block-chromecast-playlist div.chromecast-playlist-wrap td.playlist-table-cell-detailed.active:hover {\n        text-decoration-line: none;\n        cursor: default; }\n      .bm-view-chromecast-vidi .block-chromecast-playlist div.chromecast-playlist-wrap td.playlist-table-icon-detailed {\n        width: 160px;\n        vertical-align: top;\n        cursor: pointer; }\n        .bm-view-chromecast-vidi .block-chromecast-playlist div.chromecast-playlist-wrap td.playlist-table-icon-detailed img.playlist-table-icon-image-detailed {\n          display: none; }\n        .bm-view-chromecast-vidi .block-chromecast-playlist div.chromecast-playlist-wrap td.playlist-table-icon-detailed span.playlist-table-icon-image-detailed.active {\n          width: 30px;\n          height: 30px;\n          background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='iso-8859-1'%3F%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='episode_play' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 142.448 142.448' style='enable-background:new 0 0 142.448 142.448;' xml:space='preserve'%3E%3Cg%3E%3Cpath style='fill:%23FFFFFF;' d='M142.411,68.9C141.216,31.48,110.968,1.233,73.549,0.038c-20.361-0.646-39.41,7.104-53.488,21.639 C6.527,35.65-0.584,54.071,0.038,73.549c1.194,37.419,31.442,67.667,68.861,68.861c0.779,0.025,1.551,0.037,2.325,0.037 c19.454,0,37.624-7.698,51.163-21.676C135.921,106.799,143.033,88.377,142.411,68.9z M111.613,110.336 c-10.688,11.035-25.032,17.112-40.389,17.112c-0.614,0-1.228-0.01-1.847-0.029c-29.532-0.943-53.404-24.815-54.348-54.348 c-0.491-15.382,5.122-29.928,15.806-40.958c10.688-11.035,25.032-17.112,40.389-17.112c0.614,0,1.228,0.01,1.847,0.029 c29.532,0.943,53.404,24.815,54.348,54.348C127.91,84.76,122.296,99.306,111.613,110.336z'/%3E%3Cpath style='fill:%23FFFFFF;' d='M94.585,67.086L63.001,44.44c-3.369-2.416-8.059-0.008-8.059,4.138v45.293 c0,4.146,4.69,6.554,8.059,4.138l31.583-22.647C97.418,73.331,97.418,69.118,94.585,67.086z'/%3E%3C/g%3E%3C/svg%3E%0A\");\n          background-repeat: no-repeat;\n          position: absolute;\n          display: inline;\n          margin: 30px 0 0 65px; }\n        .bm-view-chromecast-vidi .block-chromecast-playlist div.chromecast-playlist-wrap td.playlist-table-icon-detailed span.playlist-table-icon-image-detailed.locked {\n          width: 160px;\n          height: 90px;\n          background: rgba(74, 73, 73, 0.8);\n          background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23ccc;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3EVidi_icon_Lock%3C/title%3E%3Cpath class='cls-1' d='M7,26.5H25v-12H22.94V13.05a8.24,8.24,0,0,0-2-5.41A6.84,6.84,0,0,0,16,5.5h0a6.77,6.77,0,0,0-4.92,2.14,8.24,8.24,0,0,0-2,5.4V14.5H7Zm4.55-13.45a5.93,5.93,0,0,1,1.32-3.77h0A4.34,4.34,0,0,1,16,7.89h0a4.35,4.35,0,0,1,3.13,1.38h0a5.87,5.87,0,0,1,1.32,3.77V14.5H11.54V13.05Z'/%3E%3C/svg%3E\");\n          background-repeat: no-repeat;\n          position: absolute;\n          display: inline;\n          margin: 0px 0 0 67px;\n          padding-left: 64px;\n          padding-top: 40px;\n          left: -50px;\n          background-size: 18px 18px;\n          background-position: 45px 37px; }\n      .bm-view-chromecast-vidi .block-chromecast-playlist div.chromecast-playlist-wrap tr.playlist-table-error-detailed {\n        height: 15.9px;\n        font-family: Arial;\n        font-size: 12px;\n        font-weight: normal;\n        font-style: normal;\n        font-stretch: normal;\n        line-height: 1.33;\n        letter-spacing: normal;\n        text-align: left;\n        color: #aeaeae;\n        display: none; }\n    .bm-view-chromecast-vidi .block-chromecast-playlist div.chromecast-playlist-wrap::-webkit-scrollbar {\n      /* WebKit */\n      width: 0;\n      height: 0; }\n  .bm-view-chromecast-vidi .block-chromecast-upnext {\n    position: absolute;\n    font-size: 14px;\n    overflow: hidden;\n    width: 70%;\n    max-width: 575px;\n    height: 120px;\n    pointer-events: all;\n    letter-spacing: 0.3px;\n    left: 0;\n    right: 0;\n    margin-left: auto;\n    margin-right: auto;\n    bottom: 45px;\n    display: none; }\n    .bm-view-chromecast-vidi .block-chromecast-upnext div.upnext-image {\n      width: 30%;\n      max-width: 199.7px;\n      position: relative;\n      background-position: 50%;\n      background-repeat: no-repeat;\n      background-size: cover;\n      overflow: hidden;\n      width: 30%;\n      height: 100%; }\n    .bm-view-chromecast-vidi .block-chromecast-upnext div.bm-upnext-metadata {\n      width: 50%;\n      position: absolute;\n      margin-left: 30%;\n      top: 15%;\n      left: 10px;\n      display: flex;\n      justify-content: center;\n      flex-direction: column;\n      flex-wrap: wrap; }\n      .bm-view-chromecast-vidi .block-chromecast-upnext div.bm-upnext-metadata :nth-child(1) {\n        text-transform: uppercase;\n        margin-top: -5px;\n        margin-bottom: 15px; }\n      .bm-view-chromecast-vidi .block-chromecast-upnext div.bm-upnext-metadata :nth-child(2) {\n        font-weight: bold; }\n      .bm-view-chromecast-vidi .block-chromecast-upnext div.bm-upnext-metadata span {\n        margin: 5px 5px 5px 20px;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        display: inline-block;\n        max-width: 250px; }\n      .bm-view-chromecast-vidi .block-chromecast-upnext div.bm-upnext-metadata span.metadata-span {\n        max-width: 150px;\n        margin: 0; }\n      .bm-view-chromecast-vidi .block-chromecast-upnext div.bm-upnext-metadata span.metadata-upnext-title {\n        margin: 10px 0 0 0; }\n      .bm-view-chromecast-vidi .block-chromecast-upnext div.bm-upnext-metadata span.metadata-upnext-episode {\n        margin: 5px 0; }\n    .bm-view-chromecast-vidi .block-chromecast-upnext div.bm-upnext-controls {\n      position: absolute;\n      right: 0;\n      top: 25%; }\n      .bm-view-chromecast-vidi .block-chromecast-upnext div.bm-upnext-controls span {\n        display: inline-block;\n        margin: 15px;\n        height: 25px;\n        width: 25px;\n        cursor: pointer; }\n      .bm-view-chromecast-vidi .block-chromecast-upnext div.bm-upnext-controls span.metadata-controls-span {\n        margin: 10px; }\n      .bm-view-chromecast-vidi .block-chromecast-upnext div.bm-upnext-controls span.metadata-button-stop {\n        margin-right: 25px; }\n    .bm-view-chromecast-vidi .block-chromecast-upnext div.metadata-upnext-image {\n      max-width: 112px; }\n  .bm-view-chromecast-vidi div.max-width-680 {\n    width: 364px;\n    height: 94px; }\n  .bm-view-chromecast-vidi div.max-width-380 {\n    width: 300px;\n    height: 94px; }\n  .bm-view-chromecast-vidi .bm-float-left {\n    float: left; }\n  .bm-view-chromecast-vidi div.font-size-12 {\n    font-size: 12px !important; }\n  .bm-view-chromecast-vidi .block-chromecast-skipbreaks {\n    position: absolute;\n    overflow: hidden;\n    max-width: 500px;\n    pointer-events: all;\n    bottom: 60px;\n    cursor: pointer;\n    font-weight: bold;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.42em;\n    letter-spacing: normal;\n    margin: 0px 15px;\n    text-transform: uppercase;\n    border: solid 2px #a5a5a5;\n    background-color: rgba(0, 0, 0, 0.8);\n    padding: 11px 15px;\n    display: none;\n    height: 44.8px; }\n    .bm-view-chromecast-vidi .block-chromecast-skipbreaks div.skip-break-text {\n      margin-right: 5px; }\n    .bm-view-chromecast-vidi .block-chromecast-skipbreaks div:nth-child(3) {\n      margin-left: -5.5px; }\n\n.bm-view-chromecast-vidi footer {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  height: 40px;\n  width: 100%; }\n  .bm-view-chromecast-vidi footer .control-box {\n    position: relative;\n    display: table;\n    margin: 0 auto;\n    width: 100%;\n    height: 100%; }\n  .bm-view-chromecast-vidi footer .hidden {\n    display: none; }\n  .bm-view-chromecast-vidi footer .block-play {\n    display: table-cell;\n    white-space: nowrap;\n    height: 100%;\n    position: relative; }\n    .bm-view-chromecast-vidi footer .block-play .googlecast-button-play {\n      display: inline-block;\n      height: 1.2em;\n      padding: 0 .6em;\n      margin: 0 .5em;\n      line-height: 2.5em;\n      vertical-align: middle;\n      cursor: pointer; }\n  .bm-view-chromecast-vidi footer .block-ads-status {\n    width: 70.3px;\n    height: 17px;\n    border-radius: 2px;\n    background-color: #e8ad0d;\n    text-align: center;\n    float: left;\n    margin-left: 10px; }\n    .bm-view-chromecast-vidi footer .block-ads-status .ads-status-text {\n      width: 70.3px;\n      font-size: 10px;\n      font-weight: normal;\n      font-style: normal;\n      font-stretch: normal;\n      letter-spacing: normal;\n      color: #000000;\n      line-height: 1.6;\n      display: table-cell; }\n  .bm-view-chromecast-vidi footer .block-skip-back {\n    display: table-cell;\n    white-space: nowrap;\n    height: 100%;\n    position: relative; }\n    .bm-view-chromecast-vidi footer .block-skip-back .googlecast-button-skip-back {\n      display: inline-block;\n      height: 1.3em;\n      padding: 0 1em;\n      line-height: 2.5em;\n      vertical-align: middle;\n      cursor: pointer; }\n  .bm-view-chromecast-vidi footer .block-skip-forward {\n    display: table-cell;\n    white-space: nowrap;\n    height: 100%;\n    position: relative; }\n    .bm-view-chromecast-vidi footer .block-skip-forward .googlecast-button-skip-forward {\n      display: inline-block;\n      height: 1.3em;\n      padding: 0 1em;\n      line-height: 2.5em;\n      vertical-align: middle;\n      cursor: pointer; }\n  .bm-view-chromecast-vidi footer .block-progress {\n    display: table-cell;\n    white-space: nowrap;\n    width: 100%;\n    height: 100%;\n    position: relative;\n    padding: 0;\n    vertical-align: baseline;\n    cursor: pointer; }\n    .bm-view-chromecast-vidi footer .block-progress .googlecast-progress {\n      position: relative;\n      display: inline-block;\n      vertical-align: middle;\n      width: 100%;\n      height: 0.3em;\n      background-color: #333;\n      overflow: hidden; }\n      .bm-view-chromecast-vidi footer .block-progress .googlecast-progress .inner-bar {\n        position: absolute;\n        top: 0;\n        left: 0;\n        display: block;\n        height: 100%;\n        width: 0;\n        background-color: #d71d24; }\n  .bm-view-chromecast-vidi footer .block-duration,\n  .bm-view-chromecast-vidi footer .block-elapsed {\n    display: table-cell;\n    white-space: nowrap;\n    position: relative;\n    height: 100%; }\n    .bm-view-chromecast-vidi footer .block-duration .googlecast-duration,\n    .bm-view-chromecast-vidi footer .block-duration .googlecast-elapsed,\n    .bm-view-chromecast-vidi footer .block-elapsed .googlecast-duration,\n    .bm-view-chromecast-vidi footer .block-elapsed .googlecast-elapsed {\n      display: inline-block;\n      width: 100%;\n      color: #FFF;\n      text-align: center;\n      vertical-align: middle;\n      line-height: 2.5em;\n      font-size: 0.75em;\n      padding: 0 1em; }\n  .bm-view-chromecast-vidi footer .block-disconnect {\n    display: table-cell;\n    white-space: no-wrap;\n    position: relative;\n    height: 100%; }\n    .bm-view-chromecast-vidi footer .block-disconnect .googlecast-disconnect {\n      display: inline-block;\n      height: 1.3em;\n      padding: 0 1em;\n      line-height: 2.5em;\n      vertical-align: middle;\n      cursor: pointer; }\n  .bm-view-chromecast-vidi footer .block-volume {\n    display: table-cell;\n    white-space: nowrap;\n    position: relative;\n    height: 100%; }\n    .bm-view-chromecast-vidi footer .block-volume:hover .googlecast-volume-slider-container {\n      display: inline-block;\n      visibility: visible;\n      opacity: 1; }\n    .bm-view-chromecast-vidi footer .block-volume .googlecast-button-volume {\n      display: inline-block;\n      height: 1.3em;\n      padding: 0 1em;\n      line-height: 2.5em;\n      vertical-align: middle;\n      cursor: pointer; }\n  .bm-view-chromecast-vidi footer .block-button-cc {\n    display: table-cell;\n    white-space: nowrap;\n    position: relative;\n    height: 100%; }\n    .bm-view-chromecast-vidi footer .block-button-cc .googlecast-button-cc {\n      display: inline-block;\n      height: 1.3em;\n      padding: 0 1em;\n      line-height: 2.5em;\n      vertical-align: middle;\n      cursor: pointer; }\n  .bm-view-chromecast-vidi footer .block-fullscreen {\n    display: table-cell;\n    white-space: nowrap;\n    height: 100%;\n    position: relative; }\n    .bm-view-chromecast-vidi footer .block-fullscreen .googlecast-button-fullscreen {\n      display: inline-block;\n      height: 1.2em;\n      padding: 0 .6em;\n      margin: 0 .5em;\n      line-height: 2.5em;\n      vertical-align: middle;\n      cursor: pointer; }\n    .bm-view-chromecast-vidi footer .block-fullscreen .googlecast-button-fullscreen.off {\n      display: inline-block;\n      height: 1.2em;\n      padding: 0 .6em;\n      margin: 0 .5em;\n      line-height: 2.5em;\n      vertical-align: middle;\n      cursor: pointer; }\n  .bm-view-chromecast-vidi footer .block-playlist {\n    display: table-cell;\n    white-space: nowrap;\n    position: relative;\n    height: 100%; }\n    .bm-view-chromecast-vidi footer .block-playlist .googlecast-button-playlist {\n      display: inline-block;\n      height: 1.7em;\n      padding: 0 1.2em;\n      line-height: 2.5em;\n      vertical-align: middle;\n      cursor: pointer; }\n\n.bm-view-chromecast-vidi .disable-chromecast-controls {\n  opacity: 0.5;\n  pointer-events: none; }\n"},{}],226:[function(e,t,n){(function(n){(function(){"use strict";function a(e){if(!(this instanceof a))return new a(e);a.super_.call(this,d.create({id:d.uniqueId("bm-view-custom-playlist-vidi"),className:"bm-view-custom-playlist-vidi"},e)),this._playlistItemsRender=e.playlistItemsRender,this._nextPlaylistItemIndex=e.nextPlaylistItemIndex,this._numberOfItemsPerSlide=e.numberOfItemsPerSlide,this._event=s(),this._serviceMediaProvider=m().getInstance(),this._playIconImgUrl=e.playIconImgUrl,this._playLockIconImgUrl=e.playLockIconImgUrl,this._playerWidth=e.playerWidth}var o=e("@bellmedia/bm-base"),r=e("@bellmedia/bm-base-view"),s=e("@bellmedia/bm-base-event"),l=e("bm-css-injector"),c="undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null,d=e("underscore"),u=e("./templates/bm-view-custom-playlist-vidi.tpl"),p=e("./templates/css/bm-view-custom-playlist-vidi.scss"),m=e("bm-service-factory-media-provider"),h=e("bm-service-factory-translation"),f=e("bm-service-factory-auth");l().injectStyles(p,"bm-view-custom-playlist-vidi"),o.inherits(a,r);var _=a.prototype;_._playlistItemsRender=[],_._nextPlaylistItemIndex=0,_._numberOfItemsPerSlide=6,_._playIconImgUrl="",_._playLockIconImgUrl="",_._playerWidth=void 0,_._event=void 0,_._serviceMediaProvider=void 0,_._slideIndex=1,_.render=function(){var e=this,t=h().getInstance();f().getInstance().isAuthenticated().then(function(n){var o=e.compile(u,{videoItems:e._playlistItemsRender,playlistText:t.t("Playlist"),nextPlaylistItemIndex:e._nextPlaylistItemIndex,nextUpItemText:t.t("Next up"),numberOfItemsPerSlide:e._numberOfItemsPerSlide,playIconImgUrl:e._playIconImgUrl,playLockIconImgUrl:e._playLockIconImgUrl,isAuthenticated:n});for(e.$el.append(o),
i=e._numberOfItemsPerSlide;i<e._playlistItemsRender.length&&!(e._nextPlaylistItemIndex<i);i+=e._numberOfItemsPerSlide)e._slideIndex++;setTimeout(function(){e._createSlideshow()},100),e.$(".video-item").on("click",function(){e._event.emit(a.EVENT_PLAYLIST_ITEM_CLICK,{contentId:c(this).data("content-id")})}),e.$(".button-dismiss").off("click").on("click",function(){e._event.emit(a.EVENT_DISMISS_CLICK)}),e._displayPlaylistItems(e._playerWidth)})},_._displayPlaylistItems=function(e){e<280?(c(".bm-view-custom-playlist-vidi .video-item").addClass("video-item-max-width-280"),c(".bm-view-custom-playlist-vidi .icon-lock").addClass("icon-lock-max-width-280"),c(".bm-view-custom-playlist-vidi .title").addClass("title-max-width-280"),c(".bm-view-custom-playlist-vidi .duration").addClass("duration-max-width-280")):e<450&&e>=280?(c(".bm-view-custom-playlist-vidi .video-item").addClass("video-item-max-width-450"),c(".bm-view-custom-playlist-vidi .icon-lock").addClass("icon-lock-max-width-450")):e<650&&e>=450?c(".bm-view-custom-playlist-vidi .video-item").addClass("video-item-max-width-650"):e<800&&e>=650?c(".bm-view-custom-playlist-vidi .video-item").addClass("video-item-max-width-800"):e<1200&&e>=800?(c(".bm-view-custom-playlist-vidi .video-list-container").addClass("video-list-container-max-width-1200"),c(".bm-view-custom-playlist-vidi .video-item").addClass("video-item-max-width-1200")):e>=1200&&c(".bm-view-custom-playlist-vidi .icon-lock").addClass("icon-lock-min-width-1200"),e<380&&c(".bm-view-custom-playlist-vidi .video-list-container").addClass("video-list-container-max-width-380")},_._createSlideshow=function(){var e=this;c(".bm-view-custom-playlist-vidi a.next").on("click",function(){e._moveSlides(1)}),c(".bm-view-custom-playlist-vidi a.prev").on("click",function(){e._moveSlides(-1)}),e._currentSlide(e._slideIndex)},_._moveSlides=function(e){var t=this;t._showSlides(t._slideIndex+=e)},_._currentSlide=function(e){var t=this;t._showSlides(t._slideIndex=e)},_._showSlides=function(e){var t,n=this,i=c(".video-list-container .slide");for(e>i.length&&(n._slideIndex=1),e<1&&(n._slideIndex=i.length),t=0;t<i.length;t++)i[t].style.display="none";i[n._slideIndex-1].style.display="block"},_.on=function(){this._event.on.apply(this._event,arguments)},_.once=function(){this._event.once.apply(this._event,arguments)},_.off=function(){this._event.off.apply(this._event,arguments)},a.EVENT_PLAYLIST_ITEM_CLICK="event_playlist_item_click",a.EVENT_DISMISS_CLICK="event_dismiss_click",t.exports=a}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./templates/bm-view-custom-playlist-vidi.tpl":227,"./templates/css/bm-view-custom-playlist-vidi.scss":228,"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"@bellmedia/bm-base-view":10,"bm-css-injector":47,"bm-service-factory-auth":116,"bm-service-factory-media-provider":118,"bm-service-factory-translation":120,underscore:32}],227:[function(e,t,n){t.exports='<header>\n  <div><%= playlistText %></div>\n  <span class="button-dismiss">&#10005;</span> \n</header>\n<div class="video-list-container clearfix playlist-slider">\n  <% var counterItems = 0;  %>\n  <% for(var i = 0; i < videoItems.length; i++) { %>       \n    <% if(counterItems % numberOfItemsPerSlide == 0) { %>\n      <div class="slide">\n    <% } %>\n     <% if (videoItems[i]) { %>\n        <div class="video-item" data-content-id="<%= videoItems[i].Id %>">          \n          <div class="poster" style="background-image: url(<%= videoItems[i].Images[0].Url %>);">\n             <% if(i == nextPlaylistItemIndex) { %>\n            <div class="nextUp"><%= nextUpItemText %></div>\n          <% } %>  \n          <% if(videoItems[i].Authentication.Required && !isAuthenticated) {%>\n            <img src="<%= playLockIconImgUrl %>" class="icon-lock"/>        \n          <% } else { %>\n            <img src="<%= playIconImgUrl %>" class="icon-lock"/> \n          <% } %>                       \n          <div class="title"><%= i+1 %>.&nbsp; <%= videoItems[i].Name %></div>\n          <div class="duration"><%= (videoItems[i].ContentPackages[0].Duration > 0) ? (videoItems[i].ContentPackages[0].Duration - videoItems[i].ContentPackages[0].Duration % 60) / 60 + ":" + parseInt(videoItems[i].ContentPackages[0].Duration % 60) : "Live" %></div>             \n          </div>  \n         \n        </div>\x3c!-- .video-item --\x3e\n        <% counterItems = counterItems + 1;  %>      \n    <% } %>\n       \n    <% if(counterItems % numberOfItemsPerSlide == 0) { %>\n    </div>\n    <% } %>\n    \n  <% } %> \n </div>\x3c!-- .video-list-container --\x3e\n \n  <a class="prev">&#10094;</a>\n  <a class="next">&#10095;</a>'},{}],228:[function(e,t,n){t.exports='.bm-view-custom-playlist-vidi {\n  box-sizing: border-box;\n  padding: 5px;\n  background-color: #000000;\n  color: #e2e2e2;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  height: 100%; }\n  .bm-view-custom-playlist-vidi * {\n    box-sizing: border-box; }\n  .bm-view-custom-playlist-vidi .clearfix:after {\n    display: table;\n    content: "";\n    clear: both;\n    visibility: hidden; }\n  .bm-view-custom-playlist-vidi header div {\n    padding-bottom: 3px;\n    font-size: 14px;\n    font-weight: 400; }\n  .bm-view-custom-playlist-vidi .video-list-container {\n    position: relative;\n    width: 100%;\n    overflow: hidden;\n    top: 20%; }\n    .bm-view-custom-playlist-vidi .video-list-container .video-item {\n      float: left;\n      width: 28%;\n      margin-bottom: 1%;\n      position: relative;\n      background-color: #111;\n      border: 1px solid #666;\n      overflow: hidden;\n      height: 250px;\n      margin-left: 4%;\n      animation-name: stretch;\n      animation-duration: 0.5s;\n      animation-timing-function: ease-out;\n      animation-delay: 0s;\n      animation-direction: alternate;\n      animation-fill-mode: none;\n      animation-play-state: running;\n      -webkit-transition: transform 1s ease-in-out;\n      -moz-transition: transform 1s ease-in-out;\n      transition: transform 1s ease-in-out;\n      opacity: 0.8; }\n\n@keyframes stretch {\n  0% {\n    transform: scale(0.5); }\n  100% {\n    transform: scale(1); } }\n      .bm-view-custom-playlist-vidi .video-list-container .video-item:hover {\n        background-color: #000;\n        border: 1px solid #FFF;\n        cursor: pointer;\n        opacity: 1; }\n        .bm-view-custom-playlist-vidi .video-list-container .video-item:hover div.poster:before {\n          background-image: linear-gradient(-180deg, rgba(128, 128, 128, 0), #000); }\n      .bm-view-custom-playlist-vidi .video-list-container .video-item:after {\n        content: "";\n        text-align: right;\n        position: absolute;\n        bottom: 0;\n        right: 0;\n        width: 100%;\n        height: 1em;\n        background: linear-gradient(to bottom, rgba(17, 17, 17, 0), #111111 50%); }\n      .bm-view-custom-playlist-vidi .video-list-container .video-item:hover:after {\n        background: linear-gradient(to bottom, transparent, black 50%); }\n      .bm-view-custom-playlist-vidi .video-list-container .video-item div.nextUp {\n        margin: 5px;\n        font-size: 14px;\n        font-weight: bold; }\n      .bm-view-custom-playlist-vidi .video-list-container .video-item div.poster {\n        position: relative;\n        background-position: 50%;\n        background-repeat: no-repeat;\n        background-size: cover;\n        overflow: hidden;\n        width: 100%;\n        height: 100%; }\n      .bm-view-custom-playlist-vidi .video-list-container .video-item div.poster:before {\n        background-image: linear-gradient(-180deg, rgba(128, 128, 128, 0), #111);\n        content: "";\n        height: 100%;\n        left: 0;\n        position: absolute;\n        top: 0;\n        width: 100%; }\n      .bm-view-custom-playlist-vidi .video-list-container .video-item div.title {\n        margin: 5px 0 0 5px;\n        font-size: 13px;\n        line-height: 1.2em;\n        color: #FFFFFF; }\n      .bm-view-custom-playlist-vidi .video-list-container .video-item div.duration {\n        position: absolute;\n        bottom: 15px;\n        left: 5px;\n        font-size: 13px;\n        font-weight: bold; }\n    .bm-view-custom-playlist-vidi .video-list-container .icon-lock {\n      width: 30px;\n      height: 30px;\n      position: absolute;\n      left: 42%;\n      top: 40%; }\n    .bm-view-custom-playlist-vidi .video-list-container .icon-lock-min-width-1200 {\n      left: 48%;\n      top: 45%; }\n    .bm-view-custom-playlist-vidi .video-list-container .video-item-max-width-1200 {\n      height: 150px; }\n    .bm-view-custom-playlist-vidi .video-list-container .video-item-max-width-800 {\n      height: 200px; }\n    .bm-view-custom-playlist-vidi .video-list-container .video-item-max-width-650 {\n      height: 150px; }\n    .bm-view-custom-playlist-vidi .video-list-container .video-item-max-width-450 {\n      margin-left: 15%;\n      width: 70%;\n      height: 120px; }\n    .bm-view-custom-playlist-vidi .video-list-container .icon-lock-max-width-450 {\n      left: 44%;\n      top: 35%; }\n    .bm-view-custom-playlist-vidi .video-list-container .video-item-max-width-280 {\n      margin-left: 15%;\n      width: 70%;\n      height: 50px; }\n    .bm-view-custom-playlist-vidi .video-list-container .icon-lock-max-width-280 {\n      left: 44%;\n      top: 35%;\n      width: 20px;\n      height: 20px; }\n    .bm-view-custom-playlist-vidi .video-list-container .duration-max-width-280 {\n      display: none; }\n    .bm-view-custom-playlist-vidi .video-list-container .title-max-width-280 {\n      font-size: 10px; }\n  .bm-view-custom-playlist-vidi .button-dismiss {\n    color: #eae9e9;\n    cursor: pointer;\n    padding: 5px;\n    position: absolute;\n    right: 0;\n    top: 0; }\n  .bm-view-custom-playlist-vidi .video-list-container-max-width-1200 {\n    top: 15%; }\n  .bm-view-custom-playlist-vidi .video-list-container-max-width-380 {\n    top: 8%; }\n\n/* Slideshow container */\n.playlist-slider {\n  width: 100%;\n  position: relative;\n  margin: auto; }\n\n/* Hide the images by default */\n.slide {\n  display: none;\n  top: 10%;\n  position: relative; }\n\n.prev,\n.next {\n  cursor: pointer;\n  position: absolute;\n  top: 50%;\n  width: auto;\n  margin: -22px 0 0 0;\n  padding: 5px;\n  color: #666666;\n  font-size: 30px;\n  transition: 0.3s ease; }\n\n.next {\n  right: 0;\n  border-radius: 3px 0 0 3px; }\n\n.prev {\n  left: 0;\n  border-radius: 3px 0 0 3px; }\n\n.prev:hover,\n.next:hover {\n  color: #eae9e9; }\n'},{}],229:[function(e,t,n){(function(n){(function(){"use strict";function i(e){if(!(this instanceof i))return new i(e);i.super_.call(this,c.create({id:c.uniqueId("bm-view-endscreen"),className:"bm-view-endscreen"},e)),this._contentId=e.contentId,this._event=r(),this._serviceMediaProvider=p().getInstance(),this._playIconImgUrl=e.playIconImgUrl,this._playLockIconImgUrl=e.playLockIconImgUrl}var a=e("@bellmedia/bm-base"),o=e("@bellmedia/bm-base-view"),r=e("@bellmedia/bm-base-event"),s=e("bm-css-injector"),l="undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null,c=e("underscore"),d=e("./templates/bm-view-endscreen.tpl"),u=e("./templates/css/bm-view-endscreen.scss"),p=e("bm-service-factory-media-provider"),m=e("bm-service-factory-translation"),h=e("bm-service-factory-auth");s().injectStyles(u,"bm-view-endscreen"),a.inherits(i,o);var f=i.prototype;f._contentId="",f._event=void 0,f._serviceMediaProvider=void 0,f._playIconImgUrl="",f._playLockIconImgUrl="",f.render=function(){var e=this,t=m().getInstance();h().getInstance().isAuthenticated().then(function(n){e._serviceMediaProvider.getMediaInfoRelated(e._contentId).then(function(a){if(a.data.items.length>0){var o=c.map(a.data.items,function(e){return e.data}),r=e.compile(d,{videoItems:o,moreVideosText:t.t("More videos"),isAuthenticated:n,playIconImgUrl:e._playIconImgUrl,playLockIconImgUrl:e._playLockIconImgUrl});e.$el.append(r),e.$(".video-item").on("click",function(){e._event.emit(i.EVENT_VIDEO_ITEM_CLICK,{contentId:l(this).data("content-id")})})}else e._event.emit(i.EVENT_NOT_FOUND)},function(e){})})},f.on=function(){this._event.on.apply(this._event,arguments)},f.once=function(){this._event.once.apply(this._event,arguments)},f.off=function(){this._event.off.apply(this._event,arguments)},i.EVENT_VIDEO_ITEM_CLICK="event_video_item_click",i.EVENT_NOT_FOUND="event_not_found",t.exports=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./templates/bm-view-endscreen.tpl":230,"./templates/css/bm-view-endscreen.scss":231,"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"@bellmedia/bm-base-view":10,"bm-css-injector":47,"bm-service-factory-auth":116,"bm-service-factory-media-provider":118,"bm-service-factory-translation":120,underscore:32}],230:[function(e,t,n){t.exports='<header>\n  <div><%= moreVideosText %></div>\n</header>\n<div class="video-list-container clearfix">\n  <% for(var i = 0; i < videoItems.length; i++) { %>\n      <div class="video-item <%= i ===0 ? \'long\' : \'short\' %>" data-content-id="<%= videoItems[i].mediaId %>">\n         <% if(videoItems[i].authz.required && !isAuthenticated) {%>\n          <img src="<%= playLockIconImgUrl %>" class="icon-lock"/>        \n        <% } else { %>\n          <img src="<%= playIconImgUrl %>" class="icon-lock"/> \n        <% } %>\n          <div class="poster" style="background-image: url(<%= videoItems[i].image %>);"></div>\n          <div class="title"><%= videoItems[i].title %></div>\n          <div class="description"><%= videoItems[i].description %></div>\n      </div>\x3c!-- .video-item --\x3e\n  <% } %>\n</div>\x3c!-- .video-list-container --\x3e\n'},{}],231:[function(e,t,n){t.exports='.bm-view-endscreen {\n  box-sizing: border-box;\n  padding: 17px 6.4% 10px 6.4%;\n  background-color: rgba(34, 34, 34, 0.9);\n  color: #ffffff;\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%; }\n  .bm-view-endscreen * {\n    box-sizing: border-box; }\n  .bm-view-endscreen .clearfix:after {\n    display: table;\n    content: "";\n    clear: both;\n    visibility: hidden; }\n  .bm-view-endscreen header div {\n    display: table-cell;\n    vertical-align: bottom;\n    padding-bottom: 3px;\n    height: 35px;\n    font-size: 16px;\n    font-weight: 400; }\n  .bm-view-endscreen .video-list-container {\n    position: relative;\n    margin-top: -35px;\n    padding-top: 35px;\n    width: 100%;\n    height: 100%;\n    overflow: hidden; }\n    .bm-view-endscreen .video-list-container .video-item {\n      float: left;\n      width: 31%;\n      margin-bottom: 1%;\n      position: relative;\n      background-color: #111;\n      border: 1px solid transparent;\n      overflow: hidden; }\n      .bm-view-endscreen .video-list-container .video-item:hover {\n        background-color: #000;\n        border: 1px solid #FFF;\n        cursor: pointer; }\n        .bm-view-endscreen .video-list-container .video-item:hover div.poster:before {\n          background-image: linear-gradient(-180deg, rgba(128, 128, 128, 0), #000); }\n      .bm-view-endscreen .video-list-container .video-item:after {\n        content: "";\n        text-align: right;\n        position: absolute;\n        bottom: 0;\n        right: 0;\n        width: 100%;\n        height: 1.6em;\n        background: linear-gradient(to bottom, rgba(17, 17, 17, 0), #111111 50%); }\n      .bm-view-endscreen .video-list-container .video-item:hover:after {\n        background: linear-gradient(to bottom, transparent, black 50%); }\n      .bm-view-endscreen .video-list-container .video-item div.poster {\n        position: relative;\n        background-position: 50%;\n        background-repeat: no-repeat;\n        background-size: cover;\n        overflow: hidden;\n        width: 100%;\n        height: 37%; }\n        .bm-view-endscreen .video-list-container .video-item div.poster:before {\n          background-image: linear-gradient(-180deg, rgba(128, 128, 128, 0), #111);\n          content: "";\n          height: 100%;\n          left: 0;\n          position: absolute;\n          top: 0;\n          width: 100%; }\n      .bm-view-endscreen .video-list-container .video-item.long {\n        height: 99%;\n        margin-left: 0; }\n        @media all and (max-width: 479px) {\n          .bm-view-endscreen .video-list-container .video-item.long {\n            width: 100%; }\n            .bm-view-endscreen .video-list-container .video-item.long div.poster {\n              height: 80% !important;\n              background-position: 0 0 !important; }\n            .bm-view-endscreen .video-list-container .video-item.long div.title {\n              font-size: 13px;\n              font-weight: normal; } }\n        .bm-view-endscreen .video-list-container .video-item.long div.poster {\n          height: 37%; }\n      .bm-view-endscreen .video-list-container .video-item.short {\n        height: 49%;\n        margin-left: 2%; }\n        @media all and (max-width: 479px) {\n          .bm-view-endscreen .video-list-container .video-item.short {\n            display: none; } }\n        .bm-view-endscreen .video-list-container .video-item.short div.poster {\n          height: 57%; }\n        .bm-view-endscreen .video-list-container .video-item.short div.title {\n          margin-top: -25px;\n          font-size: 13px;\n          color: rgba(255, 255, 255, 0.8); }\n      .bm-view-endscreen .video-list-container .video-item div.title {\n        position: relative;\n        margin-top: -16px;\n        padding: 0 10px;\n        font-size: 16px;\n        font-weight: 700;\n        line-height: 1.2em; }\n      .bm-view-endscreen .video-list-container .video-item div.description {\n        padding: 13px 10px 0px 10px;\n        font-size: 13px;\n        font-weight: normal;\n        line-height: 1.2em;\n        color: rgba(255, 255, 255, 0.8); }\n        @media all and (max-width: 699px) {\n          .bm-view-endscreen .video-list-container .video-item div.description {\n            display: none; } }\n  .bm-view-endscreen .button-dismiss {\n    color: #eae9e9;\n    cursor: pointer;\n    padding: 5px;\n    position: absolute;\n    right: 0;\n    top: 0; }\n  .bm-view-endscreen .icon-lock {\n    width: 38px;\n    height: 38px;\n    position: absolute;\n    z-index: 1;\n    left: 5px;\n    top: 5px; }\n'},{}],232:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);i.super_.call(this,l.create({id:l.uniqueId("bm-view-episode-list-v1"),className:"bm-view-episode-list-v1"},e)),this._event=r(),this._brandType=e.brandType,this._playerId=e.playerId,this._enableSeasonList=e.enableSeasonList}var a=e("@bellmedia/bm-base"),o=e("@bellmedia/bm-base-view"),r=e("@bellmedia/bm-base-event"),s=e("bm-css-injector"),l=e("underscore"),c=e("./templates/bm-view-episode-list.tpl"),d=e("bm-service-factory-translation"),u=e("./templates/css/bm-view-episode-list.css.tpl");s().injectStyles(l.template(u)({selector:".bm-view-episode-list-v1"}),"bm-view-episode-list-v1"),a.inherits(i,o);var p=i.prototype;p._event=void 0,p._brandType="",p._playerId=void 0,p._data={episodeList:[],seasonList:[],seasonName:"",seasonId:0,contentId:0,isAuthenticated:!1,playerId:0,brandType:""},p.update=function(e){l.extend(this._data,e)},p.render=function(){var e=this,t=e.compile(c,e._data);e.$el.empty().append(t),l.each(e._data.episodeList,function(t){e._data.contentId!==t.id&&e.$("#player-"+e._playerId+"-episode-id-"+t.id).off("click").on("click",function(){!0===t.authentication.Required&&!1===e._data.isAuthenticated?e._displayErrorMessage(t.id):e._event.emit(i.EVENT_EPISODE_ITEM_CLICK,t.id)})}),e.$(".button-dismiss").off("click").on("click",function(){e._event.emit(i.EVENT_DISMISS_CLICK)}),!0===e._enableSeasonList&&e._addSeasonListEvents()},p.scrollEpisodeList=function(){var e=this,t="#"+e._playerId+" .bm-view-episode-list-wrap",n=t+" .episode-list-title li.active";$(n).length>0&&$(t).animate({scrollTop:$(n).position().top-12},800)},p._addSeasonListEvents=function(){var e=this;e.$(".episode-list-season").off("click").on("click",function(){e._event.emit(i.EVENT_SEASON_LIST_CLICK)}).addClass("clickable"),l.each(e._data.seasonList,function(t){e.$("#player-"+e._playerId+"-season-id-"+t.id).off("click").on("click",function(){e._event.emit(i.EVENT_SEASON_ITEM_CLICK,t.id)})})},p._displayErrorMessage=function(e){var t=this,n=d().getInstance(),i="#player-"+t._playerId+"-episode-id-"+e;$(i).siblings().children("div").hide(),$(i+">div").length>0?$(i+">div").toggle():$("<div>"+n.t("Sign in required")+"</div>").appendTo($(i))},p.on=function(){this._event.on.apply(this._event,arguments)},p.once=function(){this._event.once.apply(this._event,arguments)},p.off=function(){this._event.off.apply(this._event,arguments)},i.EVENT_DISMISS_CLICK="event_dismiss_click",i.EVENT_EPISODE_ITEM_CLICK="event_episode_item_click",i.EVENT_SEASON_LIST_CLICK="event_season_list_click",i.EVENT_SEASON_ITEM_CLICK="event_season_item_click",t.exports=i},{"./templates/bm-view-episode-list.tpl":233,"./templates/css/bm-view-episode-list.css.tpl":234,"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"@bellmedia/bm-base-view":10,"bm-css-injector":47,"bm-service-factory-translation":120,underscore:32}],233:[function(e,t,n){t.exports='<header>\n  <span class="episode-list-season">\n    <% if(episodeList.length > 0) { %>\n    <span>&#9668;</span> <%- seasonName %>\n    <% }%>\n  </span>\n  <span class="button-dismiss">&#10005;</span>\n</header>\n<div class="bm-view-episode-list-wrap">\n  <div class="episode-list-title">\n    <ol>\n      <% for(var i = 0; i < episodeList.length; i++) { %>\n          <% if(episodeList[i].id == contentId) { %>\n        <li class="active" id="player-<%- playerId %>-episode-id-<%- episodeList[i].id %>" value="<%- episodeList[i].episode %>">\n          <span></span>\n          <% } else { %>\n<% if(episodeList[i].authentication.Required == true && isAuthenticated == false) { %>\n        <li class="inactive" id="player-<%- playerId %>-episode-id-<%- episodeList[i].id %>" value="<%- episodeList[i].episode %>">\n<% } else { %>\n        <li id="player-<%- playerId %>-episode-id-<%- episodeList[i].id %>" value="<%- episodeList[i].episode %>">\n<% }%>\n          <% }%>\n<% if(episodeList[i].authentication.Required == true && isAuthenticated == false) { %>\n<span></span>\n<% }%>\n          <%- episodeList[i].title %>\n        </li>\n      <% } %>\n    </ol>\n    <ul>\n      <% for(var i = 0; i < seasonList.length; i++) { %>\n          <% if(seasonList[i].id == seasonId) { %>\n        <li class="active" id="player-<%- playerId %>-season-id-<%- seasonList[i].id %>">\n          <% } else { %>\n        <li id="player-<%- playerId %>-season-id-<%- seasonList[i].id %>">\n          <% }%>\n          <%- seasonList[i].name %>\n        </li>\n      <% } %>\n    </ul>\n  </div>\n</div>\n'},{}],234:[function(e,t,n){t.exports="<%- selector %> {\n    background: #000000;\n    background: rgba(0, 0, 0, 0.85);\n    color: #ffffff;\n    height: calc(100% - 2.75em);\n    right: 0;\n    position: absolute;\n    top: 0;\n    width: 250px;\n}\n\n<%- selector %> .bm-view-episode-list-wrap {\n    box-sizing: border-box;\n    padding: 0 15px;\n    position: absolute;\n    top: 40px;\n    width: 100%;\n    font-size: 12px;\n    overflow-y: auto;\n    height: 75%;\n    text-align: left;\n}\n\n<%- selector %> .bm-view-episode-list-wrap .episode-list-title {\n    font-weight: normal;\n}\n\n<%- selector %> .bm-view-episode-list-wrap .episode-list-title ol {\n    padding: 0px 0px 0px 40px;\n}\n\n<%- selector %> .bm-view-episode-list-wrap .episode-list-title ol li {\n    cursor: pointer;\n    padding-bottom: 8px;\n    color: #cccccc;\n    line-height: 1.8em;\n}\n\n<%- selector %> .bm-view-episode-list-wrap .episode-list-title ol li:hover {\n    text-decoration: underline;\n    color: #ffffff;\n}\n\n<%- selector %> .bm-view-episode-list-wrap .episode-list-title ol li.active {\n    color: #ffffff;\n    cursor: default;\n    text-decoration: none;\n}\n\n<%- selector %> .bm-view-episode-list-wrap .episode-list-title ol li.active span {\n    width: 8px;\n    height: 11px;\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='7.693' height='10.057' viewBox='0 0 7.693 10.057'%3E%3Cdefs%3E%3Cstyle%3E .cls-1%7Bfill:%23fff%7D %3C/style%3E%3C/defs%3E%3Cpath id='Vidi_icon_Play' d='M5.64 10.057l7.693-5.028L5.64 0z' class='cls-1' transform='translate(-5.64)'/%3E%3C/svg%3E%0A\");\n    background-repeat: no-repeat;\n    position: absolute;\n    display: inline;\n    margin: 4px 0 0 -36px;\n}\n\n<%- selector %> .bm-view-episode-list-wrap .episode-list-title ol li.inactive {\n    color: #cccccc;\n    text-decoration: none;\n}\n\n<%- selector %> .bm-view-episode-list-wrap .episode-list-title ol li.inactive>span {\n    width: 16px;\n    height: 16px;\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23ccc;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3EVidi_icon_Lock%3C/title%3E%3Cpath class='cls-1' d='M7,26.5H25v-12H22.94V13.05a8.24,8.24,0,0,0-2-5.41A6.84,6.84,0,0,0,16,5.5h0a6.77,6.77,0,0,0-4.92,2.14,8.24,8.24,0,0,0-2,5.4V14.5H7Zm4.55-13.45a5.93,5.93,0,0,1,1.32-3.77h0A4.34,4.34,0,0,1,16,7.89h0a4.35,4.35,0,0,1,3.13,1.38h0a5.87,5.87,0,0,1,1.32,3.77V14.5H11.54V13.05Z'/%3E%3C/svg%3E\");\n    background-repeat: no-repeat;\n    position: absolute;\n    display: inline;\n    margin: 1px 0 0 -40px;\n}\n\n<%- selector %> .bm-view-episode-list-wrap .episode-list-title ol li.inactive>div {\n    width: 180px;\n    margin: 0 0 0 -14px;\n    font-weight: normal;\n    font-size: .95em;\n}\n\n<%- selector %> .bm-view-episode-list-wrap .episode-list-title ul {\n    padding: 0px 0px 0px 40px;\n}\n\n<%- selector %> .bm-view-episode-list-wrap .episode-list-title ul li {\n    cursor: pointer;\n    padding-bottom: 8px;\n    color: #cccccc;\n    line-height: 1.8em;\n}\n\n<%- selector %> .bm-view-episode-list-wrap .episode-list-title ul li:hover {\n    text-decoration: underline;\n    color: #ffffff;\n}\n\n<%- selector %> .bm-view-episode-list-wrap .episode-list-title ul li.active {\n    color: #ffffff;\n    font-size: 14px;\n}\n\n<%- selector %> .bm-view-episode-list-wrap .episode-list-attr-title{\n    color: #666666;\n}\n\n<%- selector %> header {\n    position: relative;\n}\n\n<%- selector %> .button-dismiss {\n    color: #ffffff;\n    cursor: pointer;\n    padding: 3px;\n    position: absolute;\n    right: 25px;\n    top: 15px;\n    font-size: 16px;\n}\n\n<%- selector %> .episode-list-season {\n    color: #ffffff;\n    padding: 3px;\n    position: absolute;\n    left: 15px;\n    top: 15px;\n    font-size: 16px;\n    font-weight: bold;\n}\n\n<%- selector %> .episode-list-season.clickable {\n    cursor: pointer;\n}\n\n<%- selector %> .episode-list-season > span{\n    display: none;\n}\n\n<%- selector %> .episode-list-season.clickable > span {\n    display: inline;\n}\n\n@media all and (max-width: 500px){\n    <%- selector %> {\n        left: 0;\n        width: 100%;\n    }\n}\n\n@media only screen and (max-device-width: 600px) {\n    <%- selector %> .button-dismiss {\n        font-size: 21px !important;\n    }\n}\n"},{}],235:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);i.super_.call(this,l.create({id:l.uniqueId("bm-view-episode-list"),className:"bm-view-episode-list"},e)),this._event=r(),this._brandType=e.brandType,this._playerId=e.playerId,this._enableSeasonList=e.enableSeasonList}var a=e("@bellmedia/bm-base"),o=e("@bellmedia/bm-base-view"),r=e("@bellmedia/bm-base-event"),s=e("bm-css-injector"),l=e("underscore"),c=e("./templates/bm-view-episode-list.tpl"),d=e("bm-service-factory-translation"),u=e("./templates/css/bm-view-episode-list.css.tpl");s().injectStyles(l.template(u)({selector:".bm-view-episode-list"}),"bm-view-episode-list"),a.inherits(i,o);var p=i.prototype;p._event=void 0,p._brandType="",p._playerId=void 0,p._data={episodeList:[],seasonList:[],seasonName:"",seasonId:0,contentId:0,isAuthenticated:!1,playerId:0,brandType:""},p.update=function(e){l.extend(this._data,e)},p.render=function(){var e=this,t=e.compile(c,e._data);e.$el.empty().append(t),l.each(e._data.episodeList,function(t){e._data.contentId!==t.id&&e.$("#player-"+e._playerId+"-episode-id-"+t.id).not(".inactive").off("click").on("click",function(){!1!==t.authentication.Required&&!0!==e._data.isAuthenticated||e._event.emit(i.EVENT_EPISODE_ITEM_CLICK,t.id)}).hover(function(){$(".episode-picture",this).prepend($("<span></span>"))},function(){$(".episode-picture",this).find("span").first().remove()})}),e.$(".button-dismiss").off("click").on("click",function(){e._event.emit(i.EVENT_DISMISS_CLICK)}),!0===e._enableSeasonList&&e._addSeasonListEvents()},p.scrollEpisodeList=function(){var e=this,t="#"+e._playerId+" .bm-view-episode-list-wrap",n=t+" .episode-list-title li.active";$(n).length>0&&$(t).animate({scrollTop:$(n).position().top-12},800)},p._addSeasonListEvents=function(){var e=this;e.$(".episode-list-season>span").css("display","inline"),e.$(".episode-list-season").off("click").on("click",function(){e.$(".episode-list-season-dropdown").toggle()}).addClass("clickable"),l.each(e._data.seasonList,function(t){e.$("#player-"+e._playerId+"-season-id-"+t.id).off("click").on("click",function(){$(this).addClass("active"),e._event.emit(i.EVENT_SEASON_ITEM_CLICK,t.id)})})},p._displayErrorMessage=function(e){var t=this,n=d().getInstance(),i="#player-"+t._playerId+"-episode-id-"+e;$(i).siblings().children("div").hide(),$(i+">div").length>0?$(i+">div").toggle():$("<div>"+n.t("Sign in required")+"</div>").appendTo($(i))},p.on=function(){this._event.on.apply(this._event,arguments)},p.once=function(){this._event.once.apply(this._event,arguments)},p.off=function(){this._event.off.apply(this._event,arguments)},i.EVENT_DISMISS_CLICK="event_dismiss_click",i.EVENT_EPISODE_ITEM_CLICK="event_episode_item_click",i.EVENT_SEASON_LIST_CLICK="event_season_list_click",i.EVENT_SEASON_ITEM_CLICK="event_season_item_click",t.exports=i},{"./templates/bm-view-episode-list.tpl":236,"./templates/css/bm-view-episode-list.css.tpl":237,"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"@bellmedia/bm-base-view":10,"bm-css-injector":47,"bm-service-factory-translation":120,underscore:32}],236:[function(e,t,n){
t.exports='<header>\r\n  <span class="episode-list-season">\r\n    <% if(episodeList.length > 0) { %>\r\n    <%- seasonName %> <span>&#9660;</span>\r\n    <% }%>\r\n  </span>\r\n  <ul class="episode-list-season-dropdown">\r\n    <% for(var i = 0; i < seasonList.length; i++) { %>\r\n        <% if(seasonList[i].id == seasonId) { %>\r\n      <li class="active" id="player-<%- playerId %>-season-id-<%- seasonList[i].id %>">\r\n        <% } else { %>\r\n      <li id="player-<%- playerId %>-season-id-<%- seasonList[i].id %>">\r\n        <% }%>\r\n        <%- seasonList[i].name %>\r\n      </li>\r\n    <% } %>\r\n  </ul>\r\n  <span class="button-dismiss">&#10005;</span>\r\n</header>\r\n<div class="bm-view-episode-list-wrap">\r\n  <div class="episode-list-title">\r\n    <ul>\r\n      <% for(var i = 0; i < episodeList.length; i++) { %>\r\n          <% if(episodeList[i].id == contentId) { %>\r\n        <li class="active" id="player-<%- playerId %>-episode-id-<%- episodeList[i].id %>" type="content">\r\n          <% } else { %>\r\n<% if(episodeList[i].authentication.Required == true && isAuthenticated == false) { %>\r\n        <li class="inactive" id="player-<%- playerId %>-episode-id-<%- episodeList[i].id %>" type="content">\r\n<% } else { %>\r\n        <li id="player-<%- playerId %>-episode-id-<%- episodeList[i].id %>" type="content">\r\n<% }%>\r\n          <% }%>\r\n          <div class="episode-wrapper">\r\n            <div class="episode-picture">\r\n              <% if(episodeList[i].id == contentId) { %>\r\n                <span></span>\r\n              <% }%>\r\n              <% if(episodeList[i].authentication.Required == true && isAuthenticated == false) { %>\r\n                <span>Sign in</span>\r\n              <% }%>\r\n              <% for(var ii = 0; ii < episodeList[i].images.length; ii++) { %>\r\n                <% if(episodeList[i].images[ii].Type == "thumbnail") { %>\r\n                  <img src="<%- episodeList[i].images[ii].Url %>?height=160maintain_aspect=1&size=160">\r\n                <% break; %>\r\n                <% }%>\r\n              <% } %>\r\n            </div>\r\n            <div class="episode-content">\r\n              <h3><%- episodeList[i].episode %>. <%- episodeList[i].title %></h3>\r\n              <p><%- episodeList[i].description %></p>\r\n              <p>\r\n                <% if(Math.floor(episodeList[i].duration / 3600) > 0) { %>\r\n                  <%- Math.floor(episodeList[i].duration / 3600) %>h\r\n                <% } %>\r\n                <% if(Math.floor(episodeList[i].duration % 3600 / 60) > 0) { %>\r\n                  <%- Math.floor(episodeList[i].duration % 3600 / 60) %>m\r\n                <% } %>\r\n                <% if(Math.floor(episodeList[i].duration % 3600 % 60) > 0) { %>\r\n                  <%- Math.floor(episodeList[i].duration % 3600 % 60) %>s\r\n                <% } %>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      <% } %>\r\n    </ul>\r\n  </div>\r\n</div>\r\n'},{}],237:[function(e,t,n){t.exports="<%- selector %> {\r\n    background: #000000;\r\n    background: rgba(0, 0, 0, 0.85);\r\n    color: #ffffff;\r\n    height: calc(80% - 2.75em);\r\n    right: 0;\r\n    position: absolute;\r\n    top: 17%;\r\n    width: 410px;\r\n}\r\n\r\n<%- selector %> .bm-view-episode-list-wrap {\r\n    box-sizing: border-box;\r\n    padding: 0 15px;\r\n    position: absolute;\r\n    top: 50px;\r\n    bottom: 15px;\r\n    width: 100%;\r\n    font-size: 12px;\r\n    overflow-y: auto;\r\n    text-align: left;\r\n}\r\n\r\n<%- selector %> .bm-view-episode-list-wrap .episode-list-title {\r\n    font-weight: normal;\r\n}\r\n\r\n<%- selector %> .bm-view-episode-list-wrap .episode-list-title ul {\r\n    padding: 0px 0px 0px 0px;\r\n    list-style-image: none;\r\n    list-style-type: none;\r\n    margin-top: 5px;\r\n}\r\n\r\n<%- selector %> .bm-view-episode-list-wrap .episode-list-title ul li {\r\n    cursor: pointer;\r\n    padding-bottom: 8px;\r\n    color: #cccccc;\r\n    height: 110px;\r\n}\r\n\r\n<%- selector %> .bm-view-episode-list-wrap .episode-list-title ul li div.episode-picture {\r\n    width: 160px;\r\n    height: 90px;\r\n    float: left;\r\n    margin-right: 10px;\r\n}\r\n\r\n<%- selector %> .bm-view-episode-list-wrap .episode-list-title ul li div.episode-content {\r\n    width: 190px;\r\n    float: left;\r\n}\r\n\r\n<%- selector %> .bm-view-episode-list-wrap .episode-list-title ul li h3 {\r\n    padding: 0px;\r\n    font-weight: bold;\r\n    font-size: 12px;\r\n    line-height: 1.2em;\r\n}\r\n\r\n<%- selector %> .bm-view-episode-list-wrap .episode-list-title ul li p {\r\n    padding: 0px 0px 10px 0px;\r\n    margin: 0px;\r\n    font-weight: normal;\r\n    font-size: 11px;\r\n    line-height: 1.2em;\r\n}\r\n\r\n<%- selector %> .bm-view-episode-list-wrap .episode-list-title ul li:hover {\r\n    text-decoration: none;\r\n    color: #ffffff;\r\n}\r\n\r\n<%- selector %> .bm-view-episode-list-wrap .episode-list-title ul li.active {\r\n    color: #ffffff;\r\n    cursor: default;\r\n    text-decoration: none;\r\n}\r\n\r\n<%- selector %> .bm-view-episode-list-wrap .episode-list-title ul li span {\r\n    width: 30px;\r\n    height: 30px;\r\n    background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='iso-8859-1'%3F%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='episode_play' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 142.448 142.448' style='enable-background:new 0 0 142.448 142.448;' xml:space='preserve'%3E%3Cg%3E%3Cpath style='fill:%23FFFFFF;' d='M142.411,68.9C141.216,31.48,110.968,1.233,73.549,0.038c-20.361-0.646-39.41,7.104-53.488,21.639 C6.527,35.65-0.584,54.071,0.038,73.549c1.194,37.419,31.442,67.667,68.861,68.861c0.779,0.025,1.551,0.037,2.325,0.037 c19.454,0,37.624-7.698,51.163-21.676C135.921,106.799,143.033,88.377,142.411,68.9z M111.613,110.336 c-10.688,11.035-25.032,17.112-40.389,17.112c-0.614,0-1.228-0.01-1.847-0.029c-29.532-0.943-53.404-24.815-54.348-54.348 c-0.491-15.382,5.122-29.928,15.806-40.958c10.688-11.035,25.032-17.112,40.389-17.112c0.614,0,1.228,0.01,1.847,0.029 c29.532,0.943,53.404,24.815,54.348,54.348C127.91,84.76,122.296,99.306,111.613,110.336z'/%3E%3Cpath style='fill:%23FFFFFF;' d='M94.585,67.086L63.001,44.44c-3.369-2.416-8.059-0.008-8.059,4.138v45.293 c0,4.146,4.69,6.554,8.059,4.138l31.583-22.647C97.418,73.331,97.418,69.118,94.585,67.086z'/%3E%3C/g%3E%3C/svg%3E%0A\");\r\n    background-repeat: no-repeat;\r\n    position: absolute;\r\n    display: inline;\r\n    margin: 30px 0 0 65px;\r\n}\r\n\r\n<%- selector %> .bm-view-episode-list-wrap .episode-list-title ul li.inactive {\r\n    color: #cccccc;\r\n    cursor: default;\r\n    text-decoration: none;\r\n}\r\n\r\n<%- selector %> .bm-view-episode-list-wrap .episode-list-title ul li.inactive span {\r\n    width: 160px;\r\n    height: 90px;\r\n    background: rgba(74, 73, 73, 0.80);\r\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23ccc;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3EVidi_icon_Lock%3C/title%3E%3Cpath class='cls-1' d='M7,26.5H25v-12H22.94V13.05a8.24,8.24,0,0,0-2-5.41A6.84,6.84,0,0,0,16,5.5h0a6.77,6.77,0,0,0-4.92,2.14,8.24,8.24,0,0,0-2,5.4V14.5H7Zm4.55-13.45a5.93,5.93,0,0,1,1.32-3.77h0A4.34,4.34,0,0,1,16,7.89h0a4.35,4.35,0,0,1,3.13,1.38h0a5.87,5.87,0,0,1,1.32,3.77V14.5H11.54V13.05Z'/%3E%3C/svg%3E\");\r\n    background-repeat: no-repeat;\r\n    position: absolute;\r\n    display: inline;\r\n    margin: 0px 0 0 65px;\r\n    padding-left: 64px;\r\n    padding-top: 40px;\r\n    left: -50px;\r\n    background-size: 18px 18px;\r\n    background-position: 45px 37px;\r\n}\r\n\r\n<%- selector %> .bm-view-episode-list-wrap .episode-list-title ul li.inactive>div {\r\n    xwidth: 180px;\r\n    xmargin: 0 0 0 -14px;\r\n    xfont-weight: normal;\r\n    xfont-size: .95em;\r\n}\r\n\r\n<%- selector %> .bm-view-episode-list-wrap .episode-list-attr-title{\r\n    color: #666666;\r\n}\r\n\r\n<%- selector %> header {\r\n    position: relative;\r\n}\r\n\r\n<%- selector %> .button-dismiss {\r\n    color: #ffffff;\r\n    cursor: pointer;\r\n    padding: 3px;\r\n    position: absolute;\r\n    right: 25px;\r\n    top: 7px;\r\n    font-size: 16px;\r\n}\r\n\r\n<%- selector %> .episode-list-season {\r\n    color: #ffffff;\r\n    padding: 3px 10px 3px 10px;\r\n    position: absolute;\r\n    margin-left: 15px;\r\n    left: 0px;\r\n    top: 15px;\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n    background-color: #ffffff;\r\n    color: #000000;\r\n}\r\n\r\n<%- selector %> ul.episode-list-season-dropdown {\r\n    position: absolute;\r\n    display: none;\r\n    top: 24px;\r\n    left: 0px;\r\n    font-size: 14px;\r\n    margin-top: 22px;\r\n    margin-left: 15px;\r\n    padding: 3px 28px 3px 10px;\r\n    z-index: 100;\r\n    font-weight: normal;\r\n    list-style-image: none;\r\n    list-style-type: none;\r\n    background-color: #ffffff;\r\n    color: #000000;\r\n}\r\n\r\n<%- selector %> ul.episode-list-season-dropdown li {\r\n    padding: 3px 0 3px 0;\r\n    cursor: pointer;\r\n}\r\n\r\n<%- selector %> ul.episode-list-season-dropdown li.active {\r\n    cursor: default;\r\n    font-weight: bold;\r\n}\r\n\r\n<%- selector %> .episode-list-season.clickable {\r\n    cursor: pointer;\r\n}\r\n\r\n<%- selector %> .episode-list-season > span{\r\n    display: none;\r\n}\r\n\r\n<%- selector %> .episode-list-season.clickable > span {\r\n    display: inline;\r\n}\r\n\r\n@media all and (max-width: 500px){\r\n    <%- selector %> {\r\n        left: 0;\r\n        width: 100%;\r\n        height: calc(97% - 2.75em);\r\n        top: 0;\r\n    }\r\n}\r\n\r\n@media only screen and (max-device-width: 600px) {\r\n    <%- selector %> .button-dismiss {\r\n        font-size: 21px !important;\r\n    }\r\n}\r\n"},{}],238:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);i.super_.call(this,l.create({id:l.uniqueId("bm-view-fifa-button"),className:"bm-view-fifa-button"},e)),this._event=r(),this._urlFifaButton=e.urlFifaButton,this._fifaStats=e.fifaStatsText}var a=e("@bellmedia/bm-base"),o=e("@bellmedia/bm-base-view"),r=e("@bellmedia/bm-base-event"),s=e("bm-css-injector"),l=e("underscore"),c=e("./templates/bm-view-fifa-button.tpl"),d=e("./templates/css/bm-view-fifa-button.css.tpl");s().injectStyles(l.template(d)({selector:".bm-view-fifa-button"}),"bm-view-fifa-button"),a.inherits(i,o);var u=i.prototype;u._event=void 0,u._urlFifaButton="",u._fifaStatsText="Stats",u.render=function(){var e=this,t=e.compile(c,{urlFifaButton:e._urlFifaButton,fifaStatsText:e._fifaStatsText.toUpperCase()});e.$el.append(t),e.$(".bm-fifa-button-wrap").on("click",function(){e._event.emit(i.EVENT_FIFASTATS_BUTTON_CLICK)})},u.on=function(){this._event.on.apply(this._event,arguments)},u.once=function(){this._event.once.apply(this._event,arguments)},u.off=function(){this._event.off.apply(this._event,arguments)},i.EVENT_FIFASTATS_BUTTON_CLICK="event_fifastats_button_click",t.exports=i},{"./templates/bm-view-fifa-button.tpl":239,"./templates/css/bm-view-fifa-button.css.tpl":240,"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"@bellmedia/bm-base-view":10,"bm-css-injector":47,underscore:32}],239:[function(e,t,n){t.exports=' <div class="bm-fifa-button-wrap">\n  <img src="<%- urlFifaButton %>" alt="<%- fifaStatsText %>"/>\n  <span><%- fifaStatsText %></span>\n </div>\n '},{}],240:[function(e,t,n){t.exports="<%- selector %> {           \n    left: 45%;    \n    bottom: 5px;           \n    position: absolute;\n    cursor: pointer;\n    font-size: 12px;\n}   \n\n.jwplayer .bm-view-fifa-button{\n    display: none;\n}\n\n.jw-state-playing:not(.jw-flag-user-inactive).jwplayer .bm-view-fifa-button,\n.jw-state-paused.jwplayer .bm-view-fifa-button{\n    display: block !important;\n}\n\n<%- selector %> .bm-fifa-button-wrap span {\n    position: absolute;\n    top: 3px;\n    width: 100%;\n    color: #fff;\n    left: 25px;\n}\n\n<%- selector %> .bm-fifa-button-wrap {\n    position: relative; \n    width: 100%; \n}\n\n@media screen and (max-width: 650px){\n    <%- selector %> {        \n        left: 35%;\n    }\n\n     <%- selector %> .bm-fifa-button-wrap {        \n        display: block;\n    }\n}\n\n@media screen and (max-width: 520px){\n    <%- selector %> {        \n        left: 22%;        \n    }\n\n     <%- selector %> .bm-fifa-button-wrap {        \n        display: block;\n    }\n\n    .jwplayer .jw-text-live {\n        display: none;\n    } \n\n  \n}\n\n@media screen and (max-width: 400px){\n    <%- selector %> .bm-fifa-button-wrap {        \n        display: none;\n    }\n}"},{}],241:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);i.super_.call(this,l.create({id:l.uniqueId("bm-view-image"),className:"bm-view-image"},e)),this._hasDismissButton=!(!e||!e.hasDismissButton),this._event=r()}var a=e("@bellmedia/bm-base"),o=e("@bellmedia/bm-base-view"),r=e("@bellmedia/bm-base-event"),s=e("bm-css-injector"),l=e("underscore"),c=e("./templates/bm-view-image.tpl"),d=e("./templates/css/bm-view-image.css.tpl");s().injectStyles(l.template(d)({selector:".bm-view-image"}),"bm-view-image"),a.inherits(i,o);var u=i.prototype;u._event=void 0,u._hasDismissButton=!1,u._imgUrl="",u.setImage=function(e){var t=this;t._imgUrl=l.isString(e)?e:t._imgUrl},u.render=function(){var e=this,t=e.compile(c,{imgUrl:e._imgUrl,hasDismissButton:e._hasDismissButton});e.$el.append(t),e.$(".button-dismiss").off("click").on("click",function(){e._event.emit(i.EVENT_DISMISS_CLICK)})},u.on=function(){this._event.on.apply(this._event,arguments)},u.once=function(){this._event.once.apply(this._event,arguments)},u.off=function(){this._event.off.apply(this._event,arguments)},i.EVENT_DISMISS_CLICK="event_dismiss_click",t.exports=i},{"./templates/bm-view-image.tpl":242,"./templates/css/bm-view-image.css.tpl":243,"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"@bellmedia/bm-base-view":10,"bm-css-injector":47,underscore:32}],242:[function(e,t,n){t.exports='<header>  \n  <% if(hasDismissButton) { %>\n    <span class="button-dismiss">&#10005;</span>\n  <% } %>\n</header>\n<img src="<%- imgUrl %>" alt="Blackout Image" />  \n\n'},{}],243:[function(e,t,n){t.exports="<%- selector %> {\n    background: #000000;\n    color: #ffffff;\n    height: 100%;\n    left: 0;\n    position: absolute;\n    top: 0;\n    width: 100%;\n}\n\n<%- selector %> header {\n    position: relative;\n}\n\n<%- selector %> img {\n    margin: 0;\n    width:100%;\n    height: auto;\n}\n\n<%- selector %> .button-dismiss {\n    color: #eae9e9;\n    cursor: pointer;\n    padding: 5px;\n    position: absolute;\n    right: 0;\n    top: 0;\n}\n"},{}],244:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);i.super_.call(this,l.create({id:l.uniqueId("bm-view-info-overlay"),className:"bm-view-info-overlay"},e)),this._event=r(),this._contentId=e.contentId,this._brandType=e.brandType}var a=e("@bellmedia/bm-base"),o=e("@bellmedia/bm-base-view"),r=e("@bellmedia/bm-base-event"),s=e("bm-css-injector"),l=e("underscore"),c=e("./templates/bm-view-info-overlay.tpl"),d=e("./templates/css/bm-view-info-overlay.css.tpl"),u=e("bm-helper-metadata-capi-video"),p=u,m=e("bm-service-factory-translation");s().injectStyles(l.template(d)({selector:".bm-view-info-overlay"}),"bm-view-info-overlay"),a.inherits(i,o);var h=i.prototype;h._event=void 0,h._contentId=void 0,h._brandType="",h.render=function(){var e=this,t=m().getInstance();p([e._contentId],e._brandType,void 0).getMetadata([e._contentId]).then(function(n){var a=n[0].data.metadataExtended,o=e.compile(c,{title:n[0].data.metadataTitle,duration:a.duration,releaseDate:l.isEmpty(a.releaseDate)?null:a.releaseDate,description:a.description,director:a.director,agvotRating:a.agvotRating,qfrLanguage:"QC",qfrRating:a.qfrRating,ratingWarningsEN:e._applyMapping(t,a.ratingWarnings,"en"),ratingWarningsFR:e._applyMapping(t,a.ratingWarnings,"fr"),album:a.album,labels:a.labels,genres:a.genres,releaseDateTitle:t.t("Broadcast Date"),ratingsTitle:t.t("Ratings"),directorTitle:t.t("Director"),albumTitle:t.t("Album"),labelsTitle:t.t("Labels"),genresTitle:t.t("Genre(s)")});e.$el.append(o),e.$(".button-dismiss").off("click").on("click",function(){e._event.emit(i.EVENT_DISMISS_CLICK)})})},h.on=function(){this._event.on.apply(this._event,arguments)},h.once=function(){this._event.once.apply(this._event,arguments)},h.off=function(){this._event.off.apply(this._event,arguments)},h._applyMapping=function(e,t,n){return""===t||void 0===t?"":t.split(", ").map(function(t){return e.t("ratings"+t,n)}).join(", ")},i.EVENT_DISMISS_CLICK="event_dismiss_click",t.exports=i},{"./templates/bm-view-info-overlay.tpl":245,"./templates/css/bm-view-info-overlay.css.tpl":246,"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"@bellmedia/bm-base-view":10,"bm-css-injector":47,"bm-helper-metadata-capi-video":81,"bm-service-factory-translation":120,underscore:32}],245:[function(e,t,n){t.exports='<header>   \r\n  <span class="button-dismiss">&#10005;</span> \r\n</header>\r\n<div class="bm-view-info-overlay-wrap">\r\n  <div class="info-overlay-title"><%- title %></div>\r\n  <div class="info-overlay-duration"><%- duration %></div> \r\n  <div class="info-overlay-content">\r\n    <% if(releaseDate) { %>\r\n      <div class="info-overlay-attr-title"><%- releaseDateTitle %></div>\r\n      <%- releaseDate %>\r\n    <% } %>\r\n  </div>\r\n  <div class="info-overlay-content">\r\n    <% if(director) { %>\r\n      <div class="info-overlay-attr-title"><%- directorTitle %></div>\r\n      <%- director %>\r\n    <% } %>    \r\n  </div>  \r\n  <div class="info-overlay-content">\r\n     <% if(album) { %>\r\n      <div class="info-overlay-attr-title"><%- albumTitle %></div>\r\n      <%- album %>\r\n    <% } %> \r\n  </div>\r\n  <div class="info-overlay-content">\r\n   <% if(labels) { %>\r\n      <div class="info-overlay-attr-title"><%- labelsTitle %></div>\r\n      <%- labels %>\r\n    <% } %> \r\n  </div>\r\n  <div class="info-overlay-content">\r\n   <% if(genres) { %>\r\n      <div class="info-overlay-attr-title"><%- genresTitle %></div>\r\n      <%- genres %>\r\n    <% } %> \r\n  </div>\r\n  <div class="info-overlay-content"><%- description %></div>\r\n  <div class="info-overlay-content">\r\n    <% if(agvotRating || qfrRating) { %>\r\n      <div class="info-overlay-attr-title"><%- ratingsTitle %>:</div>\r\n      <% if(agvotRating) { %>\r\n        <br />\r\n        <div class="info-overlay-rating-item">\r\n          <span><%- agvotRating %></span>\r\n          <span class="info-overlay-rating-warnings"><%- ratingWarningsEN %></span>\r\n        </div>\r\n      <% } %>\r\n      <% if(qfrRating) { %>\r\n        <br />\r\n        <div class="info-overlay-rating-item">\r\n          <span><%- qfrLanguage %>: <%- qfrRating %></span>\r\n          <span class="info-overlay-rating-warnings"><%- ratingWarningsFR %></span>\r\n        </div>\r\n      <% } %>\r\n    <% } %>\r\n  </div>\r\n</div>'},{}],246:[function(e,t,n){t.exports="<%- selector %> {\r\n    background: #000000;\r\n    background: rgba(0, 0, 0, 0.85);\r\n    color: #ffffff;\r\n    height: calc(100% - 2.75em);\r\n    right: 0;\r\n    position: absolute;\r\n    top: 0;\r\n    width: 250px;\r\n}\r\n\r\n<%- selector %> .bm-view-info-overlay-wrap {\r\n    box-sizing: border-box;\r\n    padding: 0 15px;\r\n    position: absolute;    \r\n    top: 20%;    \r\n    width: 100%;\r\n    font-size: 12px;\r\n    overflow-y: auto; \r\n    height: 75%;\r\n    text-align: left;\r\n}\r\n\r\n<%- selector %> .bm-view-info-overlay-wrap .info-overlay-title {\r\n    font-weight: bold;    \r\n}\r\n\r\n<%- selector %> .bm-view-info-overlay-wrap .info-overlay-duration{\r\n    font-size: 11px;\r\n}\r\n\r\n<%- selector %> .bm-view-info-overlay-wrap .info-overlay-content{\r\n    font-size: 11px;\r\n    margin: 10px 0 0 0;    \r\n}\r\n\r\n<%- selector %> .bm-view-info-overlay-wrap .info-overlay-attr-title{       \r\n    color: #666666;    \r\n}\r\n\r\n<%- selector %> span.info-overlay-rating-border {\r\n    border: 1px solid #ffffff;\r\n    border-radius: 4px;\r\n    padding: 3px;\r\n}\r\n\r\n<%- selector %> .info-overlay-rating-item span:nth-child(n+2){\r\n    margin-left: 5px;\r\n}\r\n\r\n<%- selector %> header {\r\n    position: relative;\r\n}\r\n\r\n<%- selector %> .button-dismiss {\r\n    color: #ffffff;\r\n    cursor: pointer;\r\n    padding: 3px;\r\n    position: absolute;\r\n    right: 25px;\r\n    top: 15px;\r\n    font-size: 16px;\r\n}\r\n\r\n@media all and (max-width: 500px){\r\n    <%- selector %> {       \r\n        left: 0;        \r\n        width: 100%;\r\n    }\r\n}\r\n\r\n@media only screen and (max-device-width: 600px) {\r\n    <%- selector %> .button-dismiss {        \r\n        font-size: 21px !important;\r\n    }\r\n}"},{}],247:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);i.super_.call(this,l.create({id:l.uniqueId("bm-view-intro-overlay"),className:"bm-view-intro-overlay"})),this._event=r(),this._icon=e.icon,this._maxWidth=e.maxWidth,this._minHeight=e.minHeight}var a=e("@bellmedia/bm-base"),o=e("@bellmedia/bm-base-view"),r=e("@bellmedia/bm-base-event"),s=e("bm-css-injector"),l=e("underscore"),c=e("./templates/bm-view-intro-overlay.tpl"),d=e("./templates/css/bm-view-intro-overlay.css.tpl"),u=e("bm-service-factory-translation");a.inherits(i,o);var p=i.prototype;p._event=void 0,p._icon="",p._maxWidth="",p._minHeight="",p.render=function(){var e=this,t=u().getInstance();e._injectedStyle=s().injectStyles(l.template(d)({selector:".bm-view-intro-overlay",maxWidth:this._maxWidth,minHeight:this._minHeight}),"bm-view-intro-overlay");var n=e.compile(c,{message:t.t("Survey Message"),icon:e._icon,closeText:t.t("Close")});e.$el.append(n),e.$el.off("click").on("click",function(t){t.target&&!$(t.target).hasClass("button-dismiss")&&e._event.emit(i.EVENT_CLICKTHROUGH)}),e.$(".button-dismiss").off("click").on("click",function(){e._event.emit(i.EVENT_DISMISS_CLICK)})},p.on=function(){this._event.on.apply(this._event,arguments)},p.once=function(){this._event.once.apply(this._event,arguments)},p.off=function(){this._event.off.apply(this._event,arguments)},i.EVENT_CLICKTHROUGH="event_clickthrough",i.EVENT_DISMISS_CLICK="event_dismiss_click",t.exports=i},{"./templates/bm-view-intro-overlay.tpl":248,"./templates/css/bm-view-intro-overlay.css.tpl":249,"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"@bellmedia/bm-base-view":10,"bm-css-injector":47,"bm-service-factory-translation":120,underscore:32}],248:[function(e,t,n){t.exports='<% if(icon){ %>\r\n<div class="iov-icon">\r\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23.2 32.28"><defs><style>.cls-1{fill:#ccc;}</style></defs><title>Survey Icon</title><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path class="cls-1" d="M0,30.93a1.43,1.43,0,0,0,1.5,1.35H21.7a1.43,1.43,0,0,0,1.5-1.35V28.57H0Zm6-.59a.82.82,0,0,1,.86-.77h9.45a.82.82,0,0,1,.86.77v.94H6Z"/><path class="cls-1" d="M21.7,2.52H17.62a1.36,1.36,0,0,0-1.29-1H13.71a2.2,2.2,0,0,0-4.21,0H6.87a1.36,1.36,0,0,0-1.29,1H1.5A1.43,1.43,0,0,0,0,3.87V27.42H23.2V3.87A1.43,1.43,0,0,0,21.7,2.52ZM6.14,21.5A.54.54,0,0,1,5.6,22H4.24a.54.54,0,0,1-.54-.54V20.14a.54.54,0,0,1,.54-.54H5.6a.54.54,0,0,1,.54.54Zm0-4.68a.54.54,0,0,1-.54.54H4.24a.54.54,0,0,1-.54-.54V15.46a.54.54,0,0,1,.54-.54H5.6a.54.54,0,0,1,.54.54Zm0-4.68a.54.54,0,0,1-.54.54H4.24a.54.54,0,0,1-.54-.54V10.78a.54.54,0,0,1,.54-.54H5.6a.54.54,0,0,1,.54.54Zm.37-9.22a.36.36,0,0,1,.36-.36h3.48l0-.45a1.21,1.21,0,0,1,2.41,0l0,.45h3.48a.36.36,0,0,1,.36.36v2H6.51ZM18.93,21.4H8.2a.57.57,0,1,1,0-1.15H18.93a.57.57,0,1,1,0,1.15Zm.57-5.26a.57.57,0,0,1-.57.57H8.2a.57.57,0,0,1-.57-.57h0a.57.57,0,0,1,.57-.57H18.93a.57.57,0,0,1,.57.57ZM18.93,12H8.2a.57.57,0,1,1,0-1.15H18.93a.57.57,0,1,1,0,1.15Z"/></g></g></svg>\r\n</div>\r\n<% } %>\r\n<div class="iov-message">\r\n  <%= message %>\r\n</div>\r\n<div class="jw-icon jw-icon-inline jw-button-color jw-reset jw-settings-close button-dismiss" role="button" tabindex="0" aria-label="<%- closeText %>">\r\n  <svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-close" viewBox="0 0 240 240" focusable="false">\r\n    <path d="M134.8,120l48.6-48.6c2-1.9,2.1-5.2,0.2-7.2c0,0-0.1-0.1-0.2-0.2l-7.4-7.4c-1.9-2-5.2-2.1-7.2-0.2c0,0-0.1,0.1-0.2,0.2L120,105.2L71.4,56.6c-1.9-2-5.2-2.1-7.2-0.2c0,0-0.1,0.1-0.2,0.2L56.6,64c-2,1.9-2.1,5.2-0.2,7.2c0,0,0.1,0.1,0.2,0.2l48.6,48.7l-48.6,48.6c-2,1.9-2.1,5.2-0.2,7.2c0,0,0.1,0.1,0.2,0.2l7.4,7.4c1.9,2,5.2,2.1,7.2,0.2c0,0,0.1-0.1,0.2-0.2l48.7-48.6l48.6,48.6c1.9,2,5.2,2.1,7.2,0.2c0,0,0.1-0.1,0.2-0.2l7.4-7.4c2-1.9,2.1-5.2,0.2-7.2c0,0-0.1-0.1-0.2-0.2L134.8,120z"></path>\r\n  </svg>\r\n</div>'},{}],249:[function(e,t,n){t.exports="<%- selector %> {\r\n    display: initial !important;\r\n    background-color: rgba(0,0,0,0.5);\r\n    color: #fff;\r\n    position: absolute;\r\n    flex-flow: column nowrap;\r\n    align-items: flex-start;\r\n    pointer-events: auto;\r\n    top:0;\r\n    left:0;\r\n    width: 100%;\r\n    max-width: 100%;\r\n    z-index: 99999;\r\n}\r\n\r\n<%- selector %> .iov-icon {\r\n    float:left;\r\n    margin: 12px 0 12px 15px;\r\n    width: 30px;\r\n    height: 30px;\r\n}\r\n\r\n<%- selector %> .iov-message {\r\n    float: left;\r\n    margin: 12px 0 12px 15px;\r\n    width: calc(100% - 109px);\r\n    min-height: <%- minHeight %>;\r\n    max-width: <%- maxWidth %>;\r\n}\r\n\r\n<%- selector %> .iov-icon:hover, <%- selector %> .iov-message:hover{\r\n    cursor: pointer;\r\n}\r\n\r\n<%- selector %> .jw-settings-close {\r\n    position: absolute;\r\n    right: 5px;\r\n    width: 32px;\r\n}\r\n\r\n/* float player */\r\n.jwplayer.jw-flag-small-player <%- selector %> {\r\n    display:none !important;\r\n}\r\n\r\n/* added to jw-title when intro overlay is active */\r\n.jw-title-hidden{\r\n    display: none !important;\r\n    visibility: hidden !important;\r\n}"},{}],250:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);i.super_.call(this,e)}var a=e("@bellmedia/bm-base"),o=e("bm-view-message"),r=(e("@bellmedia/bm-base-event"),e("bm-css-injector")),s=e("underscore"),l=e("./templates/css/bm-view-message-bmauth2.css.tpl");r().injectStyles(s.template(l)(),"bm-view-message-bmauth2"),a.inherits(i,o);var c=i.prototype;c.setMessage=function(e,t){i.super_.prototype.setMessage.apply(this,arguments),this._body='<a href="" class="signin-to-watch">'+this._body+"</a>"},c.render=function(){var e=this;i.super_.prototype.render.apply(this,arguments),this.$(".signin-to-watch").off("click").on("click",function(t){t.preventDefault(),e._event.emit(i.EVENT_SIGNIN_CLICK)})},i.EVENT_SIGNIN_CLICK="event_signin_click",t.exports=i},{"./templates/css/bm-view-message-bmauth2.css.tpl":251,"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"bm-css-injector":47,"bm-view-message":252,underscore:32}],251:[function(e,t,n){t.exports=".bm-view-message a.signin-to-watch,\n.bm-view-message a.signin-to-watch:focus,\n.bm-view-message a.signin-to-watch:visited,\n.bm-view-message a.signin-to-watch:active{\n    color: #FFF;\n    text-decoration: none;\n}\n\n.bm-view-message a.signin-to-watch:hover{\n    text-decoration: underline;\n}\n\n"},{}],252:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);i.super_.call(this,l.create({id:l.uniqueId("bm-view-message"),className:"bm-view-message"},e)),this._hasDismissButton=!(!e||!e.hasDismissButton),this._hasLockIcon=!(!e||!e.hasLockIcon),this._event=r()}var a=e("@bellmedia/bm-base"),o=e("@bellmedia/bm-base-view"),r=e("@bellmedia/bm-base-event"),s=e("bm-css-injector"),l=e("underscore"),c=e("./templates/bm-view-message.tpl"),d=e("./templates/css/bm-view-message.css.tpl");s().injectStyles(l.template(d)({selector:".bm-view-message"}),"bm-view-message"),a.inherits(i,o);var u=i.prototype;u._event=void 0,u._hasDismissButton=!1,u._hasLockIcon=!1,u._title="",u._body="",u.setMessage=function(e,t){var n=this;n._title=l.isString(e)?e:n._title,n._body=l.isString(t)?t:n._body},u.render=function(){var e=this,t=e.compile(c,{title:e._title,body:e._body,hasDismissButton:e._hasDismissButton,hasLockIcon:e._hasLockIcon});e.$el.append(t),e.$(".button-dismiss").off("click").on("click",function(){e._event.emit(i.EVENT_DISMISS_CLICK)})},u.on=function(){this._event.on.apply(this._event,arguments)},u.once=function(){this._event.once.apply(this._event,arguments)},u.off=function(){this._event.off.apply(this._event,arguments)},i.EVENT_DISMISS_CLICK="event_dismiss_click",t.exports=i},{"./templates/bm-view-message.tpl":253,"./templates/css/bm-view-message.css.tpl":254,"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"@bellmedia/bm-base-view":10,"bm-css-injector":47,underscore:32}],253:[function(e,t,n){t.exports='<header>\n  <h2><%- title %></h2>\n  <% if(hasDismissButton) { %>\n    <span class="button-dismiss">&#10005;</span>\n  <% } %>\n</header>\n<div class="message-wrap">\n  <div>\n  <% if(hasLockIcon) { %>\n    <span class="bm-vidi-lock-icon"></span>\n  <% } %>\n    <%= body %>\n  </div>\n</div>\n'},{}],254:[function(e,t,n){t.exports="<%- selector %> {\n    background: #000000;\n    background: rgba(0, 0, 0, 1);\n    color: #ffffff;\n    height: 100%;\n    left: 0;\n    position: absolute;\n    top: 0;\n    width: 100%;\n}\n\n<%- selector %> .message-wrap {\n    box-sizing: border-box;\n    padding: 0 15px;\n    position: absolute;\n    text-align: center;\n    top: 50%;\n    transform: translateY(-50%);\n    width: 100%;\n}\n\n<%- selector %> .message-wrap > div {\n    margin: 6px 0;\n}\n\n<%- selector %> .message-wrap > div > span.bm-vidi-lock-icon {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23ccc;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3EVidi_icon_Lock%3C/title%3E%3Cpath class='cls-1' d='M7,26.5H25v-12H22.94V13.05a8.24,8.24,0,0,0-2-5.41A6.84,6.84,0,0,0,16,5.5h0a6.77,6.77,0,0,0-4.92,2.14,8.24,8.24,0,0,0-2,5.4V14.5H7Zm4.55-13.45a5.93,5.93,0,0,1,1.32-3.77h0A4.34,4.34,0,0,1,16,7.89h0a4.35,4.35,0,0,1,3.13,1.38h0a5.87,5.87,0,0,1,1.32,3.77V14.5H11.54V13.05Z'/%3E%3C/svg%3E\");\n    width: 20px;\n    height: 20px;\n    display: inline;\n    position: absolute;\n    margin: 0px 0 0 -24px;\n}\n\n<%- selector %> .message-wrap > div a {\n    color: #ffffff;\n}\n\n<%- selector %> header {\n    position: relative;\n}\n\n<%- selector %> header h2 {\n    padding: 2px 0;\n    font-size: 2.2em;\n}\n\n\n<%- selector %> .button-dismiss {\n    color: #eae9e9;\n    cursor: pointer;\n    padding: 5px;\n    position: absolute;\n    right: 0;\n    top: 0;\n}\n"},{}],255:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i;i.super_.call(this,l.create({id:l.uniqueId("bm-view-pause-ads"),className:"bm-view-pause-ads"})),this._event=s()}var a=e("@bellmedia/bm-base"),o=e("@bellmedia/bm-base-view"),r=e("bm-css-injector"),s=e("@bellmedia/bm-base-event"),l=e("underscore"),c=e("./templates/bm-view-pause-ads.tpl"),d=e("./templates/css/bm-view-pause-ads.css.tpl");r().injectStyles(l.template(d)({selector:".bm-view-pause-ads"}),"bm-view-pause-ads"),a.inherits(i,o);var u=i.prototype;u._event=void 0,u.render=function(){var e=this,t=e.compile(c);e.$el.append(t)},u.displayPauseAds=function(e){e?($(".bm-view-pause-ads").show(),$(".jw-settings-menu").addClass("bm-jw-settings-zindex")):($(".bm-view-pause-ads").hide(),$(".jw-settings-menu").removeClass("bm-jw-settings-zindex"))},u.on=function(){this._event.on.apply(this._event,arguments)},u.once=function(){this._event.once.apply(this._event,arguments)},u.off=function(){this._event.off.apply(this._event,arguments)},i.getAdDivId=function(){return"bm-gpt-pauseAd"},i.getAdDimensions=function(){return[315,400]},t.exports=i},{"./templates/bm-view-pause-ads.tpl":256,
"./templates/css/bm-view-pause-ads.css.tpl":257,"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"@bellmedia/bm-base-view":10,"bm-css-injector":47,underscore:32}],256:[function(e,t,n){t.exports='<div class="bm-view-pause-ads-container">\n    <div class="bm-view-pause-ads-position-wrapper">\n        <div id="bm-gpt-pauseAd" class="bm-view-pause-ads-image"></div>\n    </div>\n</div>'},{}],257:[function(e,t,n){t.exports="<%- selector %> .bm-view-pause-ads-container {\n    background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgb(0, 0, 0, 1) 65%);\n    height: calc(95% - 3em);\n    width: 30%;\n    position: absolute;\n    top: 0;\n    right: 0;\n}\n\n<%- selector %> .bm-view-pause-ads-position-wrapper {\n    position: relative;\n    height: 100%;\n}\n\n<%- selector %> .bm-view-pause-ads-image {\n    margin: 0;\n    position: absolute;\n    top: 50%;\n    right: 15%;\n    -ms-transform: translateY(-50%);\n    transform: translateY(-50%);\n}\n\n.bm-jw-settings-zindex {\n    z-index: 100;\n}\n"},{}],258:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);s().injectStyles(l.template(d)({selector:"."+p}),p),i.super_.call(this,l.create({id:l.uniqueId(p),className:p},e)),this._event=r(),this._t=u().getInstance();var t=this.compile(c,{skipBreakLabel:"skip",skipBreakIcon:e.skipBreakIcon});this.$el.append(t);var n=this;n._skipBreakLabel=this.$el.find(".skipbreaks-label")[0],n.$(".skipbreaks-click-area").on("click",n._onViewClick.bind(n))}var a=e("@bellmedia/bm-base"),o=e("@bellmedia/bm-base-view"),r=e("@bellmedia/bm-base-event"),s=e("bm-css-injector"),l=e("underscore"),c=e("./templates/bm-view-skipbreaks.tpl"),d=e("./templates/css/bm-view-skipbreaks.css.tpl"),u=e("bm-service-factory-translation"),p="bm-view-skipbreaks";a.inherits(i,o);var m=i.prototype;m._onViewClick=function(){this._event.emit(i.EVENT_SKIP_BREAK)},m._event=void 0,m.render=function(){},m.updateLabel=function(e){var t=this,n=t._t.t("Skip "+e);t._skipBreakLabel.textContent=n},m.display=function(e){e?$("."+p).show():$("."+p).hide()},m.on=function(){this._event.on.apply(this._event,arguments)},m.once=function(){this._event.once.apply(this._event,arguments)},m.off=function(){this._event.off.apply(this._event,arguments)},i.EVENT_SKIP_BREAK="event_skip_break",t.exports=i},{"./templates/bm-view-skipbreaks.tpl":259,"./templates/css/bm-view-skipbreaks.css.tpl":260,"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"@bellmedia/bm-base-view":10,"bm-css-injector":47,"bm-service-factory-translation":120,underscore:32}],259:[function(e,t,n){t.exports='<div class="skipbreaks-wrap">\n    <div class="skipbreaks-click-area"></div>\n    <div class="skipbreaks-label"><%- skipBreakLabel %></div>\n    <img class="skipbreaks-icon" src="<%- skipBreakIcon %>" alt="Skip Breaks Icon Image" />\n</div>'},{}],260:[function(e,t,n){t.exports="<%- selector %> {   \n    color: #999999;    \n    left: 0;    \n    top: 0;        \n    width: 300px;\n    height: auto;\n    float: right;\n    clear: both; \n    margin-right: 5px; \n}    \n\n<%- selector %> .skipbreaks-wrap {   \n    padding: 12px 15px 10px 15px;\n    position: absolute;  \n    cursor: pointer;    \n    font-size: 11px;\n    border: 1px solid #313131;    \n    background-color: #000000;\n    display: inline-block;\n    overflow: hidden;  \n    pointer-events: all; \n    bottom: 70px;\n    left: 10px;\n    display: grid;\n    grid-template-columns: auto auto;\n}\n\n<%- selector %> .skipbreaks-wrap:hover {   \n    background-color: rgba(0, 0, 0, 0.8);\n}\n\n<%- selector %> .skipbreaks-wrap .skipbreaks-click-area{\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    lefT: 0;\n}\n<%- selector %> .skipbreaks-wrap .skipbreaks-label{   \n    font-family: Arial;\n    font-size: 16px;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.14;\n    letter-spacing: normal;\n    color: #FFFFFF;\n    text-transform: uppercase;\n}\n\n<%- selector %> .skipbreaks-wrap .skipbreaks-icon{   \n    margin-top: 2px;\n    margin-left: 15px;\n    width: 20px;\n    height: auto;\n}\n\n.jw-breakpoint-0 .bm-view-skipbreaks .skipbreaks-wrap,\n.jw-breakpoint-1 .bm-view-skipbreaks .skipbreaks-wrap{\n    display: none;\n}\n\n/* fullscreen position */\n.jw-breakpoint-7 .bm-view-skipbreaks .skipbreaks-wrap{\n    bottom: 120px;\n    left: 60px;\n}"},{}],261:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);i.super_.call(this,l.create({id:l.uniqueId("bm-view-upnext"),className:"bm-view-upnext"},e)),this._event=r(),this._brandColor=e.brandColor,this._t=u().getInstance();var t=this.compile(c,{title:e.title,episodeText:e.episodeText,playImgUrl:e.playImgUrl,dismissImgUrl:e.dismissImgUrl,playingIn:this._t.t("Playing in"),upNextHeader:this._t.t("Up Next")});this.$el.append(t),this._canvasUpnext=this.$el.find("#bm-upnext-timer-donut")[0];var n=this;n.$(".upnext-wrap").off("click").on("click",function(e){$(e.target).hasClass("dismiss-button")||n._event.emit(i.EVENT_PLAY_UPNEXT_ITEM)}),n.$("img.dismiss-button").off("click").on("click",function(){n._event.emit(i.EVENT_DISMISS_UPNEXT_ITEM)})}var a=e("@bellmedia/bm-base"),o=e("@bellmedia/bm-base-view"),r=e("@bellmedia/bm-base-event"),s=e("bm-css-injector"),l=e("underscore"),c=e("./templates/bm-view-upnext.tpl"),d=e("./templates/css/bm-view-upnext.css.tpl"),u=e("bm-service-factory-translation");s().injectStyles(l.template(d)({selector:".bm-view-upnext"}),"bm-view-upnext"),a.inherits(i,o);var p=i.prototype;p._event=void 0,p._brandColor="",p._timeRemain="",p._timeDuration="",p._canvasUpnext={},p._t={},p.render=function(){var e=this;if(e._canvasUpnext){var t=e._canvasUpnext.getContext("2d"),n=e._canvasUpnext.width/2,i=e._canvasUpnext.height/2,a=0*Math.PI,o=0*Math.PI,r=parseInt(e._timeRemain),s=(e._timeDuration-r)/e._timeDuration;t.clearRect(0,0,42,42),t.beginPath(),t.arc(n,i,18,0,2*Math.PI,!1),t.lineWidth=2,t.strokeStyle=e._brandColor,t.stroke(),s<=.25?(a=1.5*Math.PI,o=1.5*Math.PI+2*s*Math.PI):(t.beginPath(),t.arc(n,i,18,1.5*Math.PI,2*Math.PI,!1),t.lineWidth=3,t.strokeStyle="#232323",t.stroke(),a=0*Math.PI,o=2*(s-.25)*Math.PI),t.beginPath(),t.arc(n,i,18,a,o,!1),t.fillStyle="#999999",t.textBaseline="middle",t.textAlign="center",t.fillText(r+"s",n,i),t.lineWidth=3,t.strokeStyle="#232323",t.stroke()}},p.updateTimerData=function(e,t){var n=this;n._timeRemain=e,n._timeDuration=t},p.on=function(){this._event.on.apply(this._event,arguments)},p.once=function(){this._event.once.apply(this._event,arguments)},p.off=function(){this._event.off.apply(this._event,arguments)},i.EVENT_PLAY_UPNEXT_ITEM="event_play_upnext_item",i.EVENT_DISMISS_UPNEXT_ITEM="event_dismiss_upnext_item",t.exports=i},{"./templates/bm-view-upnext.tpl":262,"./templates/css/bm-view-upnext.css.tpl":263,"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"@bellmedia/bm-base-view":10,"bm-css-injector":47,"bm-service-factory-translation":120,underscore:32}],262:[function(e,t,n){t.exports='<div class="upnext-wrap">\n  <div class="upnext-header">\n    <span class="upnext-header-text"><%- upNextHeader %></span>\n    <img class="dismiss-button" src="<%- dismissImgUrl %>" alt="Dismiss Icon Image" />\n  </div>\n  <div class="bm-float-left bm-upnext-image-title">\n   <span class="align-helper"></span>\n   <img class="play-button" src="<%- playImgUrl %>" alt="Play Icon Image" />\n   <div class="metadata-wrapper">\n      <div class="upnext-title"><%- title %></div>\n      <div class="bm-episode-text"><%- episodeText %></div>\n    </div> \n  </div>\n  <div class="bm-float-left bm-upnext-timer">\n    <div id="bm-upnext-text-playing-in" class="bm-upnext-text-playing-in"><%- playingIn %></div>\n    <canvas id="bm-upnext-timer-donut" width="42" height="42"></canvas>     \n  </div>\n</div>\n'},{}],263:[function(e,t,n){t.exports="<%- selector %> {   \n    color: #999999;    \n    left: 0;    \n    top: 0;        \n    width: 300px;\n    height: auto;\n    float: right;\n    clear: both; \n    margin-right: 5px; \n}    \n\n<%- selector %> .upnext-wrap {   \n    padding: 5px;   \n    transform: translateY(-50%); \n    position: absolute;  \n    cursor: pointer;    \n    font-size: 11px;\n    border: 1px solid #999999;    \n    background-color: #000000;\n    display: inline-block;\n    overflow: hidden;    \n    max-width: 300px;\n    height: 100px;\n    width: 100%;\n    pointer-events: all; \n    bottom: 20px;\n    letter-spacing: 0.3px;\n}\n\n<%- selector %> .upnext-wrap .upnext-header {   \n    border-bottom: 1px solid #999999;\n    height: 2em;\n    margin-bottom: 5px;\n}\n\n<%- selector %> .upnext-wrap .upnext-header .upnext-header-text {\n    float: left;\n}\n\n<%- selector %> .upnext-wrap .upnext-header img.dismiss-button {\n    float: right;\n    width: 1.5em;\n    height: auto;\n    margin-top: -3px;\n    opacity: 0.7;\n}\n\n<%- selector %> .upnext-wrap .upnext-header img.dismiss-button:hover {\n    opacity: 1;\n}\n\n<%- selector %> .upnext-wrap .metadata-wrapper{\n    display: inline-block;\n    vertical-align: middle;\n    max-height: 60px;\n    overflow: hidden;\n    width: 70%;\n    margin-left: 4px;\n}\n\n<%- selector %> .upnext-wrap .upnext-title {\n    font-weight: bold;\n    color: #e2e2e2;\n    display: inline-block;\n}\n\n<%- selector %> .upnext-wrap .bm-upnext-image-title {\n    width: 65%;\n    height: 60px;\n}\n\n<%- selector %> .upnext-wrap .align-helper{\n    display:inline-block;\n    height: 100%;\n    vertical-align: middle;\n}\n\n<%- selector %> .upnext-wrap img.play-button{\n    opacity: 0.7;\n    vertical-align: middle;\n    height: 40px;\n    width: auto;\n}\n\n<%- selector %> .upnext-wrap img.play-button:hover{\n    opacity: 1;   \n}\n\n<%- selector %> .upnext-wrap .bm-upnext-timer {\n    width: 30%;\n    border-left: 1px solid #232323;\n    padding: 2px;\n    margin: 0 0 0 5px;\n    text-align: center;\n    max-height: 60px;\n}\n\n<%- selector %> .bm-float-left {\n    float: left;\n}\n\n.jw-breakpoint-7 .bm-view-upnext .upnext-wrap {\n    bottom: 70px;\n}"},{}],264:[function(e,t,n){arguments[4][14][0].apply(n,arguments)},{bluebird:266,dup:14}],265:[function(e,t,n){"use strict";function i(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function a(e){var t=i(e),n=t[0],a=t[1];return 3*(n+a)/4-a}function o(e,t,n){return 3*(t+n)/4-n}function r(e){var t,n,a=i(e),r=a[0],s=a[1],l=new p(o(e,r,s)),c=0,d=s>0?r-4:r;for(n=0;n<d;n+=4)t=u[e.charCodeAt(n)]<<18|u[e.charCodeAt(n+1)]<<12|u[e.charCodeAt(n+2)]<<6|u[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===s&&(t=u[e.charCodeAt(n)]<<2|u[e.charCodeAt(n+1)]>>4,l[c++]=255&t),1===s&&(t=u[e.charCodeAt(n)]<<10|u[e.charCodeAt(n+1)]<<4|u[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l}function s(e){return d[e>>18&63]+d[e>>12&63]+d[e>>6&63]+d[63&e]}function l(e,t,n){for(var i,a=[],o=t;o<n;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(s(i));return a.join("")}function c(e){for(var t,n=e.length,i=n%3,a=[],o=0,r=n-i;o<r;o+=16383)a.push(l(e,o,o+16383>r?r:o+16383));return 1===i?(t=e[n-1],a.push(d[t>>2]+d[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(d[t>>10]+d[t>>4&63]+d[t<<2&63]+"=")),a.join("")}n.byteLength=a,n.toByteArray=r,n.fromByteArray=c;for(var d=[],u=[],p="undefined"!=typeof Uint8Array?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,f=m.length;h<f;++h)d[h]=m[h],u[m.charCodeAt(h)]=h;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},{}],266:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{_process:272,dup:16,timers:273}],267:[function(e,t,n){(function(t){(function(){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
"use strict";function t(e){if(e>z)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=i.prototype,t}function i(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return s(e)}return a(e,t,n)}function a(e,t,n){if("string"==typeof e)return l(e,t);if(ArrayBuffer.isView(e))return c(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(K(e,ArrayBuffer)||e&&K(e.buffer,ArrayBuffer))return d(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var a=e.valueOf&&e.valueOf();if(null!=a&&a!==e)return i.from(a,t,n);var o=u(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return i.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function o(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function r(e,n,i){return o(e),e<=0?t(e):void 0!==n?"string"==typeof i?t(e).fill(n,i):t(e).fill(n):t(e)}function s(e){return o(e),t(e<0?0:0|p(e))}function l(e,n){if("string"==typeof n&&""!==n||(n="utf8"),!i.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var a=0|h(e,n),o=t(a),r=o.write(e,n);return r!==a&&(o=o.slice(0,r)),o}function c(e){for(var n=e.length<0?0:0|p(e.length),i=t(n),a=0;a<n;a+=1)i[a]=255&e[a];return i}function d(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var a;return a=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),a.__proto__=i.prototype,a}function u(e){if(i.isBuffer(e)){var n=0|p(e.length),a=t(n);return 0===a.length?a:(e.copy(a,0,0,n),a)}return void 0!==e.length?"number"!=typeof e.length||Y(e.length)?t(0):c(e):"Buffer"===e.type&&Array.isArray(e.data)?c(e.data):void 0}function p(e){if(e>=z)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+z.toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),i.alloc(+e)}function h(e,t){if(i.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||K(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,a=arguments.length>2&&!0===arguments[2];if(!a&&0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(o)return a?-1:j(e).length;t=(""+t).toLowerCase(),o=!0}}function f(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return k(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function _(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function b(e,t,n,a,o){if(0===e.length)return-1;if("string"==typeof n?(a=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,Y(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=i.from(t,a)),i.isBuffer(t))return 0===t.length?-1:v(e,t,n,a,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,a,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,i,a){function o(e,t){return 1===r?e[t]:e.readUInt16BE(t*r)}var r=1,s=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;r=2,s/=2,l/=2,n/=2}var c;if(a){var d=-1;for(c=n;c<s;c++)if(o(e,c)===o(t,-1===d?0:c-d)){if(-1===d&&(d=c),c-d+1===l)return d*r}else-1!==d&&(c-=c-d),d=-1}else for(n+l>s&&(n=s-l),c=n;c>=0;c--){for(var u=!0,p=0;p<l;p++)if(o(e,c+p)!==o(t,p)){u=!1;break}if(u)return c}return-1}function g(e,t,n,i){n=Number(n)||0;var a=e.length-n;i?(i=Number(i))>a&&(i=a):i=a;var o=t.length;i>o/2&&(i=o/2);for(var r=0;r<i;++r){var s=parseInt(t.substr(2*r,2),16);if(Y(s))return r;e[n+r]=s}return r}function y(e,t,n,i){return G(j(t,e.length-n),e,n,i)}function E(e,t,n,i){return G(U(t),e,n,i)}function T(e,t,n,i){return E(e,t,n,i)}function w(e,t,n,i){return G(F(t),e,n,i)}function S(e,t,n,i){return G(H(t,e.length-n),e,n,i)}function C(e,t,n){return 0===t&&n===e.length?$.fromByteArray(e):$.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);for(var i=[],a=t;a<n;){var o=e[a],r=null,s=o>239?4:o>223?3:o>191?2:1;if(a+s<=n){var l,c,d,u;switch(s){case 1:o<128&&(r=o);break;case 2:l=e[a+1],128==(192&l)&&(u=(31&o)<<6|63&l)>127&&(r=u);break;case 3:l=e[a+1],c=e[a+2],128==(192&l)&&128==(192&c)&&(u=(15&o)<<12|(63&l)<<6|63&c)>2047&&(u<55296||u>57343)&&(r=u);break;case 4:l=e[a+1],c=e[a+2],d=e[a+3],128==(192&l)&&128==(192&c)&&128==(192&d)&&(u=(15&o)<<18|(63&l)<<12|(63&c)<<6|63&d)>65535&&u<1114112&&(r=u)}}null===r?(r=65533,s=1):r>65535&&(r-=65536,i.push(r>>>10&1023|55296),r=56320|1023&r),i.push(r),a+=s}return P(i)}function P(e){var t=e.length;if(t<=J)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=J));return n}function A(e,t,n){var i="";n=Math.min(e.length,n);for(var a=t;a<n;++a)i+=String.fromCharCode(127&e[a]);return i}function k(e,t,n){var i="";n=Math.min(e.length,n);for(var a=t;a<n;++a)i+=String.fromCharCode(e[a]);return i}function x(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var a="",o=t;o<n;++o)a+=O(e[o]);return a}function N(e,t,n){for(var i=e.slice(t,n),a="",o=0;o<i.length;o+=2)a+=String.fromCharCode(i[o]+256*i[o+1]);return a}function M(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,n,a,o,r){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<r)throw new RangeError('"value" argument is out of bounds');if(n+a>e.length)throw new RangeError("Index out of range")}function L(e,t,n,i,a,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,i,a){return t=+t,n>>>=0,a||L(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),W.write(e,t,n,i,23,4),n+4}function V(e,t,n,i,a){return t=+t,n>>>=0,a||L(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),W.write(e,t,n,i,52,8),n+8}function R(e){if(e=e.split("=")[0],e=e.trim().replace(q,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function O(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){t=t||1/0;for(var n,i=e.length,a=null,o=[],r=0;r<i;++r){if((n=e.charCodeAt(r))>55295&&n<57344){if(!a){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(r+1===i){(t-=3)>-1&&o.push(239,191,189);continue}a=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(t-=3)>-1&&o.push(239,191,189);if(a=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function H(e,t){for(var n,i,a,o=[],r=0;r<e.length&&!((t-=2)<0);++r)n=e.charCodeAt(r),i=n>>8,a=n%256,o.push(a),o.push(i);return o}function F(e){return $.toByteArray(R(e))}function G(e,t,n,i){for(var a=0;a<i&&!(a+n>=t.length||a>=e.length);++a)t[a+n]=e[a];return a}function K(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!==e}var $=e("base64-js"),W=e("ieee754");n.Buffer=i,n.SlowBuffer=m,n.INSPECT_MAX_BYTES=50;var z=2147483647;n.kMaxLength=z,i.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),i.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||void 0,Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),i.poolSize=8192,i.from=function(e,t,n){return a(e,t,n)},i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,i.alloc=function(e,t,n){return r(e,t,n)},i.allocUnsafe=function(e){return s(e)},i.allocUnsafeSlow=function(e){return s(e)},i.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==i.prototype},i.compare=function(e,t){if(K(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),K(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,a=t.length,o=0,r=Math.min(n,a);o<r;++o)if(e[o]!==t[o]){n=e[o],a=t[o];break}return n<a?-1:a<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var a=i.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var r=e[n];if(K(r,Uint8Array)&&(r=i.from(r)),!i.isBuffer(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(a,o),o+=r.length}return a},i.byteLength=h,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)_(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)_(this,t,t+3),_(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4);return this},i.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):f.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},i.prototype.compare=function(e,t,n,a,o){if(K(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),!i.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===a&&(a=0),void 0===o&&(o=this.length),t<0||n>e.length||a<0||o>this.length)throw new RangeError("out of range index");if(a>=o&&t>=n)return 0;if(a>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,a>>>=0,o>>>=0,this===e)return 0;for(var r=o-a,s=n-t,l=Math.min(r,s),c=this.slice(a,o),d=e.slice(t,n),u=0;u<l;++u)if(c[u]!==d[u]){r=c[u],s=d[u];break}return r<s?-1:s<r?1:0},i.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},i.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},i.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var a=this.length-t;if((void 0===n||n>a)&&(n=a),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return g(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return E(this,e,t,n);case"latin1":case"binary":return T(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;i.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var a=this.subarray(e,t);return a.__proto__=i.prototype,a},i.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);for(var i=this[e],a=1,o=0;++o<t&&(a*=256);)i+=this[e+o]*a;return i},i.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);for(var i=this[e+--t],a=1;t>0&&(a*=256);)i+=this[e+--t]*a;return i},i.prototype.readUInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);for(var i=this[e],a=1,o=0;++o<t&&(a*=256);)i+=this[e+o]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*t)),i},i.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);for(var i=t,a=1,o=this[e+--i];i>0&&(a*=256);)o+=this[e+--i]*a;return a*=128,o>=a&&(o-=Math.pow(2,8*t)),o},i.prototype.readInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){e>>>=0,t||M(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){e>>>=0,t||M(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return e>>>=0,t||M(e,4,this.length),W.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return e>>>=0,t||M(e,4,this.length),W.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return e>>>=0,t||M(e,8,this.length),W.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return e>>>=0,t||M(e,8,this.length),W.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t>>>=0,n>>>=0,!i){B(this,e,t,n,Math.pow(2,8*n)-1,0)}var a=1,o=0;for(this[t]=255&e;++o<n&&(a*=256);)this[t+o]=e/a&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t>>>=0,n>>>=0,!i){B(this,e,t,n,Math.pow(2,8*n)-1,0)}var a=n-1,o=1;for(this[t+a]=255&e;--a>=0&&(o*=256);)this[t+a]=e/o&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,1,255,0),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t>>>=0,!i){var a=Math.pow(2,8*n-1);B(this,e,t,n,a-1,-a)}var o=0,r=1,s=0;for(this[t]=255&e;++o<n&&(r*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/r>>0)-s&255;return t+n},i.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t>>>=0,!i){var a=Math.pow(2,8*n-1);B(this,e,t,n,a-1,-a)}var o=n-1,r=1,s=0;for(this[t+o]=255&e;--o>=0&&(r*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/r>>0)-s&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return V(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return V(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,a){if(!i.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),a||0===a||(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&a<n&&(a=n),a===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-n&&(a=e.length-t+n);var o=a-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,a);else if(this===e&&n<t&&t<a)for(var r=o-1;r>=0;--r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,a),t);return o},i.prototype.fill=function(e,t,n,a){if("string"==typeof e){if("string"==typeof t?(a=t,t=0,n=this.length):"string"==typeof n&&(a=n,n=this.length),void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!i.isEncoding(a))throw new TypeError("Unknown encoding: "+a);if(1===e.length){var o=e.charCodeAt(0);("utf8"===a&&o<128||"latin1"===a)&&(e=o)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var r;if("number"==typeof e)for(r=t;r<n;++r)this[r]=e;else{var s=i.isBuffer(e)?e:i.from(e,a),l=s.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(r=0;r<n-t;++r)this[r+t]=s[r%l]}return this};var q=/[^+\/0-9A-Za-z-_]/g}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":265,buffer:267,ieee754:269}],268:[function(e,t,n){"use strict";function i(e){console&&console.warn&&void 0}function a(){a.init.call(this)}function o(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function r(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function s(e,t,n,a){var s,l,c;if(o(n),l=e._events,void 0===l?(l=e._events=Object.create(null),e._eventsCount=0):(void 0!==l.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),l=e._events),c=l[t]),void 0===c)c=l[t]=n,++e._eventsCount;else if("function"==typeof c?c=l[t]=a?[n,c]:[c,n]:a?c.unshift(n):c.push(n),(s=r(e))>0&&c.length>s&&!c.warned){c.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=c.length,i(d)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},a=l.bind(i);return a.listener=n,i.wrapFn=a,a}function d(e,t,n){var i=e._events;if(void 0===i)return[];var a=i[t];return void 0===a?[]:"function"==typeof a?n?[a.listener||a]:[a]:n?h(a):p(a,a.length)}function u(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function m(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function h(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function f(e,t){return new Promise(function(n,i){function a(n){e.removeListener(t,o),i(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",a),n([].slice.call(arguments))}b(e,t,o,{once:!0}),"error"!==t&&_(e,a,{once:!0})})}function _(e,t,n){"function"==typeof e.on&&b(e,"error",t,n)}function b(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function a(o){i.once&&e.removeEventListener(t,a),n(o)})}}var v,g="object"==typeof Reflect?Reflect:null,y=g&&"function"==typeof g.apply?g.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};v=g&&"function"==typeof g.ownKeys?g.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var E=Number.isNaN||function(e){return e!==e};t.exports=a,t.exports.once=f,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var T=10;Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return T},set:function(e){if("number"!=typeof e||e<0||E(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");T=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||E(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return r(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var r=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw r.context=o,r}var s=a[e];if(void 0===s)return!1;if("function"==typeof s)y(s,this,t);else for(var l=s.length,c=p(s,l),n=0;n<l;++n)y(c[n],this,t);return!0},a.prototype.addListener=function(e,t){return s(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return s(this,e,t,!0)},a.prototype.once=function(e,t){return o(t),this.on(e,c(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,c(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,i,a,r,s;if(o(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(a=-1,r=n.length-1;r>=0;r--)if(n[r]===t||n[r].listener===t){s=n[r].listener,a=r;break}if(a<0)return this;0===a?n.shift():m(n,a),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var a,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(a=o[i])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return d(this,e,!0)},a.prototype.rawListeners=function(e){return d(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):u.call(e,t)},a.prototype.listenerCount=u,a.prototype.eventNames=function(){return this._eventsCount>0?v(this._events):[]}},{}],269:[function(e,t,n){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
n.read=function(e,t,n,i,a){var o,r,s=8*a-i-1,l=(1<<s)-1,c=l>>1,d=-7,u=n?a-1:0,p=n?-1:1,m=e[t+u];for(u+=p,o=m&(1<<-d)-1,m>>=-d,d+=s;d>0;o=256*o+e[t+u],u+=p,d-=8);for(r=o&(1<<-d)-1,o>>=-d,d+=i;d>0;r=256*r+e[t+u],u+=p,d-=8);if(0===o)o=1-c;else{if(o===l)return r?NaN:1/0*(m?-1:1);r+=Math.pow(2,i),o-=c}return(m?-1:1)*r*Math.pow(2,o-i)},n.write=function(e,t,n,i,a,o){var r,s,l,c=8*o-a-1,d=(1<<c)-1,u=d>>1,p=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,m=i?0:o-1,h=i?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,r=d):(r=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-r))<1&&(r--,l*=2),t+=r+u>=1?p/l:p*Math.pow(2,1-u),t*l>=2&&(r++,l/=2),r+u>=d?(s=0,r=d):r+u>=1?(s=(t*l-1)*Math.pow(2,a),r+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,a),r=0));a>=8;e[n+m]=255&s,m+=h,s/=256,a-=8);for(r=r<<a|s,c+=a;c>0;e[n+m]=255&r,m+=h,r/=256,c-=8);e[n+m-h]|=128*f}},{}],270:[function(e,t,n){arguments[4][22][0].apply(n,arguments)},{dup:22}],271:[function(e,t,n){(function(e){(function(){"use strict";function n(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function i(e,t){for(var n,i="",a=0,o=-1,r=0,s=0;s<=e.length;++s){if(s<e.length)n=e.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(o===s-1||1===r);else if(o!==s-1&&2===r){if(i.length<2||2!==a||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){var l=i.lastIndexOf("/");if(l!==i.length-1){-1===l?(i="",a=0):(i=i.slice(0,l),a=i.length-1-i.lastIndexOf("/")),o=s,r=0;continue}}else if(2===i.length||1===i.length){i="",a=0,o=s,r=0;continue}t&&(i.length>0?i+="/..":i="..",a=2)}else i.length>0?i+="/"+e.slice(o+1,s):i=e.slice(o+1,s),a=s-o-1;o=s,r=0}else 46===n&&-1!==r?++r:r=-1}return i}function a(e,t){var n=t.dir||t.root,i=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+i:n+e+i:i}var o={resolve:function(){for(var t,a="",o=!1,r=arguments.length-1;r>=-1&&!o;r--){var s;r>=0?s=arguments[r]:(void 0===t&&(t=e.cwd()),s=t),n(s),0!==s.length&&(a=s+"/"+a,o=47===s.charCodeAt(0))}return a=i(a,!o),o?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(e){if(n(e),0===e.length)return".";var t=47===e.charCodeAt(0),a=47===e.charCodeAt(e.length-1);return e=i(e,!t),0!==e.length||t||(e="."),e.length>0&&a&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return n(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var i=arguments[t];n(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":o.normalize(e)},relative:function(e,t){if(n(e),n(t),e===t)return"";if(e=o.resolve(e),t=o.resolve(t),e===t)return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var a=e.length,r=a-i,s=1;s<t.length&&47===t.charCodeAt(s);++s);for(var l=t.length,c=l-s,d=r<c?r:c,u=-1,p=0;p<=d;++p){if(p===d){if(c>d){if(47===t.charCodeAt(s+p))return t.slice(s+p+1);if(0===p)return t.slice(s+p)}else r>d&&(47===e.charCodeAt(i+p)?u=p:0===p&&(u=0));break}var m=e.charCodeAt(i+p);if(m!==t.charCodeAt(s+p))break;47===m&&(u=p)}var h="";for(p=i+u+1;p<=a;++p)p!==a&&47!==e.charCodeAt(p)||(0===h.length?h+="..":h+="/..");return h.length>0?h+t.slice(s+u):(s+=u,47===t.charCodeAt(s)&&++s,t.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(n(e),0===e.length)return".";for(var t=e.charCodeAt(0),i=47===t,a=-1,o=!0,r=e.length-1;r>=1;--r)if(47===(t=e.charCodeAt(r))){if(!o){a=r;break}}else o=!1;return-1===a?i?"/":".":i&&1===a?"//":e.slice(0,a)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');n(e);var i,a=0,o=-1,r=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var s=t.length-1,l=-1;for(i=e.length-1;i>=0;--i){var c=e.charCodeAt(i);if(47===c){if(!r){a=i+1;break}}else-1===l&&(r=!1,l=i+1),s>=0&&(c===t.charCodeAt(s)?-1==--s&&(o=i):(s=-1,o=l))}return a===o?o=l:-1===o&&(o=e.length),e.slice(a,o)}for(i=e.length-1;i>=0;--i)if(47===e.charCodeAt(i)){if(!r){a=i+1;break}}else-1===o&&(r=!1,o=i+1);return-1===o?"":e.slice(a,o)},extname:function(e){n(e);for(var t=-1,i=0,a=-1,o=!0,r=0,s=e.length-1;s>=0;--s){var l=e.charCodeAt(s);if(47!==l)-1===a&&(o=!1,a=s+1),46===l?-1===t?t=s:1!==r&&(r=1):-1!==t&&(r=-1);else if(!o){i=s+1;break}}return-1===t||-1===a||0===r||1===r&&t===a-1&&t===i+1?"":e.slice(t,a)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return a("/",e)},parse:function(e){n(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var i,a=e.charCodeAt(0),o=47===a;o?(t.root="/",i=1):i=0;for(var r=-1,s=0,l=-1,c=!0,d=e.length-1,u=0;d>=i;--d)if(47!==(a=e.charCodeAt(d)))-1===l&&(c=!1,l=d+1),46===a?-1===r?r=d:1!==u&&(u=1):-1!==r&&(u=-1);else if(!c){s=d+1;break}return-1===r||-1===l||0===u||1===u&&r===l-1&&r===s+1?-1!==l&&(t.base=t.name=0===s&&o?e.slice(1,l):e.slice(s,l)):(0===s&&o?(t.name=e.slice(1,r),t.base=e.slice(1,l)):(t.name=e.slice(s,r),t.base=e.slice(s,l)),t.ext=e.slice(r,l)),s>0?t.dir=e.slice(0,s-1):o&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,t.exports=o}).call(this)}).call(this,e("_process"))},{_process:272}],272:[function(e,t,n){function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===i||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function r(e){if(p===clearTimeout)return clearTimeout(e);if((p===a||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function s(){_&&h&&(_=!1,h.length?f=h.concat(f):b=-1,f.length&&l())}function l(){if(!_){var e=o(s);_=!0;for(var t=f.length;t;){for(h=f,f=[];++b<t;)h&&h[b].run();b=-1,t=f.length}h=null,_=!1,r(e)}}function c(e,t){this.fun=e,this.array=t}function d(){}var u,p,m=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:i}catch(e){u=i}try{p="function"==typeof clearTimeout?clearTimeout:a}catch(e){p=a}}();var h,f=[],_=!1,b=-1;m.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new c(e,t)),1!==f.length||_||o(l)},c.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=d,m.addListener=d,m.once=d,m.off=d,m.removeListener=d,m.removeAllListeners=d,m.emit=d,m.prependListener=d,m.prependOnceListener=d,m.listeners=function(e){return[]},m.binding=function(e){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(e){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},{}],273:[function(e,t,n){(function(t,i){(function(){function a(e,t){this._id=e,this._clearFn=t}var o=e("process/browser.js").nextTick,r=Function.prototype.apply,s=Array.prototype.slice,l={},c=0;n.setTimeout=function(){return new a(r.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new a(r.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=c++,i=!(arguments.length<2)&&s.call(arguments,1);return l[t]=!0,o(function(){l[t]&&(i?e.apply(null,i):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof i?i:function(e){delete l[e]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":272,timers:273}],274:[function(e,t,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],275:[function(e,t,n){var i=e("bm-helper-capi/configs/options");t.exports=function(e){var t=e.configBrand;return i().setData({destinationCode:e.destinationCode?e.destinationCode:t.capi.destinationCode,platformCode:t.capi.platformCode,$lang:e.uiLanguage,playbackLanguage:e.playbackLanguage,host:t.capi.host})}},{"bm-helper-capi/configs/options":64}],276:[function(e,t,n){var i=e("bm-helper-reco/configs/options");t.exports=function(e){var t=e.configBrand;return i().setData({hostBookmark:t.user.reco.host,refreshTokenCookieName:t.user.userManagement.refreshTokenCookieName,accessTokenCookieName:t.user.userManagement.accessTokenCookieName,accessTokenType:t.user.userManagement.accessTokenType,deviceIdCookieName:t.user.userManagement.deviceIdCookieName,selectedProfile:t.user.userManagement.selectedProfile,destination:e.destinationCode?e.destinationCode:t.capi.destinationCode,uiLanguage:e.uiLanguage,playbackLanguage:e.playbackLanguage})}},{"bm-helper-reco/configs/options":85}],277:[function(e,t,n){var i=e("bm-helper-userdal/configs/options");t.exports=function(e){var t=e.configBrand;return i().setData({resourceCode:t.user.resourceCode,destinationCode:e.destinationCode?e.destinationCode:t.capi.destinationCode,platformCode:t.capi.platformCode,grantType:"akamaiToken",host:t.user.host})}},{"bm-helper-userdal/configs/options":97}],278:[function(e,t,n){var i=e("bm-media-provider-capi/configs/options"),a=e("bm-media-provider/models/media-info");t.exports=function(e){var t=e.configBrand;return i().setData({brandType:t.general.brandType,destinationCode:e.destinationCode?e.destinationCode:t.capi.destinationCode,platformCode:t.capi.platformCode,$lang:"en",host:t.capi.host,extensions:{mpd:{drmType:a.DRM_TYPE_WIDEVINE,drmServer:{url:t.capi.extensions.mpd.drmServer.url,serverCertificateUrl:t.capi.extensions.mpd.drmServer.serverCertificateUrl}},pmpd:{drmType:a.DRM_TYPE_PLAYREADY,drmServer:t.capi.extensions.pmpd.drmServer},m3u8:{},am3u8:{drmType:a.DRM_TYPE_FAIRPLAY_APPLE,drmServer:{certificateUrl:t.capi.extensions.am3u8.drmServer.certificateUrl,processSpcUrl:t.capi.extensions.am3u8.drmServer.processSpcUrl}}},typeCapi:t.capi.type,enableBond:t.capi.enableBond})}},{"bm-media-provider-capi/configs/options":110,"bm-media-provider/models/media-info":114}],279:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-config"),o=e("bm-ajax"),r=e("path"),s=o(),l={},c=function(e){if(!(this instanceof c))return new c(e);c.super_.apply(this,arguments),this._hostConfig=e.hostConfig,this._pathConfig=e.pathConfig,this.setDefault({})};i.inherits(c,a);var d=c.prototype;d._hostConfig="",d._pathConfig="",d.sync=function(e){var t=this,n={};l[t._pathConfig]?e(null,l[t._pathConfig]):s.getJson("https://"+r.join(t._hostConfig,"config/vidi-player/v1/",t._pathConfig),n).then(function(n){l[t._pathConfig]=n,e(null,n)},function(t){e(t)})},t.exports=c},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-config":1,"bm-ajax":34,path:271}],280:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-config"),o=e("bm-ajax"),r=e("path"),s=o(),l={},c=function(e){if(!(this instanceof c))return new c(e);c.super_.apply(this,arguments),this._hostConfig=e.hostConfig,this._pathConfig=e.pathConfig,this.setDefault({})};i.inherits(c,a);var d=c.prototype;d._hostConfig="",d._pathConfig="",d.sync=function(e){var t=this,n={};l[t._pathConfig]?e(null,l[t._pathConfig]):s.getJson("https://"+r.join(t._hostConfig,"config/vidi-chromecast/",t._pathConfig),n).then(function(n){l[t._pathConfig]=n,e(null,n)},function(t){e(t)})},t.exports=c},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-config":1,"bm-ajax":34,path:271}],281:[function(e,t,n){var i=e("@bellmedia/bm-base-config"),a=e("path");if(document.currentScript&&document.currentScript.src)try{var o=new URL(document.currentScript.src)}catch(e){if(!(e instanceof TypeError))throw e;void 0}var r=o&&o.hostname?o.hostname:"webapps.9c9media.com";void 0;var s="vidi-player/1.9.21/lib/comscore/comscore-js-6.3.1.181004.min.js";t.exports=function(){return i().setDefault({scriptHost:r,scriptPath:"vidi-player/1.9.21",imageBaseUrl:"https://"+a.join(r,"vidi-player/1.9.21/images/"),newRelicJwPluginScriptPath:"vidi-player/1.9.21/lib/newrelic-video-jwplayer/",jwplayerScriptPath:"vidi-player/1.9.21/lib/jwplayer/",jwplayerLicenseKey:"ATqVDemr8jmwaP0PDJ/EcRMEcLXsVhLcASzRiuqHpb5wOK9T",jwplayerVersion:"8.11.8",convivaJwPlayerScriptPath:"vidi-player/1.9.21/lib/conviva/Conviva_JwPlayer_2.122.0.32904.js",comscoreScriptPath:s,convivaJwHTML5ScriptPath:"vidi-player/1.9.21/lib/conviva/conviva-with-sdk.js",urlNewRelicJwPluginScript:"https://"+a.join(r,"vidi-player/1.9.21/lib/newrelic-video-jwplayer/","newrelic-video-jwplayer.min.js"),urlJWPlayerScript:"https://"+a.join(r,"vidi-player/1.9.21/lib/jwplayer/","jwplayer.js"),urlJWPlayerRoot:"https://"+a.join(r,"vidi-player/1.9.21/lib/jwplayer/"),urlJwPlayerConviva:"https://"+a.join(r,"vidi-player/1.9.21/lib/conviva/Conviva_JwPlayer_2.122.0.32904.js"),urlComscore:"https://"+a.join(r,s),urlConvivaHTML5:"https://"+a.join(r,"vidi-player/1.9.21/lib/conviva/conviva-with-sdk.js"),vidiVersion:"1.9.14"})}},{"@bellmedia/bm-base-config":1,path:271}],282:[function(e,t,n){"use strict";var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-event"),o=e("bm-videoplayer"),r=(e("bm-videoplayer-plugin-skipbreaks-capi"),e("bm-videoplayer-plugin-fifa-stats")),s=e("bm-videoplayer-plugin-upnext-capi"),l=function(){if(!(this instanceof l))return new l;l.super_.apply(this,arguments)};i.inherits(l,a);var c=l.prototype;c._instanceBMVideoplayer=void 0,c.bindBMVideoplayerEvents=function(e){this._instanceBMVideoplayer=e,this._eventPlayer(),this._eventPlayback(),this._eventPlaylist()},c._eventPlayer=function(){var e=this;e._instanceBMVideoplayer.on(o.EVENT_STATUS_CANPLAY,function(){e.emit(l.EVENT_PLAYER_READY)}),e._instanceBMVideoplayer.on(o.EVENT_PLAYER_DESTROY,function(){e.emit(l.EVENT_PLAYER_DESTROYED)}),e._instanceBMVideoplayer._upnextPluginInstance&&e._instanceBMVideoplayer._upnextPluginInstance.on(s.EVENT_UPNEXT_COMPLETE,function(){e.emit(l.EVENT_UPNEXT_COMPLETE)}),e._instanceBMVideoplayer._fifaStatsPluginInstance&&e._instanceBMVideoplayer._fifaStatsPluginInstance.on(r.EVENT_FIFASTATS_BUTTON_CLICK,function(t){e.emit(l.EVENT_FIFASTATS_BUTTON_CLICK,t)}),e._instanceBMVideoplayer.on(o.EVENT_PLAYER_FULLSCREEN,function(t){e.emit(l.EVENT_PLAYER_FULLSCREEN,t.fullscreen)})},c._eventPlayback=function(){var e=this;e._instanceBMVideoplayer.on(o.EVENT_PLAYBACK_PLAYING,function(){e.emit(l.EVENT_PLAYBACK_PLAYING,{index:e._instanceBMVideoplayer.getCurrentItemIndex(),contentId:e._instanceBMVideoplayer.getCurrentItem().data.mediaId})}),e._instanceBMVideoplayer.on(o.EVENT_PLAYBACK_PAUSE,function(){e.emit(l.EVENT_PLAYBACK_PAUSE,{index:e._instanceBMVideoplayer.getCurrentItemIndex(),contentId:e._instanceBMVideoplayer.getCurrentItem().data.mediaId})}),e._instanceBMVideoplayer.on(o.EVENT_PLAYBACK_COMPLETE,function(){e.emit(l.EVENT_PLAYBACK_COMPLETE,{index:e._instanceBMVideoplayer.getCurrentItemIndex(),contentId:e._instanceBMVideoplayer.getCurrentItem().data.mediaId})})},c._eventPlaylist=function(){var e,t,n=this,i=function(){e=!0,n.emit(l.EVENT_PLAYBACK_STARTED,{index:t.index,contentId:t.item.data.mediaId})},a=function(){!e&&i(),n._instanceBMVideoplayer.off(o.EVENT_AD_PLAY,i)};n._instanceBMVideoplayer.on(o.EVENT_PLAYLIST_ITEM,function(r){e=!1,t=r,n._instanceBMVideoplayer.off(o.EVENT_AD_PLAY,i),n._instanceBMVideoplayer.off(o.EVENT_PLAYBACK_PLAYING,a),n._instanceBMVideoplayer.once(o.EVENT_AD_PLAY,i),n._instanceBMVideoplayer.once(o.EVENT_PLAYBACK_PLAYING,a)}),n._instanceBMVideoplayer.on(o.EVENT_PLAYLIST_ENDED,function(){n.emit(l.EVENT_PLAYLIST_ITEMS_ALL_COMPLETE)})},l.EVENT_PLAYER_READY="PLAYER_READY",l.EVENT_PLAYER_DESTROYED="PLAYER_DESTROYED",l.EVENT_PLAYER_FULLSCREEN="PLAYER_FULLSCREEN",l.EVENT_UPNEXT_COMPLETE="UPNEXT_COMPLETE",l.EVENT_FIFASTATS_BUTTON_CLICK="EVENT_FIFASTATS_BUTTON_CLICK",l.EVENT_PLAYBACK_STARTED="PLAYBACK_STARTED",l.EVENT_PLAYBACK_PLAYING="PLAYBACK_PLAY",l.EVENT_PLAYBACK_PAUSE="PLAYBACK_PAUSE",l.EVENT_PLAYBACK_COMPLETE="PLAYBACK_COMPLETE",l.EVENT_PLAYLIST_ITEMS_ALL_COMPLETE="PLAYLIST_ITEMS_ALL_COMPLETE",t.exports=l},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-event":3,"bm-videoplayer":203,"bm-videoplayer-plugin-fifa-stats":184,"bm-videoplayer-plugin-skipbreaks-capi":198,"bm-videoplayer-plugin-upnext-capi":199}],283:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-helper"),o=e("bm-service-factory-translation"),r=function(){if(!(this instanceof r))return new r;r.super_.call(this)};i.inherits(r,a);r.prototype;r.getLocalizationData=function(){var e=o().getInstance();return{airplay:e.t("Airplay"),audioTracks:e.t("Audio tracks"),auto:e.t("Auto"),buffer:e.t("Loading"),cast:e.t("Chromecast"),cc:e.t("Closed captions"),close:e.t("Close"),fullscreen:e.t("Fullscreen"),exitFullscreen:e.t("Exit Fullscreen"),hd:e.t("Quality"),liveBroadcast:e.t("Live broadcast"),logo:e.t("Logo"),mute:e.t("Mute"),loadingAd:e.t("Loading ad"),more:e.t("More"),next:e.t("Next"),nextUp:e.t("Next up"),notLive:e.t("Not Live"),off:e.t("Off"),nextUpClose:e.t("Next Up Close"),pause:e.t("Pause"),play:e.t("Play"),playback:e.t("Start playback"),playbackRates:e.t("Playback rates"),player:e.t("Video Player"),playlist:e.t("Playlist"),prev:e.t("Previous"),related:e.t("Discover"),replay:e.t("Replay"),rewind:e.t("Rewind 10s"),settings:e.t("Settings"),volume:e.t("Volume"),stop:e.t("Stop"),unmute:e.t("Unmute"),volumeSlider:e.t("Volume Slider")}},t.exports=r},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-helper":5,"bm-service-factory-translation":120}],284:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-helper"),o=e("bm-videoplayer/models/playlist"),r=e("bm-videoplayer/models/playlist/item"),s=e("bm-service-factory-media-provider"),l=e("bm-service-factory-auth"),c=e("bm-service-factory-reco"),d=e("bm-ajax"),u=e("underscore"),p=d(),m=function(){if(!(this instanceof m))return new m;m.super_.call(this)};i.inherits(m,a);m.prototype;m.getPlaylist=function(e){var t=o(),n=[];return u.each(e,function(e,t){n[t]=r().setData({mediaId:u.isObject(e)?e.contentId:e,adsite:u.isUndefined(e.ad)||u.isEmpty(e.ad.adsite)?"":e.ad.adsite,adzone:u.isUndefined(e.ad)||u.isEmpty(e.ad.adzone)?"":e.ad.adzone,urlClickThrough:u.isUndefined(e.urlClickThrough)||u.isEmpty(e.urlClickThrough)?"":e.urlClickThrough,image:u.isUndefined(e.image)||u.isEmpty(e.image)?void 0:e.image,craveTVPlaybackMethod:u.isUndefined(e.craveTVPlaybackMethod)||u.isEmpty(e.craveTVPlaybackMethod)?"":e.craveTVPlaybackMethod,continueWatchingPosition:!u.isUndefined(e.continueWatchingPosition)&&u.isNumber(e.continueWatchingPosition)?e.continueWatchingPosition:0,destinationCode:u.isUndefined(e.destinationCode)||u.isEmpty(e.destinationCode)?void 0:e.destinationCode,adUnitSuperhub:u.isUndefined(e.adUnitSuperhub)||u.isEmpty(e.adUnitSuperhub)?void 0:e.adUnitSuperhub})}),t.setData({title:"",description:"",items:n}),t},m.getErrorOnFirstPlaylistItem=function(e,t){var n,i;return e=u.map(e,function(e){return u.isObject(e)?e.contentId:e}),s().getInstance().getMediaInfoArray(e).then(function(e){e=u.filter(e,function(e){return null!==e}),e.length>0&&(i=e[0].data,n=i.sources[0].file)}).then(function(){return!0!==t&&l().getInstance().isAuthenticated()}).then(function(e){if(i&&e&&!0!==t)return l().getInstance().getSecurityTokensByContentId(i.mediaId).then(function(e){if(e&&e.data&&e.data.identity_token){var t=["az="+encodeURIComponent(JSON.stringify(e.data.authz_token)),"ai="+encodeURIComponent(JSON.stringify(e.data.identity_token)),"postalCode="+e.data.identity_token.identity.attributes.postal_code];n+="?"+t.join("&")}});if(i&&!0===t){var a=c().getInstance().getJwtAccessToken(),o=c().getInstance().isAccessTokenExpired(a),r=c().getInstance().getDeviceId();if(a&&!o){n+="?"+["jwt="+a,"dId="+r].join("&")}}}).then(function(){return n?p.getText(n).then(function(e){return Promise.resolve(null)},function(e){return Promise.resolve(e)}):Promise.resolve(null)})},t.exports=m},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-helper":5,"bm-ajax":34,"bm-service-factory-auth":116,"bm-service-factory-media-provider":118,"bm-service-factory-reco":119,"bm-videoplayer/models/playlist":208,"bm-videoplayer/models/playlist/item":209,underscore:274}],285:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("@bellmedia/bm-base-helper"),o=function(){if(!(this instanceof o))return new o;o.super_.call(this)};i.inherits(o,a);o.prototype;o.deepSearchAndAssign=function(e,t,n){var i=Object.getOwnPropertyNames(t);return _.each(i,function(i){var a=t[i];if("object"==typeof a&&null!==a){var r=[];_.isUndefined(n)||(r=_.extend([],n)),r.push(i),o.deepSearchAndAssign(e,a,r)}else{var s=e;_.each(n,function(e){s=s[e]}),s[i]=a}}),e},t.exports=o},{"@bellmedia/bm-base":11,"@bellmedia/bm-base-helper":5}],286:[function(e,t,n){var i=e("@bellmedia/bm-base-model"),a=i;t.exports=function(){return a().setDefault({map:{"Service Unavailable 504":"errors.videoPlayback.ERM-44","Service Unavailable 503":"errors.videoPlayback.ERM-43","Service Unavailable 500":"errors.videoPlayback.ERM-03","Video Unavailable 404":"errors.videoPlayback.ERM-04","Geo Restriction VPN 403.75":"errors.geoRight.ERM-75","Too Many Concurrent Streams 403.73":"errors.contentRights.ERM-73","Geo Restriction Region 403.72":"errors.geoRight.ERM-72","Access denied. Unauthorized user 403":"errors.videoPlayback.ERM-43","Unknown Error":"errors.unknownErrors.ERM-nn","Access denied. User is not authenticated":"nonexist.map","Access denied. Unauthorized channel 403.71":"errors.videoPlayback.ERM-71","Blackout Error 403.74":"errors.videoPlayback.ERM-74","DRM error":"errors.videoPlayback.ERM-75","Parental controls 403.76":"errors.videoPlayback.ERM-76","Safari HTCP Failed":"errors.videoPlayback.ERM-77","DRM safari error":"errors.videoPlayback.ERM-78","Live Stream disconnect":"errors.videoPlayback.ERM-79","Cannot play":"errors.videoPlayback.ERM-80",English:"messages.english",French:"messages.french","Sign in to watch":"messages.signIn","Sign in required":"messages.signInRequired","Not available in a mobile browser":"messages.notAvailableInMobile","Playing in":"messages.playingIn",Loading:"messages.loading",Advertisement:"messages.advertisement","More videos":"messages.moreVideos",Skip:"messages.skipText","Skip ad in xx":"messages.skipMessage","The ad will end in xx seconds":"messages.adMessage","Ad xx of yy":"messages.podMessage","Share video":"messages.shareVideo","Next up":"messages.nextUp","Up Next":"messages.upNext","Live broadcast":"messages.liveBroadcast",Airplay:"messages.airplay","Audio tracks":"messages.audioTracks",Chromecast:"messages.cast","Closed captions":"messages.cc",Close:"messages.close",Fullscreen:"messages.fullscreen",Quality:"messages.hd","Loading ad":"messages.loadingAd",More:"messages.more",Next:"messages.next","Next Up Close":"messages.nextUpClose",Pause:"messages.pause",Play:"messages.play","Start playback":"messages.playback","Playback rates":"messages.playbackRates","Video Player":"messages.player",Playlist:"messages.playlist","Episode List":"messages.episodeList",Previous:"messages.prev",Discover:"messages.related",Replay:"messages.replay","Rewind 10s":"messages.rewind",Rewind:"messages.skipBack","Fast Forward":"messages.skipForward",Volume:"messages.volume",Copied:"messages.copied",Auto:"messages.auto","Exit Fullscreen":"messages.exitFullscreen",Logo:"messages.logo",Mute:"messages.mute","Not Live":"messages.notLive",Off:"messages.off",Settings:"messages.settings",Unmute:"messages.unmute","Volume Slider":"messages.volumeSlider",Stop:"messages.stop","Show Info":"messages.showInfo","Broadcast Date":"messages.broadcastDate",Director:"messages.director",Album:"messages.album",Labels:"messages.labels","Genre(s)":"messages.genres",Ratings:"messages.ratings",Rating:"messages.rating",January:"messages.january",February:"messages.february",March:"messages.march",April:"messages.april",May:"messages.may",June:"messages.june",July:"messages.july",August:"messages.august",September:"messages.september",October:"messages.october",November:"messages.november",December:"messages.december",Stats:"labels.stats",Connecting:"messages.connecting","Connecting to":"messages.connectingTo","Now Playing on":"messages.nowPlayingOn",Email:"messages.email",Embed:"messages.embed",Share:"messages.share",Link:"messages.link","Ad playing":"messages.adPlaying","Ready to watch more":"messages.readyToWatchMore",ratingsV:"messages.ratingsV",ratingsL:"messages.ratingsL",ratingsS:"messages.ratingsS",ratingsN:"messages.ratingsN",ratingsM:"messages.ratingsM","Survey Message":"messages.surveyMessage","Picture in Picture":"messages.pictureInPicture","Skip Intro":"messages.skipIntro","Skip Recap":"messages.skipRecap"},delimiter:"."})}},{"@bellmedia/bm-base-model":6}],287:[function(e,t,n){(function(n){(function(){"use strict";var i=e("./events/player"),a=i,o=e("./helpers/bm-videoplayer"),r=e("./helpers/utils"),s=e("./services/service"),l=e("bm-videoplayer-plugin-event-capi"),c=e("./configs/brand"),d=e("./configs/chromecast"),u=e("./configs/bm-helper-capi"),p=e("./configs/bm-media-provider-capi"),m=e("./configs/bm-helper-userdal"),h=e("./configs/bm-helper-reco"),f=e("./configs/gulp")().data,_=e("./models/model-translation-keys-map")().data,b=e("./helpers/bm-localization-jw"),v=e("./plugins/plugin-playlist-capi"),g=e("./plugins/plugin-playlist-auth"),y=e("./plugins/plugin-playlist-jwt"),E=e("./plugins/plugin-playlist-livestream"),T=e("./plugins/plugin-playlist-check-captions"),w=e("./plugins/plugin-playlist-log-manifest-errors"),S=e("./plugins/plugin-event-capi"),C=e("./plugins/plugin-restrictions-capi"),I=e("./plugins/plugin-restrictions-capi-auth"),P=e("./plugins/plugin-restrictions-capi-jwt"),A=e("./plugins/plugin-conviva"),k=e("./plugins/plugin-mparticle"),x=e("./plugins/plugin-qos"),N=e("./plugins/plugin-conviva-html5"),M=e("./plugins/plugin-comscore"),B=e("./plugins/plugin-google-analytics"),L=e("./plugins/plugin-ad"),D=e("./plugins/plugin-omniture"),V=e("./plugins/plugin-sharing"),R=e("./plugins/plugin-blackout"),O=e("./plugins/plugin-lastpos"),j=e("./plugins/plugin-concurrency"),U=e("./plugins/plugin-bookmarking"),H=e("./plugins/plugin-endscreen"),F=e("./plugins/plugin-floatplayer"),G=e("./plugins/plugin-moat"),K=e("./plugins/plugin-upnext"),Y=e("./plugins/plugin-skipbreaks"),$=e("./plugins/plugin-language"),W=e("./plugins/plugin-chromecast-oneplayer"),z=e("./plugins/plugin-chromecast-vidi"),J=e("./plugins/plugin-captions-enhancements"),q=e("./plugins/plugin-intro-overlay"),X=e("./plugins/plugin-skip-back-forward"),Q=e("./plugins/plugin-info-overlay"),Z=e("./plugins/plugin-episode-list"),ee=e("./plugins/plugin-episode-list-v1"),te=e("./plugins/plugin-mute"),ne=e("./plugins/plugin-multiplex"),ie=e("./plugins/plugin-custom-loader"),ae=e("./plugins/plugin-drmslate-ios"),oe=e("./plugins/plugin-fifa-stats"),re=e("./plugins/plugin-continue-watching"),se=e("./plugins/plugin-adobe-heartbeat"),le=e("./plugins/plugin-permutive"),ce=e("./plugins/plugin-custom-playlist-vidi"),de=e("./plugins/plugin-picture-in-picture"),ue=e("./plugins/plugin-pause-ads"),pe=e("./plugins/plugin-braze"),me=e("@bellmedia/bm-base"),he=e("bm-videoplayer"),fe=e("bm-videoplayer/exceptions/playlist"),_e=e("bm-videoplayer-jw/exceptions/error-jwplayer"),be=e("bm-view-message"),ve=be,ge=e("bm-videoplayer-jw"),ye=ge,Ee=e("bm-videoplayer-jw/configs/options"),Te=e("@bellmedia/bm-loader-script"),we=e("bm-css-injector"),Se=e("./templates/css/player.css.tpl"),Ce=e("./templates/css/brand.css.tpl"),Ie=e("./templates/css/init-error.css.tpl"),Pe=e("./templates/css/playlist.css.tpl"),Ae=e("mobile-detect"),ke="undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null,xe=e("underscore"),Ne=e("bluebird"),Me=(e("path"),e("bm-service-factory-translation")),Be=e("bm-service-factory-capi"),Le=new Ae(window.navigator.userAgent),De=Te(f.urlJWPlayerScript);we().injectStyles(xe.template(Se)(),"vidi-player-general");var Ve=[],Re=function(e,t){if(!(this instanceof Re))return new Re(e,t);Re.super_.apply(this,arguments);var n=this;n._eventPlayer=a(),n._options=xe.extend({},n._options,e),n._isAssetsReady(n._options.config).then(function(e){var i=n._overwriteConfig(e[1].data);if(!0===i.player.abTesting.isEnabled&&2===i.player.abTesting.urlConfigs.length){var a={arrABConfigs:i.player.abTesting.urlConfigs,arrContentId:t};n._initPlayerABConfig(a)}else{localStorage.setItem("abConfigUrlVidi","");var o=null===e[2]?null:e[2].data,r={configBrand:i,configChromecast:o,arrContentId:t};n._initPlayer(r)}},function(){throw new Error(Re.ERROR_JWPLAYER_NOT_LOADED)}),Ve.push(this)};me.inherits(Re,me);var Oe=Re.prototype;xe.extend(Oe,e("./prototypes/public/general")),xe.extend(Oe,e("./prototypes/public/playback")),xe.extend(Oe,e("./prototypes/public/events")),Oe._options={container:"",config:""},Oe._instanceBMVideoplayerJw=void 0,Oe._playerId=void 0,Oe._eventPlayer=void 0,Oe._enableAdControlsPlayPause=!0,Oe._playlistItems=[],Oe._arrContentIds=[],Oe._destinationCode=void 0,Oe._enableAutoplay=!1,Oe._uiLanguage="",Oe._uiLangOverride="",Oe._playbackLanguage="",Oe._adUnitSuperhub={},Oe._featureSettings={},Oe._isAssetsReady=function(e){return Ne.all([De,c({isMutable:!0,hostConfig:f.scriptHost,pathConfig:e}).fetch()]).then(function(e){return e[1].data.chromecast.configPath?d({hostConfig:f.scriptHost,pathConfig:e[1].data.chromecast.configPath}).fetch().then(function(t){return e.push(t),e}):(e.push(null),e)})},Oe._initPlayerABConfig=function(e){var t=this,n=e.arrABConfigs[Math.floor(Math.random()*e.arrABConfigs.length)];localStorage.setItem("abConfigUrlVidi",n),t._isAssetsReady(n).then(function(n){var i={configBrand:n[1].data,configChromecast:null===n[2]?null:n[2].data,arrContentId:e.arrContentId};t._initPlayer(i)})},Oe._shareableConfigBrand=function(e){return c({isMutable:!0,hostConfig:f.scriptHost,pathConfig:e}).fetch()},Oe._initPlayer=function(e){var t=this;e.configBrand.player.enableShareable||e.configBrand.player.enableShareableAllowOverrideFromCAPI||e.configBrand.player.socialShare.link&&e.configBrand.player.configShareablePath?t._shareableConfigBrand(e.configBrand.player.configShareablePath).then(function(n){t._initialize(e.configBrand,e.configChromecast,n.data,e.arrContentId)}):t._initialize(e.configBrand,e.configChromecast,null,e.arrContentId)},Oe._overwriteConfig=function(e){return e},Oe._initialize=function(e,t,n,i){var a=this,c={color:e.general.brandColor+" !important"};a._uiLanguage=a._options.language&&a._options.language.ui||e.player.lang.ui,a._uiLangOverride=a._options.language&&a._options.language.uiLangOverride||e.player.lang.uiLangOverride||a._uiLanguage,a._playbackLanguage=a._options.language&&a._options.language.playback||e.player.lang.playback,a._enableAdControlsPlayPause=e.ad.desktop.adPlayControlsRule,a._destinationCode=i[0].destinationCode,a._adUnitSuperhub=i[0].adUnitSuperhub,a._featureSettings=i[0].featureSettings,a._enableUpnext=a._featureSettings&&void 0!==a._featureSettings.enableUpnext?a._featureSettings.enableUpnext:e.player.enableUpnext,we().injectStyles(xe.template(Ce)(c),"vidi-player-brand"),s.playerInstanceServices({bmServiceFactoryTranslation:{uiLanguageCode:a._uiLangOverride,translations:e.languages,mapOptions:_},bmServiceFactoryAuth:{},bmServiceFactoryCapi:{capiConfig:u({configBrand:e,destinationCode:a._destinationCode,uiLanguage:a._uiLanguage,playbackLanguage:a._playbackLanguage})},bmServiceFactoryMediaProvider:{mediaProviderCapiConfig:p({configBrand:e,destinationCode:a._destinationCode})},bmServiceFactoryUserdal:{userdalConfig:m({configBrand:e,destinationCode:a._destinationCode})},bmServiceFactoryReco:{recoConfig:h({configBrand:e,destinationCode:a._destinationCode,uiLanguage:a._uiLanguage,playbackLanguage:a._playbackLanguage})}});var d=i
;!0===e.player.customPlaylistVidi.isEnabled&&(d=i.slice(0,1)),o.getErrorOnFirstPlaylistItem(d,e.capi.enableBond).then(function(s){a._enableAutoplay=e.player.enableAutoplay,null!==s&&(e=r.deepSearchAndAssign(e,{player:{enableAutoplay:!1}}));var c=window.jwplayer,u={},p=function(e){var t=Me().getInstance(),n=t.t(e),i=ve({hasDismissButton:!1});i.setMessage("",n),i.render(),a._instanceBMVideoplayerJw.setView(i),a._instanceBMVideoplayerJw.showView(),a._instanceBMVideoplayerJw._jwplayerInstance.stop()};if(!0===e.player.customPlaylistVidi.isEnabled){u=o.getPlaylist(d);var m=xe.filter(i,function(e,t){return i.indexOf(e)===t});a._playlistItems=o.getPlaylist(m),a._arrContentIds=i}else u=o.getPlaylist(i);var h=a._getBMVideoplayerJwConfig(c,e,t,n);if(a._instanceBMVideoplayerJw=ye(h,u),!1===e.player.enablePlaylistIcon&&we().injectStyles(xe.template(Pe)({uniqueId:a._playerId}),"vidi-player-playlist"),null!==s){var f=Be().getInstance().getErrorHelperCapiError(s);f.failedPlaylistIndex=0,f.errorFromInit=!0,a._instanceBMVideoplayerJw.once(he.EVENT_PLAYLIST_ITEM,function(){s&&a._instanceBMVideoplayerJw._event.emit(l.EVENT_CAPI_ERROR,f)})}a._instanceBMVideoplayerJw.on(he.EVENT_WARNING,function(e){e instanceof _e&&325650===e.errorObjFromJwplayer.code&&p("Safari HTCP Failed")}),a._instanceBMVideoplayerJw.on(he.EVENT_ERROR,function(t){if(t instanceof _e&&"setupError"===t.type){var n=e.player.playerSize.sizeRatio.split(":").map(function(e){return parseInt(e,10)}),o=n[1]/n[0]*100+"%";we().injectStyles(xe.template(Ie)({uniqueId:a._playerId,width:e.player.playerSize.width,height:!0===e.player.playerSize.enablePlayerAutoSizeRatio?"auto":e.player.playerSize.height,paddingTop:!0===e.player.playerSize.enablePlayerAutoSizeRatio?o:0}),"vidi-player-init-error"+a._playerId)}if(t instanceof fe||t instanceof _e&&'Error loading media: 401 {"ErrorCode":"401","Message":"Access denied. User is not authenticated"}'!==t.message&&"Error loading media: 401 "!==t.message&&"Error loading media: File could not be played"!==t.message&&!0!==e.player.customPlaylistVidi.isEnabled){var r=xe.map(i,function(e){return xe.isObject(e)?e.contentId:e});Be().getInstance().getContentsArray(r).then(function(t){xe.reduce(t,function(e,t){return!!e||t},!1)?a._viewMessageOnSetupError("drm-error",e.general.links):a._viewMessageOnSetupError("404-error",e.general.links)},function(e){})}if(t instanceof _e&&241500===t.errorObjFromJwplayer.code&&p("Service Unavailable 500"),t instanceof _e&&225650===t.errorObjFromJwplayer.code&&p("Safari HTCP Failed"),t instanceof _e&&241011===t.errorObjFromJwplayer.code&&p("Service Unavailable 504"),t instanceof _e&&220001===t.errorObjFromJwplayer.code&&p("Live Stream disconnect"),t instanceof _e)switch(t.errorObjFromJwplayer.code){case 24e4:case 224e3:case 224002:case 224003:a._instanceBMVideoplayerJw._jwplayerInstance.getEnvironment().Browser.safari?f&&f.originalCapiMessage&&"Access denied. User is not authenticated"===f.originalCapiMessage?a._instanceBMVideoplayerJw._event.emit(l.EVENT_CAPI_ERROR,f):p("DRM safari error"):p("DRM error")}}),a._eventPlayer.bindBMVideoplayerEvents(a._instanceBMVideoplayerJw),!0!==e.player.enableMultiplex&&a._preventMultiPlay(a._instanceBMVideoplayerJw)})},Oe._viewMessageOnSetupError=function(e,t){var n=Me().getInstance(),i="";"drm-error"===e?(i=null===Le.mobile()?n.t("DRM error"):n.t("Not available in a mobile browser"),"AndroidOS"!==Le.os()||xe.isEmpty(t.androidGooglePlay)?"iOS"!==Le.os()||xe.isEmpty(t.iosAppStore)||(i+='<div style="padding-top: 16px; text-align: center;" target="_blank"><a href="'+t.iosAppStore+'"><img src="'+f.imageBaseUrl+'badges/vidi-app-store-badge.png" /></a></div>'):i+='<div style="padding-top: 16px; text-align: center;" target="_blank"><a href="'+t.androidGooglePlay+'"><img src="'+f.imageBaseUrl+'badges/vidi-google-play-badge.png" /></a></div>'):"404-error"==e&&(i=n.t("Video Unavailable 404"))},Oe._createVidiPlayerElementById=function(e){ke(this._options.container).append('<div id="'+e+'"></div>')},Oe._preventMultiPlay=function(e){var t=this,n=function(e){Ve.forEach(function(e){e._instanceBMVideoplayerJw._jwplayerInstance&&e!==t?(e._instanceBMVideoplayerJw.pause(),ke("#"+e._playerId+".jwplayer > .jw-controls > jw-controlbar").css("z-index",10000001),!t._enableAdControlsPlayPause&&ke("#"+e._playerId).hasClass("jw-flag-ads")&&ke("#"+e._playerId+".jwplayer.jw-flag-ads .jw-controlbar .jw-icon-playback").removeClass("hide-playback-button")):e._instanceBMVideoplayerJw._jwplayerInstance&&e===t&&(ke("#"+t._playerId+".jwplayer > .jw-controls").css("z-index",""),!t._enableAdControlsPlayPause&&ke("#"+t._playerId).hasClass("jw-flag-ads")?ke("#"+t._playerId+".jwplayer.jw-flag-ads .jw-controlbar .jw-icon-playback").addClass("hide-playback-button"):(ke("#"+t._playerId+".jwplayer .jw-controlbar .jw-icon-playback").removeClass("hide-playback-button"),ke("#"+t._playerId+".jw-flag-small-player .jw-group>.jw-icon-playback").removeClass("hide-playback-button")))})};e.on(he.EVENT_PLAYBACK_PLAYING,n),e.on(he.EVENT_AD_PLAY,n),e.on(he.EVENT_AD_PAUSE,function(){ke("#"+t._playerId+".jwplayer.jw-flag-ads .jw-controlbar .jw-icon-playback").removeClass("hide-playback-button")}),e.on(he.EVENT_AD_COMPLETE,function(){ke("#"+t._playerId+".jwplayer").removeClass("jw-flag-ads-vpaid-controls")})},Oe._getBMVideoplayerJwConfig=function(e,t,n,i){var a=this,o=Ee({isMutable:!0}).data,r=xe.uniqueId("vidi_player_instance_"),s={file:t.player.logo,link:t.player.urlLinkLogo};if(o.logo=t.player.enableControlbar?s:{},o.instanceId=r,o.container=r,this._playerId=r,o.appearance.showControls=t.player.enableControlbar,o.localization={},o.nextUpDisplay=t.player.enableNextUpJwPlaylist,this._createVidiPlayerElementById(o.container),o.appearance.showTitle=!0,o.appearance.showDescription=!0,o.plugins=[],("en"!=t.player.lang.ui||this._options.language&&"en"!=this._options.language.ui)&&(o.localization=b.getLocalizationData(),o.plugins.push($().getPluginInstance())),o.plugins.push(v().getPluginInstance()),!0===t.capi.enableBond?o.plugins.push(y({enableFhd:t.player.enableFhd}).getPluginInstance()):o.plugins.push(g({enableFhd:t.player.enableFhd}).getPluginInstance()),o.plugins.push(w().getPluginInstance()),o.plugins.push(E().getPluginInstance()),o.plugins.push(S().getPluginInstance()),o.plugins.push(C().getPluginInstance()),!0===t.capi.enableBond&&!0===t.user.enableConcurrentStreamingLimit&&o.plugins.push(j({interval:t.user.concurrencyPulse}).getPluginInstance()),!0===t.capi.enableBond?o.plugins.push(P({configBrand:t}).getPluginInstance()):o.plugins.push(I(a._enableAutoplay).getPluginInstance()),!0===t.analytics.mParticle.isEnabled&&o.plugins.push(k({configBrand:t,playbackLanguage:a._playbackLanguage}).getPluginInstance()),!0===t.analytics.conviva.isEnabled&&o.plugins.push(A({configBrand:t,playbackLanguage:a._playbackLanguage}).getPluginInstance()),!0===t.analytics.qos.isEnabled&&o.plugins.push(x({configBrand:t,playbackLanguage:a._playbackLanguage}).getPluginInstance()),!0===t.analytics.convivaHTML5.isEnabled&&o.plugins.push(N({playerConfig:a._options.config,configBrand:t,playbackLanguage:a._playbackLanguage}).getPluginInstance()),!0===t.analytics.comscore.isEnabled&&o.plugins.push(M({configBrand:t,destinationCode:a._destinationCode}).getPluginInstance()),!0===t.ad.desktop.displayAds&&o.plugins.push(L({configBrand:t,adUnitSuperhub:a._adUnitSuperhub||t.ad.superhubAds}).getPluginInstance()),(!0===t.player.enableShareable||!0===t.player.enableShareableAllowOverrideFromCAPI||t.player.socialShare.link)&&o.plugins.push(V({configBrand:t,shareableHost:f.scriptHost,shareablePath:f.scriptPath,shareablePlayerConfigBrand:i}).getPluginInstance()),!0===t.analytics.omniture.isEnabled&&!0!==t.analytics.adobeHeartbeat.isEnabled&&window.s&&o.plugins.push(D({configBrand:t,vidiVersion:f.vidiVersion}).getPluginInstance()),!0===t.player.enableBlackoutOnLivestream&&o.plugins.push(R({pulse:t.player.blackoutPulse}).getPluginInstance()),(!0===t.user.enableConcurrentStreamingLimit||!0===t.user.enableLastVideoPosition)&&!0!==t.capi.enableBond){var l;switch(!0){case t.user.enableConcurrentStreamingLimit&&!t.user.enableLastVideoPosition:l="w";break;case t.user.enableLastVideoPosition:l="rw";break;default:l="w"}o.plugins.push(O({mode:l,profileId:this._options.user&&this._options.user.profileId?this._options.user.profileId:void 0}).getPluginInstance())}return parseInt(t.player.bookmarkingPulse)>0&&!0===t.capi.enableBond&&o.plugins.push(U({interval:t.player.bookmarkingPulse,intervalUrl:t.player.bookmarkingPulseUrl}).getPluginInstance()),t.player.floatplayer.isEnabled&&o.plugins.push(F({configBrand:t}).getPluginInstance()),!0===t.player.enableEndscreen&&o.plugins.push(H({configEndscreen:{playIconImgUrl:f.imageBaseUrl+"endscreen/PlayIcon-38x38.png",playLockIconImgUrl:f.imageBaseUrl+"endscreen/PlayLockIcon-38x38.png"}}).getPluginInstance()),!0===t.analytics.moat.isEnabled&&o.plugins.push(G({configBrand:t}).getPluginInstance()),a._enableUpnext&&0!==t.player.upnextOffset&&o.plugins.push(K({configBrand:t}).getPluginInstance()),t.player.skipBreaks&&t.player.skipBreaks.enable.length>0&&o.plugins.push(Y({configBrand:t}).getPluginInstance()),o.plugins.push(J({enableOneClickCaptions:t.player.enableOneClickCaptions,playbackLanguage:a._playbackLanguage}).getPluginInstance()),t.player.introOverlay.isEnabled&&o.plugins.push(q({configBrand:t}).getPluginInstance()),!0!==t.player.enableSkipBack&&!0!==t.player.enableSkipForward||o.plugins.push(X({enableSkipBack:t.player.enableSkipBack,enableSkipForward:t.player.enableSkipForward}).getPluginInstance()),!0===t.player.enableInfoOverlay&&o.plugins.push(Q({configBrand:t}).getPluginInstance()),!0===t.player.enableEpisodeList&&(!0===t.player.enableEpisodeListDetailed?o.plugins.push(Z({configBrand:t}).getPluginInstance()):o.plugins.push(ee({configBrand:t}).getPluginInstance())),!0===t.player.enableMute&&(o.mute=!0,o.plugins.push(te({configBrand:t}).getPluginInstance())),!0===t.player.enableMultiplex&&(o.mute=!0,o.plugins.push(ne({enableControls:t.player.enableMultiplexControls}).getPluginInstance())),!0===t.chromecast.isEnabled&&(n?o.plugins.push(z({configBrand:t,applicationId:n.player.applicationId,destinationCode:a._destinationCode,uiLanguage:a._uiLanguage,playbackLanguage:a._playbackLanguage,adUnitSuperhub:a._adUnitSuperhub||t.ad.superhubAds.chromecast,featureSettings:a._featureSettings}).getPluginInstance()):o.plugins.push(W({configBrand:t}).getPluginInstance())),""!==t.player.urlCustomLoader&&o.plugins.push(ie({configBrand:t}).getPluginInstance()),!0===t.player.enableCaptionsCheck&&o.plugins.push(T().getPluginInstance()),"iOS"===Le.os()&&!0===t.player.enableDrmslateBeforeAuthIOS&&Le.version("iOS")<11.2&&o.plugins.push(ae({configBrand:t}).getPluginInstance()),parseInt(t.player.epgPulse)>0&&!0===t.player.enableFifaStats&&o.plugins.push(oe({pulse:t.player.epgPulse}).getPluginInstance()),o.plugins.push(re().getPluginInstance()),!0===t.analytics.adobeHeartbeat.isEnabled&&o.plugins.push(se({configBrand:t,vidiVersion:f.vidiVersion}).getPluginInstance()),!0===t.analytics.permutive.isEnabled&&o.plugins.push(le({configBrand:t,vidiVersion:f.vidiVersion}).getPluginInstance()),!0===t.player.customPlaylistVidi.isEnabled&&a._arrContentIds.length>1&&o.plugins.push(ce({playlistItems:a._playlistItems,arrContentIds:a._arrContentIds,enablePlaylistOverlay:t.player.customPlaylistVidi.enablePlaylistOverlay,enablePreviousButton:t.player.customPlaylistVidi.enablePreviousButton}).getPluginInstance()),!0===t.analytics.google.isEnabled&&o.plugins.push(B({configBrand:t}).getPluginInstance()),!0===t.player.enablePictureInPictureFloat&&null===Le.mobile()&&o.plugins.push(de().getPluginInstance()),!0===t.analytics.braze.isEnabled&&o.plugins.push(pe({configBrand:t,playbackLanguage:a._playbackLanguage}).getPluginInstance()),!0===t.ad.pauseAds.isEnabled&&o.plugins.push(ue({configBrandAd:t.ad,adUnitSuperhub:a._adUnitSuperhub||t.ad.superhubAds}).getPluginInstance()),!0===t.player.enableAutoplay&&!0===t.player.enableMuteDesktopOnly&&null===Le.mobile()&&(o.mute=!0),t.player.playerSize.enablePlayerAutoSizeRatio&&(o.appearance.aspectRatio=t.player.playerSize.sizeRatio),t.player.enableAutoplay?o.behavior.autoStart=t.player.enableAutoplay:o.behavior.autoStart=!1,!1===t.player.enableTitleBar&&(o.appearance.showTitle=!1,o.appearance.showDescription=!1),o.appearance.width=t.player.playerSize.width,o.appearance.height=t.player.playerSize.height,o.appearance.playbackRateControls=t.player.enablePlaybackRate||!1,o.appearance.playbackRates=t.player.playbackRates||[],o.jwplayer={player:e,licenseKey:f.jwplayerLicenseKey,urlRoot:f.urlJWPlayerRoot},Ee().setData(o)},Re.ERROR_JWPLAYER_NOT_LOADED="jwplayer libarary couldn' be loaded.",Re.EVENT_PLAYER_READY=i.EVENT_PLAYER_READY,window.BMVidiPlayer=Re,window.BMVidiPlayerInstances=Ve,t.exports=Re}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./configs/bm-helper-capi":275,"./configs/bm-helper-reco":276,"./configs/bm-helper-userdal":277,"./configs/bm-media-provider-capi":278,"./configs/brand":279,"./configs/chromecast":280,"./configs/gulp":281,"./events/player":282,"./helpers/bm-localization-jw":283,"./helpers/bm-videoplayer":284,"./helpers/utils":285,"./models/model-translation-keys-map":286,"./plugins/plugin-ad":288,"./plugins/plugin-adobe-heartbeat":289,"./plugins/plugin-blackout":290,"./plugins/plugin-bookmarking":291,"./plugins/plugin-braze":292,"./plugins/plugin-captions-enhancements":293,"./plugins/plugin-chromecast-oneplayer":294,"./plugins/plugin-chromecast-vidi":295,"./plugins/plugin-comscore":296,"./plugins/plugin-concurrency":297,"./plugins/plugin-continue-watching":298,"./plugins/plugin-conviva":300,"./plugins/plugin-conviva-html5":299,"./plugins/plugin-custom-loader":301,"./plugins/plugin-custom-playlist-vidi":302,"./plugins/plugin-drmslate-ios":303,"./plugins/plugin-endscreen":304,"./plugins/plugin-episode-list":306,"./plugins/plugin-episode-list-v1":305,"./plugins/plugin-event-capi":307,"./plugins/plugin-fifa-stats":308,"./plugins/plugin-floatplayer":309,"./plugins/plugin-google-analytics":310,"./plugins/plugin-info-overlay":311,"./plugins/plugin-intro-overlay":312,"./plugins/plugin-language":313,"./plugins/plugin-lastpos":314,"./plugins/plugin-moat":315,"./plugins/plugin-mparticle":316,"./plugins/plugin-multiplex":317,"./plugins/plugin-mute":318,"./plugins/plugin-omniture":319,"./plugins/plugin-pause-ads":320,"./plugins/plugin-permutive":321,"./plugins/plugin-picture-in-picture":322,"./plugins/plugin-playlist-auth":323,"./plugins/plugin-playlist-capi":324,"./plugins/plugin-playlist-check-captions":325,"./plugins/plugin-playlist-jwt":326,"./plugins/plugin-playlist-livestream":327,"./plugins/plugin-playlist-log-manifest-errors":328,"./plugins/plugin-qos":329,"./plugins/plugin-restrictions-capi":332,"./plugins/plugin-restrictions-capi-auth":330,"./plugins/plugin-restrictions-capi-jwt":331,"./plugins/plugin-sharing":333,"./plugins/plugin-skip-back-forward":334,"./plugins/plugin-skipbreaks":335,"./plugins/plugin-upnext":336,"./prototypes/public/events":338,"./prototypes/public/general":339,"./prototypes/public/playback":340,"./services/service":341,"./templates/css/brand.css.tpl":342,"./templates/css/init-error.css.tpl":343,"./templates/css/player.css.tpl":344,"./templates/css/playlist.css.tpl":345,"@bellmedia/bm-base":11,"@bellmedia/bm-loader-script":264,bluebird:266,"bm-css-injector":47,"bm-service-factory-capi":117,"bm-service-factory-translation":120,"bm-videoplayer":203,"bm-videoplayer-jw":163,"bm-videoplayer-jw/configs/options":164,"bm-videoplayer-jw/exceptions/error-jwplayer":167,"bm-videoplayer-plugin-event-capi":183,"bm-videoplayer/exceptions/playlist":206,"bm-view-message":252,"mobile-detect":270,path:271,underscore:274}],288:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-ad"),o=e("bm-videoplayer-jw-plugin-ad/configs/options"),r=(e("path"),e("./plugin")),s=function(e){if(!(this instanceof s))return new s(e);s.super_.apply(this,arguments),this._configBrand=e.configBrand,this._adUnitSuperhub=e.adUnitSuperhub};i.inherits(s,r);var l=s.prototype;l._configBrand={},l._adUnitSuperhub={},l.getPluginInstance=function(){return a(o().setData(this._configBrand.ad),this._adUnitSuperhub)},t.exports=s},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-ad":125,"bm-videoplayer-jw-plugin-ad/configs/options":126,path:271}],289:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin-adobe-heartbeat"),o=e("./plugin"),r=function(e){if(!(this instanceof r))return new r(e);r.super_.apply(this,arguments),this._configBrand=e.configBrand,this._vidiVersion=e.vidiVersion};i.inherits(r,o);var s=r.prototype;s._configBrand={},s._vidiVersion="1.0.0",s.getPluginInstance=function(){var e={trackingServer:this._configBrand.analytics.adobeHeartbeat.trackingServer,debug:this._configBrand.analytics.adobeHeartbeat.debug,brandName:this._configBrand.general.brandName,vidiVersion:this._vidiVersion,videoPlatform:this._configBrand.capi.host,multiplexPlayer:this._configBrand.player.enableMultiplex};return a(e)},t.exports=r},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-plugin-adobe-heartbeat":174}],290:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin-blackout-capi"),o=(e("../configs/gulp")().data,e("./plugin")),r=function(e){if(!(this instanceof r))return new r(e);r.super_.apply(this,arguments),this._pulse=e.pulse};i.inherits(r,o);var s=r.prototype;s._pulse=1e3,s.getPluginInstance=function(){var e={pulse:this._pulse};return a(e)},t.exports=r},{"../configs/gulp":281,"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-plugin-blackout-capi":175}],291:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin-reco-bookmarking"),o=e("./plugin"),r=function(e){if(!(this instanceof r))return new r(e);r.super_.apply(this,arguments),this._interval=e&&e.interval?e.interval:3e4,this._intervalUrl=e&&e.intervalUrl?e.intervalUrl:""};i.inherits(r,o);var s=r.prototype;s._interval=3e4,s._intervalUrl="",s.getPluginInstance=function(){return a({interval:this._interval,intervalUrl:this._intervalUrl})},t.exports=r},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-plugin-reco-bookmarking":195}],292:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin-braze"),o=e("./plugin"),r=function(e){if(!(this instanceof r))return new r(e);r.super_.apply(this,arguments),this._configBrand=e.configBrand,this._playbackLanguage=e.playbackLanguage};i.inherits(r,o);var s=r.prototype;s._configBrand={},s._playbackLanguage="",s.getPluginInstance=function(){var e={enableForLive:this._configBrand.analytics.braze.enableForLive,playbackLanguage:this._playbackLanguage};return a(e)},t.exports=r},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-plugin-braze":177}],293:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-captions-enhancements"),o=e("./plugin"),r=function(e){if(!(this instanceof r))return new r(e);r.super_.apply(this,arguments),this._options=e};i.inherits(r,o);var s=r.prototype;s._options={},s.getPluginInstance=function(){return a(this._options)},t.exports=r},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-captions-enhancements":128}],294:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-chromecast-oneplayer"),o=e("bm-videoplayer-jw-plugin-chromecast-oneplayer/configs/options"),r=e("../configs/gulp")().data,s=e("./plugin"),l=function(e){if(!(this instanceof l))return new l(e);l.super_.apply(this,arguments),this._configBrand=e.configBrand,e.profileId&&(this._profileId=e.profileId)};i.inherits(l,s);var c=l.prototype;c._configBrand={},c._profileId=void 0,c.getPluginInstance=function(){return a(o().setData({destinationCode:this._configBrand.capi.destinationCode,applicationId:this._configBrand.chromecast.applicationId,urlCastButtonImageDefault:r.imageBaseUrl+"buttons/chromecast/ic_cast_24dp.svg",urlCastButtonImageConnected:r.imageBaseUrl+"buttons/chromecast/ic_cast_connected_24dp.svg",urlPlayButtonImage:r.imageBaseUrl+"buttons/chromecast/play.svg",urlPauseButtonImage:r.imageBaseUrl+"buttons/chromecast/pause.svg",urlVolumeHighButtonImage:r.imageBaseUrl+"buttons/chromecast/volume-high.svg",urlVolumeMuteButtonImage:r.imageBaseUrl+"buttons/chromecast/volume-mute.svg",profileId:this._profileId}))},t.exports=l},{"../configs/gulp":281,"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-chromecast-oneplayer":129,"bm-videoplayer-jw-plugin-chromecast-oneplayer/configs/options":130}],295:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-chromecast-vidi"),o=e("bm-videoplayer-jw-plugin-chromecast-vidi/configs/options"),r=e("../configs/gulp")().data,s=e("./plugin"),l=function(e){if(!(this instanceof l))return new l(e);l.super_.apply(this,arguments),this._configBrand=e.configBrand,this._applicationId=e.applicationId,this._destinationCode=e.destinationCode,this._profileId=e.profileId?e.profileId:void 0,this._uiLanguage=e.uiLanguage,this._playbackLanguage=e.playbackLanguage,this._adUnitSuperhub=e.adUnitSuperhub,this._chromecastSettings=e.featureSettings?e.featureSettings:{}};i.inherits(l,s);var c=l.prototype;c._configBrand={},c._profileId=void 0,c._applicationId="",c._destinationCode="",c._uiLanguage="en",c._playbackLanguage="en",c._adUnitSuperhub={},c._chromecastSettings={},c.getPluginInstance=function(){return a(o().setData({applicationId:this._applicationId,urlCastButtonImageDefault:r.imageBaseUrl+"buttons/chromecast/ic_cast_24dp.svg",urlCastButtonImageConnected:r.imageBaseUrl+"buttons/chromecast/ic_cast_connected_24dp.svg",urlPlayButtonImage:r.imageBaseUrl+"buttons/chromecast/play.svg",urlStopButtonImage:r.imageBaseUrl+"buttons/chromecast/stop.svg",urlPauseButtonImage:r.imageBaseUrl+"buttons/chromecast/pause.svg",urlSkipBackButtonImage:r.imageBaseUrl+"buttons/chromecast/skip-back.svg",urlSkipForwardButtonImage:r.imageBaseUrl+"buttons/chromecast/skip-forward.svg",urlVolumeHighButtonImage:r.imageBaseUrl+"buttons/chromecast/volume-high.svg",urlVolumeMuteButtonImage:r.imageBaseUrl+"buttons/chromecast/volume-mute.svg",profileId:this._profileId,configPath:this._configBrand.chromecast.configPath?this._configBrand.chromecast.configPath:"",urlClosedCaptionButtonOff:r.imageBaseUrl+"buttons/chromecast/closed-caption-off.svg",urlClosedCaptionButtonOn:r.imageBaseUrl+"buttons/chromecast/closed-caption-on.svg",urlClosedCaptionButtonOffFR:r.imageBaseUrl+"buttons/chromecast/fr-closed-caption-off.svg",urlClosedCaptionButtonOnFR:r.imageBaseUrl+"buttons/chromecast/fr-closed-caption-on.svg",urlFullscreenButtonImageOff:r.imageBaseUrl+"buttons/chromecast/fullscreen-off.svg",urlFullscreenButtonImageOn:r.imageBaseUrl+"buttons/chromecast/fullscreen-on.svg",brandName:this._configBrand.general.brandName||"",destinationCode:this._destinationCode,brandColor:this._configBrand.general.brandColor,enableSkipBack:this._configBrand.player.enableSkipBack,enableSkipForward:this._configBrand.player.enableSkipForward,enableUpnext:void 0!==this._chromecastSettings.enableUpnext?this._chromecastSettings.enableUpnext:this._configBrand.chromecast.upnext.isEnabled,bgColorUpnext:this._configBrand.chromecast.upnext.bgColor?this._configBrand.chromecast.upnext.bgColor:this._configBrand.general.brandColor,namespaceUpnext:this._configBrand.chromecast.upnext.namespace,urlIconPlaylist:r.imageBaseUrl+"buttons/chromecast/playlist.svg",urlIconPlaylistPlay:r.imageBaseUrl+"buttons/chromecast/playlistPlay.svg",urlIconPlaylistLock:r.imageBaseUrl+"buttons/chromecast/playlistLock.svg",uiLanguage:this._uiLanguage,playbackLanguage:this._playbackLanguage,enableEpisodeList:this._configBrand.player.enableEpisodeList,enableEpisodeListDetailed:this._configBrand.player.enableEpisodeListDetailed,vidiVersion:r.vidiVersion,adUnitSuperhub:this._adUnitSuperhub,enableSurroundSound:void 0!==this._chromecastSettings.enableSurroundSound?this._chromecastSettings.enableSurroundSound:this._configBrand.chromecast.enableSurroundSound,quality:this._chromecastSettings.quality?this._chromecastSettings.quality:this._configBrand.chromecast.quality,enableSkipBreaks:this._configBrand.chromecast.skipBreaks.enable||[],namespaceSkip:this._configBrand.chromecast.skipBreaks.namespace||""}))},t.exports=l},{"../configs/gulp":281,"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-chromecast-vidi":132,"bm-videoplayer-jw-plugin-chromecast-vidi/configs/options":133}],296:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin-comscore"),o=e("../configs/gulp")().data,r=(e("path"),e("./plugin")),s=function(e){if(!(this instanceof s))return new s(e);s.super_.apply(this,arguments),this._destinationCode=e.destinationCode,this._configBrand=e.configBrand};i.inherits(s,r);var l=s.prototype;l._configBrand={},l._destinationCode="",l.getPluginInstance=function(){var e={comscoreConfig:{publisherId:this._configBrand.analytics.comscore.publisherId,numerisStationCode:this._configBrand.analytics.comscore.numerisStationCode,liveEndpointURL:this._configBrand.analytics.comscore.url,path:o.urlComscore,destinationCode:this._destinationCode||this._configBrand.capi.destinationCode,c3:this._configBrand.analytics.comscore.c3,c6:this._configBrand.analytics.comscore.c6}};return a(e)},t.exports=s},{"../configs/gulp":281,"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-plugin-comscore":178,path:271}],297:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin-concurrency-capi-bond"),o=e("./plugin"),r=function(e){if(!(this instanceof r))return new r(e);r.super_.apply(this,arguments),this._interval=e&&e.interval?e.interval:3e4};i.inherits(r,o);var s=r.prototype;s._interval=3e4,s.getPluginInstance=function(){return a({interval:this._interval})},t.exports=r},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-plugin-concurrency-capi-bond":179}],298:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-continue-watching"),o=e("./plugin"),r=function(){if(!(this instanceof r))return new r;r.super_.apply(this,arguments)};i.inherits(r,o),r.prototype.getPluginInstance=function(){return a({})},t.exports=r},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-continue-watching":135}],299:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin-conviva-html5"),o=e("../configs/gulp")().data,r=(e("path"),e("./plugin")),s=function(e){if(!(this instanceof s))return new s(e);s.super_.apply(this,arguments),this._playerConfig=e.playerConfig,this._configBrand=e.configBrand,this._playbackLanguage=e.playbackLanguage};i.inherits(s,r);var l=s.prototype;l._playerConfig="",l._configBrand={},l._playbackLanguage="",l.getPluginInstance=function(){var e={playerConfig:this._playerConfig,customerKey:this._configBrand.analytics.convivaHTML5.customerKey,url:o.urlConvivaHTML5,playerName:this._configBrand.analytics.convivaHTML5.playerNamePrefix+" VIDI Web",playerVersion:o.vidiVersion,multiplex:this._configBrand.player.enableMultiplex.toString(),playbackLanguage:this._playbackLanguage,brandLabel:this._configBrand.analytics.convivaHTML5.brandLabel};return a(e)},t.exports=s},{"../configs/gulp":281,"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-plugin-conviva-html5":180,path:271}],300:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-conviva"),o=e("../configs/gulp")().data,r=(e("path"),e("./plugin")),s=function(e){if(!(this instanceof s))return new s(e);s.super_.apply(this,arguments),this._configBrand=e.configBrand,this._playbackLanguage=e.playbackLanguage};i.inherits(s,r);var l=s.prototype;l._configBrand={},l._playbackLanguage="",l.getPluginInstance=function(){var e={customerKey:this._configBrand.analytics.conviva.customerKey,url:this._configBrand.analytics.conviva.url,playerName:this._configBrand.analytics.conviva.playerNamePrefix+" VIDI Web",playerVersion:o.vidiVersion,brand:this._configBrand.general.brandName,multiplex:this._configBrand.player.enableMultiplex.toString(),playbackLanguage:this._playbackLanguage};return a(e)},t.exports=s},{"../configs/gulp":281,"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-conviva":136,path:271}],301:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-custom-loader"),o=(e("../configs/gulp")().data,e("./plugin")),r=function(e){if(!(this instanceof r))return new r(e);r.super_.apply(this,arguments),this._configBrand=e.configBrand};i.inherits(r,o);var s=r.prototype;s._configBrand={},s.getPluginInstance=function(){return a({urlCustomLoader:this._configBrand.player.urlCustomLoader})},t.exports=r},{"../configs/gulp":281,"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-custom-loader":137}],302:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin-custom-playlist-vidi"),o=e("../configs/gulp")().data,r=e("./plugin"),s=function(t){if(!(this instanceof s))return new s(t);o=e("../configs/gulp")().data,s.super_.apply(this,arguments),this._options=t};i.inherits(s,r),s.prototype.getPluginInstance=function(){var e={playlistItems:this._options.playlistItems,arrContentIds:this._options.arrContentIds,enablePlaylistOverlay:this._options.enablePlaylistOverlay,enablePreviousButton:this._options.enablePreviousButton,urlIconNextItem:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="176" height="448" viewBox="0 0 176 448" class="jw-svg-icon"><title>Next</title><path d="M10.104 98.066c-4.169-4.169-7.506-2.67-7.506 3.171v245.53c0 5.838 3.335 7.337 7.506 3.171l118.429-118.429c1.002-1.002 1.669-2.001 2.169-3.171v113.093c0 5.838 4.84 10.675 10.675 10.675h21.35c5.838 0 10.675-4.84 10.675-10.675v-234.855c0-5.838-4.84-10.675-10.675-10.675h-21.35c-5.838 0-10.675 4.84-10.675 10.675v113.093c-0.498-1.167-1.167-2.169-2.169-3.171z"></path></svg>',urlIconPreviousItem:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="176" height="448" viewBox="0 0 176 448" class="jw-svg-icon"><title>Previous</title><path d="M165.896 98.066c4.169-4.169 7.506-2.67 7.506 3.171v245.53c0 5.838-3.335 7.337-7.506 3.171l-118.429-118.429c-1.002-1.002-1.669-2.001-2.169-3.171v113.093c0 5.838-4.84 10.675-10.675 10.675h-21.35c-5.838 0-10.675-4.84-10.675-10.675v-234.855c0-5.838 4.84-10.675 10.675-10.675h21.35c5.838 0 10.675 4.84 10.675 10.675v113.093c0.498-1.167 1.167-2.169 2.169-3.171z"></path></svg>',urlIconPlaylist:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="496" height="640" viewBox="0 0 496 640" class="jw-svg-icon"><title>Playlist</title><path d="M432.922 161.577c-2.464-9.68-14.433-17.577-26.62-17.577h-316.58c-12.21 0-24.177 7.898-26.62 17.577l-4.422 26.423h378.642l-4.4-26.423zM455.074 210h-414.15c-7.524 0-13.398 6.468-12.694 13.97l20.305 256.717c0.835 8.668 8.14 15.313 16.852 15.313h365.222c8.734 0 16.015-6.644 16.853-15.313l20.305-256.717c0.725-7.502-5.17-13.97-12.694-13.97zM204.013 408v-110l96.425 55-96.425 55z"></path></svg>',playIconImgUrl:o.imageBaseUrl+"endscreen/PlayIcon-38x38.png",playLockIconImgUrl:o.imageBaseUrl+"endscreen/PlayLockIcon-38x38.png"};return a(e)},t.exports=s},{"../configs/gulp":281,"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-plugin-custom-playlist-vidi":181}],303:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-drmslate-ios"),o=e("../configs/gulp")().data,r=e("./plugin"),s=function(e){if(!(this instanceof s))return new s(e);s.super_.apply(this,arguments),this._configBrand=e.configBrand};i.inherits(s,r);var l=s.prototype;l._configBrand={},l.getPluginInstance=function(){return a({urlAppStoreIos:this._configBrand.general.links.iosAppStore,urlAppStoreBadge:o.imageBaseUrl+"badges/vidi-app-store-badge.png"})},t.exports=s},{"../configs/gulp":281,"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-drmslate-ios":140}],304:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin-endscreen-capi"),o=e("./plugin"),r=function(e){if(!(this instanceof r))return new r(e);r.super_.apply(this,arguments),
this._configEndscreen=e.configEndscreen};i.inherits(r,o);var s=r.prototype;s._configEndscreen={},s.getPluginInstance=function(){var e={playIconImgUrl:this._configEndscreen.playIconImgUrl,playLockIconImgUrl:this._configEndscreen.playLockIconImgUrl};return a(e)},t.exports=r},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-plugin-endscreen-capi":182}],305:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-episode-list-v1"),o=(e("../configs/gulp")().data,e("./plugin")),r=function(e){if(!(this instanceof r))return new r(e);r.super_.apply(this,arguments),this._configBrand=e.configBrand};i.inherits(r,o);var s=r.prototype;s._configBrand={},s.getPluginInstance=function(){return a({urlEpisodeListButton:'<svg class="jw-svg-icon" width="32" height="32" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path class="cls-1" d="M3.59,27.41H26.11V10.87H3.59Zm2.08-14.5H24V25.38H5.67Z"/><polygon class="cls-1" points="13.33 21.69 17.35 19.07 13.33 16.44 13.33 21.69"/><polygon class="cls-1" points="6.65 8.75 28.25 8.75 28.25 24.6 29.26 24.6 29.26 7.74 6.65 7.74 6.65 8.75"/><polygon class="cls-1" points="9.79 4.59 9.79 5.6 31.39 5.6 31.39 21.45 32.41 21.45 32.41 4.59 9.79 4.59"/></svg>',brandType:this._configBrand.general.brandType,enableSeasonList:this._configBrand.player.enableEpisodeSeasonList})},t.exports=r},{"../configs/gulp":281,"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-episode-list-v1":141}],306:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-episode-list"),o=(e("../configs/gulp")().data,e("./plugin")),r=function(e){if(!(this instanceof r))return new r(e);r.super_.apply(this,arguments),this._configBrand=e.configBrand};i.inherits(r,o);var s=r.prototype;s._configBrand={},s.getPluginInstance=function(){return a({urlEpisodeListButton:'<svg class="jw-svg-icon" width="32" height="32" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path class="cls-1" d="M3.59,27.41H26.11V10.87H3.59Zm2.08-14.5H24V25.38H5.67Z"/><polygon class="cls-1" points="13.33 21.69 17.35 19.07 13.33 16.44 13.33 21.69"/><polygon class="cls-1" points="6.65 8.75 28.25 8.75 28.25 24.6 29.26 24.6 29.26 7.74 6.65 7.74 6.65 8.75"/><polygon class="cls-1" points="9.79 4.59 9.79 5.6 31.39 5.6 31.39 21.45 32.41 21.45 32.41 4.59 9.79 4.59"/></svg>',brandType:this._configBrand.general.brandType,enableSeasonList:this._configBrand.player.enableEpisodeSeasonList})},t.exports=r},{"../configs/gulp":281,"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-episode-list":142}],307:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-event-capi"),o=e("./plugin"),r=function(){if(!(this instanceof r))return new r;r.super_.apply(this,arguments)};i.inherits(r,o),r.prototype.getPluginInstance=function(){return a()},t.exports=r},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-event-capi":143}],308:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin-fifa-stats"),o=e("../configs/gulp")().data,r=e("./plugin"),s=function(e){if(!(this instanceof s))return new s(e);s.super_.apply(this,arguments),this._pulse=e.pulse};i.inherits(s,r);var l=s.prototype;l._pulse=5e3,l.getPluginInstance=function(){var e={pulse:this._pulse,urlFifaStatsImage:o.imageBaseUrl+"buttons/fifa/Overlay-button.png"};return a(e)},t.exports=s},{"../configs/gulp":281,"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-plugin-fifa-stats":184}],309:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin-floatplayer"),o=e("./plugin"),r=function(e){if(!(this instanceof r))return new r(e);r.super_.apply(this,arguments),this._configFloatplayer=e.configBrand.player.floatplayer||{}};i.inherits(r,o);var s=r.prototype;s._configFloatplayer={},s.getPluginInstance=function(){var e={placeholderClassName:this._configFloatplayer.placeholderClassName,placeholderBackgroundImage:this._configFloatplayer.placeholderBackgroundImage,floatClassName:this._configFloatplayer.floatClassName,floatPositionX:this._configFloatplayer.floatPositionX,floatPositionY:this._configFloatplayer.floatPositionY,floatOffsetX:this._configFloatplayer.floatOffsetX,floatOffsetY:this._configFloatplayer.floatOffsetY,floatWidth:this._configFloatplayer.floatWidth,enableDismissButton:this._configFloatplayer.enableDismissButton};return a(e)},t.exports=r},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-plugin-floatplayer":185}],310:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin-google-analytics"),o=e("./plugin"),r=function(e){if(!(this instanceof r))return new r(e);r.super_.apply(this,arguments),this._configBrand=e.configBrand};i.inherits(r,o);var s=r.prototype;s._configBrand={},s.getPluginInstance=function(){var e={url:this._configBrand.analytics.google.url,uTag:this._configBrand.analytics.google.uTag};return a(e)},t.exports=r},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-plugin-google-analytics":187}],311:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-info-overlay"),o=(e("../configs/gulp")().data,e("./plugin")),r=function(e){if(!(this instanceof r))return new r(e);r.super_.apply(this,arguments),this._configBrand=e.configBrand};i.inherits(r,o);var s=r.prototype;s._configBrand={},s.getPluginInstance=function(){return a({urlInfoButton:'<svg class="jw-svg-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><title>info</title><path d="M14 9.5c0-0.825 0.675-1.5 1.5-1.5h1c0.825 0 1.5 0.675 1.5 1.5v1c0 0.825-0.675 1.5-1.5 1.5h-1c-0.825 0-1.5-0.675-1.5-1.5v-1z"></path><path d="M20 24h-8v-2h2v-6h-2v-2h6v8h2z"></path></svg>',brandType:this._configBrand.general.brandType})},t.exports=r},{"../configs/gulp":281,"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-info-overlay":144}],312:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-intro-overlay"),o=e("./plugin"),r=function(e){if(!(this instanceof r))return new r(e);r.super_.apply(this,arguments),this._configIntroOverlay=e.configBrand.player.introOverlay||{}};i.inherits(r,o);var s=r.prototype;s._configIntroOverlay={},s.getPluginInstance=function(){return a(this._configIntroOverlay)},t.exports=r},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-intro-overlay":145}],313:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-language"),o=e("./plugin"),r=function(){if(!(this instanceof r))return new r;r.super_.apply(this,arguments)};i.inherits(r,o),r.prototype.getPluginInstance=function(){return a()},t.exports=r},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-language":146}],314:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin-userdal-lastpos"),o=(e("path"),e("./plugin")),r=function(e){if(!(this instanceof r))return new r(e);r.super_.apply(this,arguments),this._mode=e&&e.mode?e.mode:"w",this._profileId=e&&e.profileId?e.profileId:void 0};i.inherits(r,o);var s=r.prototype;s._profileId=void 0,s._mode="w",s.getPluginInstance=function(){return a({mode:this._mode,profileId:this._profileId})},t.exports=r},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-plugin-userdal-lastpos":200,path:271}],315:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-moat"),o=e("./plugin"),r=function(e){if(!(this instanceof r))return new r(e);r.super_.apply(this,arguments),this._configBrand=e.configBrand};i.inherits(r,o);var s=r.prototype;s._configBrand={},s.getPluginInstance=function(){var e={htmlPartnerCode:this._configBrand.analytics.moat.html5PartnerCode,path:this._configBrand.analytics.moat.url};return a(e,this._configBrand.ad)},t.exports=r},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-moat":147}],316:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("./plugin"),o=e("bm-videoplayer-plugin-mparticle"),r=function(e){if(!(this instanceof r))return new r(e);r.super_.apply(this,arguments),this._configBrand=e.configBrand,this._playbackLanguage=e.playbackLanguage};i.inherits(r,a);var s=r.prototype;s._configBrand={},s.getPluginInstance=function(){var e={brandName:this._configBrand.general.brandName,isEnabled:this._configBrand.analytics.mParticle.isEnabled,playbackLanguage:this._playbackLanguage};return o(e)},t.exports=r},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-plugin-mparticle":188}],317:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-multiplex"),o=e("./plugin"),r=function(e){if(!(this instanceof r))return new r(e);r.super_.apply(this,arguments),this._enableControls=e.enableControls};i.inherits(r,o);var s=r.prototype;s._enableControls=!1,s.getPluginInstance=function(){return a({enableControls:this._enableControls})},t.exports=r},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-multiplex":148}],318:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-mute"),o=e("./plugin"),r=function(){if(!(this instanceof r))return new r;r.super_.apply(this,arguments)};i.inherits(r,o),r.prototype.getPluginInstance=function(){return a({})},t.exports=r},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-mute":149}],319:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin-omniture"),o=(e("path"),e("./plugin")),r=function(e){if(!(this instanceof r))return new r(e);r.super_.apply(this,arguments),this._configBrand=e.configBrand,this._vidiVersion=e.vidiVersion};i.inherits(r,o);var s=r.prototype;s._configBrand={},s._vidiVersion="",s.getPluginInstance=function(){var e={},t={brandName:this._configBrand.general.brandName,destinationCode:this._configBrand.capi.destinationCode,vidiVersion:this._vidiVersion};return a(e,t)},t.exports=r},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-plugin-omniture":189,path:271}],320:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin-pause-ads"),o=e("./plugin"),r=function(e){if(!(this instanceof r))return new r(e);r.super_.apply(this),this._configBrandAd=e.configBrandAd,this._adUnitSuperhub=e.adUnitSuperhub};i.inherits(r,o);var s=r.prototype;s._configBrandAd={},s._debugKey="bm-pause-ads-debug",s._adUnitSuperhub={},s.getPluginInstance=function(){return a(this._configBrandAd,this._adUnitSuperhub)},t.exports=r},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-plugin-pause-ads":190}],321:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin-permutive"),o=e("./plugin"),r=function(e){if(!(this instanceof r))return new r(e);r.super_.apply(this,arguments),this._configBrand=e.configBrand,this._vidiVersion=e.vidiVersion};i.inherits(r,o);var s=r.prototype;s._configBrand={},s._vidiVersion="1.0.0",s.getPluginInstance=function(){var e={brandName:this._configBrand.general.brandName,vidiVersion:this._vidiVersion,videoPlatform:this._configBrand.capi.host,multiplexPlayer:this._configBrand.player.enableMultiplex};return a(e)},t.exports=r},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-plugin-permutive":191}],322:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin-picture-in-picture"),o=e("./plugin"),r=function(){if(!(this instanceof r))return new r;r.super_.apply(this,arguments)};i.inherits(r,o),r.prototype.getPluginInstance=function(){return a()},t.exports=r},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-plugin-picture-in-picture":192}],323:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-playlist-auth"),o=(e("../configs/gulp")().data,e("./plugin")),r=function(e){if(!(this instanceof r))return new r(e);r.super_.apply(this,arguments),this._enableFhd=e.enableFhd};i.inherits(r,o);var s=r.prototype;s._enableFhd=!1,s._configBrand={},s.getPluginInstance=function(){return a({enableFhd:this._enableFhd})},t.exports=r},{"../configs/gulp":281,"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-playlist-auth":152}],324:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-playlist-capi"),o=(e("../configs/gulp")().data,e("./plugin")),r=function(){if(!(this instanceof r))return new r;r.super_.apply(this,arguments)};i.inherits(r,o);var s=r.prototype;s._configBrand={},s.getPluginInstance=function(){return a()},t.exports=r},{"../configs/gulp":281,"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-playlist-capi":153}],325:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-playlist-check-captions"),o=(e("../configs/gulp")().data,e("./plugin")),r=function(){if(!(this instanceof r))return new r;r.super_.apply(this,arguments)};i.inherits(r,o),r.prototype.getPluginInstance=function(){return a()},t.exports=r},{"../configs/gulp":281,"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-playlist-check-captions":154}],326:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-playlist-jwt"),o=(e("../configs/gulp")().data,e("./plugin")),r=function(e){if(!(this instanceof r))return new r(e);r.super_.apply(this,arguments),this._enableFhd=e.enableFhd};i.inherits(r,o);var s=r.prototype;s._enableFhd=!1,s.getPluginInstance=function(){return a({enableFhd:this._enableFhd})},t.exports=r},{"../configs/gulp":281,"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-playlist-jwt":155}],327:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-playlist-livestream"),o=(e("../configs/gulp")().data,e("./plugin")),r=function(){if(!(this instanceof r))return new r;r.super_.apply(this,arguments)};i.inherits(r,o);var s=r.prototype;s._configBrand={},s.getPluginInstance=function(){return a()},t.exports=r},{"../configs/gulp":281,"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-playlist-livestream":156}],328:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-playlist-log-manifest-errors"),o=(e("../configs/gulp")().data,e("./plugin")),r=function(){if(!(this instanceof r))return new r;r.super_.apply(this,arguments)};i.inherits(r,o);var s=r.prototype;s._configBrand={},s.getPluginInstance=function(){return a()},t.exports=r},{"../configs/gulp":281,"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-playlist-log-manifest-errors":157}],329:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin-qos"),o=e("../configs/gulp")().data,r=e("./plugin"),s=function(e){if(!(this instanceof s))return new s(e);s.super_.apply(this,arguments),this._configBrand=e.configBrand,this._playbackLanguage=e.playbackLanguage};i.inherits(s,r);var l=s.prototype;l._configBrand={},l._playbackLanguage="",l.getPluginInstance=function(){var e={adsTracking:this._configBrand.analytics.qos.adsTracking,heartbeatFrequency:this._configBrand.analytics.qos.heartbeatFrequency,activePercentage:this._configBrand.analytics.qos.activePercentage,urlNewRelicJwPluginScript:o.urlNewRelicJwPluginScript,brand:this._configBrand.analytics.qos.brandName||this._configBrand.general.brandName,playbackLanguage:this._playbackLanguage};return a(e)},t.exports=s},{"../configs/gulp":281,"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-plugin-qos":194}],330:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-restrictions-capi-auth"),o=e("./plugin"),r=function(e){if(!(this instanceof r))return new r(e);r.super_.call(this),this._enableAutoplay=e||!1};i.inherits(r,o);var s=r.prototype;s._enableAutoplay=!1,s.getPluginInstance=function(){return a(this._enableAutoplay)},t.exports=r},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-restrictions-capi-auth":158}],331:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-restrictions-capi-jwt"),o=e("./plugin"),r=function(e){if(!(this instanceof r))return new r(e);r.super_.call(this),this._configBrand=e.configBrand};i.inherits(r,o);var s=r.prototype;s._configBrand={},s.getPluginInstance=function(){var e={hostAccount:this._configBrand.user.userManagement.host,service:this._configBrand.user.userManagement.service,urlContinue:this._configBrand.user.userManagement.continue,urlFallback:this._configBrand.user.userManagement.fallback,urlLang:this._configBrand.user.userManagement.lang};return a(e)},t.exports=r},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-restrictions-capi-jwt":159}],332:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin-restrictions-capi"),o=e("./plugin"),r=function(){if(!(this instanceof r))return new r;r.super_.call(this)};i.inherits(r,o),r.prototype.getPluginInstance=function(){return a()},t.exports=r},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-plugin-restrictions-capi":196}],333:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-sharing"),o=e("bm-videoplayer-jw-plugin-sharing/config/settings"),r=e("./plugin"),s=function(e){if(!(this instanceof s))return new s(e);s.super_.apply(this,arguments),this._configBrand=e.configBrand,this._configBrand.shareableHost=e.shareableHost,this._configBrand.shareablePath=e.shareablePath,this._configBrand.shareablePlayerConfigBrand=e.shareablePlayerConfigBrand};i.inherits(s,r);var l=s.prototype;l._configBrand={},l.getPluginInstance=function(){var e={enableShareable:this._configBrand.player.enableShareable,configShareablePath:this._configBrand.player.configShareablePath,shareableHost:this._configBrand.shareableHost,shareablePath:this._configBrand.shareablePath,shareType:this._configBrand.player.shareType,adsite:this._configBrand.shareablePlayerConfigBrand.ad.desktop.masterTag.adsite,adzone:this._configBrand.shareablePlayerConfigBrand.ad.desktop.masterTag.adzone,playerSize:{enablePlayerAutoSizeRatio:this._configBrand.shareablePlayerConfigBrand.player.playerSize.enablePlayerAutoSizeRatio,width:this._configBrand.shareablePlayerConfigBrand.player.playerSize.width,height:this._configBrand.shareablePlayerConfigBrand.player.playerSize.height},kruxId:this._configBrand.analytics.krux.id,enableShareableOverride:this._configBrand.player.enableShareableAllowOverrideFromCAPI,linkSocialShare:this._configBrand.player.socialShare.link?this._configBrand.player.socialShare.link:null,sitesSocialShare:this._configBrand.player.socialShare.link?this._configBrand.player.socialShare.sites:[]};return a(o().setData(e))},t.exports=s},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-sharing":160,"bm-videoplayer-jw-plugin-sharing/config/settings":161}],334:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-jw-plugin-skip-back-forward"),o=e("./plugin"),r=function(e){if(!(this instanceof r))return new r(e);r.super_.apply(this,arguments),this._enableSkipBack=e.enableSkipBack||!1,this._enableSkipForward=e.enableSkipForward||!1};i.inherits(r,o);var s=r.prototype;s._enableSkipBack=!1,s._enableSkipForward=!1,s.getPluginInstance=function(){return a(this._enableSkipBack,this._enableSkipForward)},t.exports=r},{"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-jw-plugin-skip-back-forward":162}],335:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin-skipbreaks-capi"),o=e("./plugin"),r=e("../configs/gulp")().data,s=function(e){if(!(this instanceof s))return new s(e);s.super_.apply(this,arguments),this._configBrand=e.configBrand};i.inherits(s,o);var l=s.prototype;this._configBrand={},l.getPluginInstance=function(){var e={enabledSkipBreaks:this._configBrand.player.skipBreaks.enable,skipBreakIconUrl:r.imageBaseUrl+"skipbreaks/SkipIcon.svg"};return a(e)},t.exports=s},{"../configs/gulp":281,"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-plugin-skipbreaks-capi":198}],336:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=e("bm-videoplayer-plugin-upnext-capi"),o=e("./plugin"),r=e("../configs/gulp")().data,s=function(e){if(!(this instanceof s))return new s(e);s.super_.apply(this,arguments),this._configBrand=e.configBrand};i.inherits(s,o);var l=s.prototype;this._configBrand={},l.getPluginInstance=function(){var e={upnextOffset:this._configBrand.player.upnextOffset,brandColor:this._configBrand.general.brandColor,playImgUrl:r.imageBaseUrl+"endscreen/PlayIcon-38x38.png",dismissImgUrl:r.imageBaseUrl+"buttons/upNext/dismiss_x.svg",upnextDuration:this._configBrand.player.upnextDuration};return a(e)},t.exports=s},{"../configs/gulp":281,"./plugin":337,"@bellmedia/bm-base":11,"bm-videoplayer-plugin-upnext-capi":199}],337:[function(e,t,n){var i=e("@bellmedia/bm-base"),a=function(e){if(!(this instanceof a))return new a(e);a.super_.apply(this,arguments)};i.inherits(a,i),a.prototype.getPluginInstance=i.abstractMethod,t.exports=a},{"@bellmedia/bm-base":11}],338:[function(e,t,n){var i=(e("@bellmedia/bm-base"),{});i.on=function(){this._eventPlayer.on.apply(this._eventPlayer,arguments)},i.once=function(){this._eventPlayer.once.apply(this._eventPlayer,arguments)},i.off=function(){this._eventPlayer.off.apply(this._eventPlayer,arguments)},t.exports=i},{"@bellmedia/bm-base":11}],339:[function(e,t,n){(function(n){(function(){var i=(e("@bellmedia/bm-base"),"undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null),a={};a.destroy=function(){this._instanceBMVideoplayerJw&&this._instanceBMVideoplayerJw.destroy(),i("#"+this._playerId).remove()},a.getPlayerId=function(){return this._playerId},a.resize=function(e,t){this._instanceBMVideoplayerJw&&this._instanceBMVideoplayerJw.resize(e,t)},a.getCurrentAvailableQualities=function(){return this._instanceBMVideoplayerJw?this._instanceBMVideoplayerJw.getCurrentAvailableQualities():[]},a.setCurrentQuality=function(e){this._instanceBMVideoplayerJw&&this._instanceBMVideoplayerJw.setCurrentStreamQuality(e)},t.exports=a}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@bellmedia/bm-base":11}],340:[function(e,t,n){var i=(e("@bellmedia/bm-base"),e("bm-videoplayer/models/playlist")),a=e("bm-videoplayer/models/playlist/item"),o=e("underscore"),r={};r.play=function(){this._instanceBMVideoplayerJw&&this._instanceBMVideoplayerJw.play()},r.pause=function(){this._instanceBMVideoplayerJw&&this._instanceBMVideoplayerJw.pause()},r.playItemByContentId=function(e){if(this._instanceBMVideoplayerJw){var t=o.findIndex(this._instanceBMVideoplayerJw.getPlaylist().data.items,function(t){return t.data.mediaId.toString()===e.toString()});if(-1!==t)return this._instanceBMVideoplayerJw.hideView(),this._instanceBMVideoplayerJw&&this._instanceBMVideoplayerJw.playItem(t),!0;var n=o.filter(o.isArray(this._playlistItems._data.items)?this._playlistItems._data.items:[],function(t){return e.toString()===t.data.mediaId.toString()});return null!==this._instanceBMVideoplayerJw.getView()&&this._instanceBMVideoplayerJw.hideView(),this._instanceBMVideoplayerJw.loadPlaylist(i().setData({title:"",description:"",items:[a().setData(n.length>0?o.first(n).data:{mediaId:e})]}),!0),!1}},r.playItemByIndex=function(e){this._instanceBMVideoplayerJw.hideView(),this._instanceBMVideoplayerJw&&this._instanceBMVideoplayerJw.playItem(e)},r.playItemNext=function(){this._instanceBMVideoplayerJw&&this._instanceBMVideoplayerJw.playItemNext()},r.playItemPrevious=function(){this._instanceBMVideoplayerJw&&this._instanceBMVideoplayerJw.playItemPrevious()},t.exports=r},{"@bellmedia/bm-base":11,"bm-videoplayer/models/playlist":208,"bm-videoplayer/models/playlist/item":209,underscore:274}],341:[function(e,t,n){var i=e("bm-service-factory-translation"),a=i;BMServiceFactoryAuth=e("bm-service-factory-auth"),bmServiceFactoryAuth=BMServiceFactoryAuth,BMServiceFactoryCapi=e("bm-service-factory-capi"),bmServiceFactoryCapi=BMServiceFactoryCapi,BMServiceFactoryMediaProvider=e("bm-service-factory-media-provider"),bmServiceFactoryMediaProvider=BMServiceFactoryMediaProvider,BMServiceFactoryUserdal=e("bm-service-factory-userdal"),bmServiceFactoryUserdal=BMServiceFactoryUserdal,BMServiceFactoryReco=e("bm-service-factory-reco"),bmServiceFactoryReco=BMServiceFactoryReco,a().setDefaultType(i.TYPE_MAP),bmServiceFactoryCapi().setDefaultType(BMServiceFactoryCapi.TYPE_CAPI),t.exports={appServices:function(e){},playerInstanceServices:function(e){a().injectDependencies(e.bmServiceFactoryTranslation),bmServiceFactoryAuth().injectDependencies(e.bmServiceFactoryAuth),bmServiceFactoryCapi().injectDependencies(e.bmServiceFactoryCapi),!0===e.bmServiceFactoryMediaProvider.mediaProviderCapiConfig.data.enableBond?(bmServiceFactoryMediaProvider().setDefaultType(BMServiceFactoryMediaProvider.TYPE_CAPI_BOND),bmServiceFactoryReco().setDefaultType(BMServiceFactoryReco.TYPE_RECO),bmServiceFactoryAuth().setDefaultType(BMServiceFactoryAuth.TYPE_JWTAUTH)):(bmServiceFactoryMediaProvider().setDefaultType(BMServiceFactoryMediaProvider.TYPE_CAPI),bmServiceFactoryUserdal().setDefaultType(BMServiceFactoryUserdal.TYPE_USERDAL),bmServiceFactoryAuth().setDefaultType(BMServiceFactoryAuth.TYPE_BMAUTH2)),bmServiceFactoryMediaProvider().injectDependencies(e.bmServiceFactoryMediaProvider),bmServiceFactoryUserdal().injectDependencies(e.bmServiceFactoryUserdal),bmServiceFactoryReco().injectDependencies(e.bmServiceFactoryReco)}}},{"bm-service-factory-auth":116,"bm-service-factory-capi":117,"bm-service-factory-media-provider":118,"bm-service-factory-reco":119,"bm-service-factory-translation":120,"bm-service-factory-userdal":121}],342:[function(e,t,n){t.exports="\n.jw-icon:hover, .jw-state-buffering .jw-display-icon-display .jw-icon-display{\n    color: <%= color %>;\n}\n\n.jw-progress, .jw-dock-button:hover{\n    background-color: <%= color %>;\n}\n\n.jw-dock{\n    clear: both !important;\n}"},{}],343:[function(e,t,n){t.exports='#<%- uniqueId %>:before {\n    display: block;\n    content: "";\n    width: <%- width %>;\n    height: <%- height %>;\n    padding-top: <%- paddingTop %>;\n}\n\n#<%- uniqueId %> > div.jw-display-container {\n    position: absolute; \n    top: 0; \n    left: 0; \n    right: 0; \n    bottom: 0; \n}\n\n'},{}],344:[function(e,t,n){t.exports=".jw-rightclick ul {\n    display: none;\n}\n\n.jw-controlbar{\n    background: rgba(0,0,0,0.5) !important;\n    z-index: 99;\n}\n\n.jw-state-playing:not(.jw-flag-user-inactive) .jw-title,\n.jw-state-paused .jw-title{\n    display: block !important;\n}\n\n.hide-playback-button,\n.jw-error .jw-title,\n.jw-state-error.bm-video-player-bm-view-message .jw-title,\n.jw-flag-ads.jw-state-playing:not(.jw-flag-user-inactive) .jw-title,\n.jw-flag-ads.jw-state-paused .jw-title{\n    display: none !important;\n}\n\n[class*='bm-view'] {\n    z-index: 99;\n}\n\n.jw-state-error {\n    display: inline-block !important;\n}\n\n.jw-settings-content-item .jw-tooltip {\n    bottom: -20px !important;\n}\n\n.jw-settings-content-item .jw-tooltip:after {\n    top: 20% !important;\n}\n\n.jw-controls-backdrop {\n  background: transparent !important;\n  opacity: 1 !important;\n}\n\n.jw-state-idle .jw-controls {\n  background: transparent !important;\n  opacity: 1 !important;\n}"},{}],345:[function(e,t,n){t.exports="#<%- uniqueId %> .jw-playlist-btn {\n    display: none !important;\n}"},{}]},{},[287]);